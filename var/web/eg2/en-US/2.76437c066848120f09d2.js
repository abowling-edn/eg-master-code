(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+CBd":function(n,l,t){"use strict";t.d(l,"a",function(){return a}),t.d(l,"b",function(){return f});var e=t("CcnG"),u=t("Ip0R"),i=t("9AJC"),r=t("4GxJ"),o=t("gIcY"),a=(t("vG6Q"),t("ZvpF"),t("x6nW"),e.pb({encapsulation:2,styles:[],data:{}}));function s(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["error"]))],null,null)}function c(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" Cannot edit this date or time. "]))],null,null)}function d(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,3,"div",[["class","alert alert-danger"],["role","alert"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["error"])),(n()(),e.Jb(3,null,[" "," "]))],null,function(n,l){var t=l.component;n(l,3,0,t.firstError(t.controlDir.control.errors))})}function b(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,d)),e.qb(2,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(3,0,null,null,7,"ngb-datepicker",[["formControlName","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"touch"]],function(n,l,t){var e=!0;return"touch"===l&&(e=!1!==n.component.onTouched()&&e),e},i.j,i.e)),e.Gb(512,null,r.ub,r.ub,[r.h,r.r]),e.Gb(512,null,r.vb,r.vb,[r.ub,r.h]),e.qb(6,4964352,[[1,4],["datePicker",4]],0,r.p,[r.vb,r.ub,r.h,r.r,r.q,e.h,e.k,r.n,e.A],{footerTemplate:[0,"footerTemplate"]},null),e.Gb(1024,null,o.n,function(n){return[n]},[r.p]),e.qb(8,671744,null,0,o.i,[[3,o.c],[8,null],[8,null],[6,o.n],[2,o.E]],{name:[0,"name"]},null),e.Gb(2048,null,o.o,null,[o.i]),e.qb(10,16384,null,0,o.p,[[4,o.o]],null,null)],function(n,l){var t=l.component;n(l,2,0,t.controlDir&&t.controlDir.control.errors),n(l,6,0,e.Bb(l.parent,33)),n(l,8,0,"date")},function(n,l){n(l,3,0,e.Bb(l,10).ngClassUntouched,e.Bb(l,10).ngClassTouched,e.Bb(l,10).ngClassPristine,e.Bb(l,10).ngClassDirty,e.Bb(l,10).ngClassValid,e.Bb(l,10).ngClassInvalid,e.Bb(l,10).ngClassPending)})}function p(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"span",[["class","badge badge-info"]],null,null,null,null,null)),(n()(),e.Jb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.timezone)})}function h(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"span",[["class","badge badge-warning"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Timezone not set"]))],null,null)}function m(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,5,"ngb-timepicker",[["formControlName","time"],["name","time"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"touch"]],function(n,l,t){var e=!0;return"touch"===l&&(e=!1!==n.component.onTouched()&&e),e},i.l,i.g)),e.qb(1,573440,null,0,r.cb,[r.db,r.bb,e.h],{meridian:[0,"meridian"],spinners:[1,"spinners"],hourStep:[2,"hourStep"],minuteStep:[3,"minuteStep"]},null),e.Gb(1024,null,o.n,function(n){return[n]},[r.cb]),e.qb(3,671744,null,0,o.i,[[3,o.c],[8,null],[8,null],[6,o.n],[2,o.E]],{name:[0,"name"]},null),e.Gb(2048,null,o.o,null,[o.i]),e.qb(5,16384,null,0,o.p,[[4,o.o]],null,null),(n()(),e.ib(16777216,null,null,1,null,p)),e.qb(7,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,h)),e.qb(9,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(10,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n.parent,8).close()&&u),u},null,null)),(n()(),e.Jb(-1,null,["Choose time"]))],function(n,l){var t=l.component;n(l,1,0,!0,!0,1,t.minuteStep||30),n(l,3,0,"time"),n(l,7,0,t.showTZ&&t.timezone),n(l,9,0,t.showTZ&&!t.timezone)},function(n,l){n(l,0,0,e.Bb(l,5).ngClassUntouched,e.Bb(l,5).ngClassTouched,e.Bb(l,5).ngClassPristine,e.Bb(l,5).ngClassDirty,e.Bb(l,5).ngClassValid,e.Bb(l,5).ngClassInvalid,e.Bb(l,5).ngClassPending)})}function f(n){return e.Lb(0,[e.Hb(671088640,1,{datePicker:0}),(n()(),e.ib(16777216,null,null,1,null,s)),e.qb(2,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(3,0,null,null,30,"form",[["class","input-group"],["ngbDropdown",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"show",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var u=!0;return"submit"===l&&(u=!1!==e.Bb(n,5).onSubmit(t)&&u),"reset"===l&&(u=!1!==e.Bb(n,5).onReset()&&u),u},null,null)),e.qb(4,16384,null,0,o.C,[],null,null),e.qb(5,540672,null,0,o.k,[[8,null],[8,null]],{form:[0,"form"]},null),e.Gb(2048,null,o.c,null,[o.k]),e.qb(7,16384,null,0,o.q,[[4,o.c]],null,null),e.qb(8,737280,[["dt",4]],3,r.t,[e.h,r.v,u.e,e.A,e.k,e.E,[2,r.qb]],{autoClose:[0,"autoClose"]},null),e.Hb(335544320,2,{_menu:0}),e.Hb(335544320,3,{_menuElement:0}),e.Hb(335544320,4,{_anchor:0}),(n()(),e.rb(12,0,null,null,7,"input",[["class","form-control datetime-input"],["formControlName","stringVersion"],["type","datetime"]],[[1,"id",0],[8,"name",0],[1,"disabled",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"touch"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var u=!0,i=n.component;return"input"===l&&(u=!1!==e.Bb(n,13)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,13).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Bb(n,13)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Bb(n,13)._compositionEnd(t.target.value)&&u),"focus"===l&&(u=!1!==e.Bb(n,8).open()&&u),"touch"===l&&(u=!1!==i.onTouched()&&u),u},null,null)),e.qb(13,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.qb(14,16384,null,0,o.w,[],{required:[0,"required"]},null),e.Gb(1024,null,o.m,function(n){return[n]},[o.w]),e.Gb(1024,null,o.n,function(n){return[n]},[o.d]),e.qb(17,671744,null,0,o.i,[[3,o.c],[6,o.m],[8,null],[6,o.n],[2,o.E]],{name:[0,"name"]},null),e.Gb(2048,null,o.o,null,[o.i]),e.qb(19,16384,null,0,o.p,[[4,o.o]],null,null),(n()(),e.rb(20,0,null,null,5,"div",[["class","input-group-btn"]],null,null,null,null,null)),(n()(),e.rb(21,0,null,null,4,"button",[["aria-haspopup","true"],["aria-label","Select date and time"],["class","btn btn-primary dropdown-toggle"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,22).dropdown.toggle()&&u),"keydown.ArrowUp"===l&&(u=!1!==e.Bb(n,22).dropdown.onKeyDown(t)&&u),"keydown.ArrowDown"===l&&(u=!1!==e.Bb(n,22).dropdown.onKeyDown(t)&&u),"keydown.Home"===l&&(u=!1!==e.Bb(n,22).dropdown.onKeyDown(t)&&u),"keydown.End"===l&&(u=!1!==e.Bb(n,22).dropdown.onKeyDown(t)&&u),u},null,null)),e.qb(22,16384,null,0,r.y,[r.t,e.k],null,null),e.Gb(2048,[[4,4]],r.u,null,[r.y]),(n()(),e.rb(24,0,null,null,1,"span",[["class","material-icons mat-icon-in-button"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["event"])),(n()(),e.rb(26,0,[[3,0]],null,6,"div",[["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],function(n,l,t){var u=!0;return"keydown.ArrowUp"===l&&(u=!1!==e.Bb(n,27).dropdown.onKeyDown(t)&&u),"keydown.ArrowDown"===l&&(u=!1!==e.Bb(n,27).dropdown.onKeyDown(t)&&u),"keydown.Home"===l&&(u=!1!==e.Bb(n,27).dropdown.onKeyDown(t)&&u),"keydown.End"===l&&(u=!1!==e.Bb(n,27).dropdown.onKeyDown(t)&&u),"keydown.Enter"===l&&(u=!1!==e.Bb(n,27).dropdown.onKeyDown(t)&&u),"keydown.Space"===l&&(u=!1!==e.Bb(n,27).dropdown.onKeyDown(t)&&u),u},null,null)),e.qb(27,16384,[[2,4]],1,r.w,[r.t],null,null),e.Hb(603979776,5,{menuItems:1}),(n()(),e.ib(16777216,null,null,1,null,c)),e.qb(30,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,b)),e.qb(32,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(0,[["time",2]],null,0,null,m))],function(n,l){var t=l.component;n(l,2,0,t.controlDir&&!t.controlDir.control.valid),n(l,5,0,t.dateTimeForm),n(l,8,0,"outside"),n(l,14,0,t.required),n(l,17,0,"stringVersion"),n(l,30,0,t.readOnly),n(l,32,0,!t.readOnly)},function(n,l){var t=l.component;n(l,3,0,e.Bb(l,7).ngClassUntouched,e.Bb(l,7).ngClassTouched,e.Bb(l,7).ngClassPristine,e.Bb(l,7).ngClassDirty,e.Bb(l,7).ngClassValid,e.Bb(l,7).ngClassInvalid,e.Bb(l,7).ngClassPending,e.Bb(l,8).isOpen()),n(l,12,1,[t.domId.length?t.domId:null,e.tb(1,"",t.fieldName,""),!!t.readOnly||null,e.Bb(l,14).required?"":null,e.Bb(l,19).ngClassUntouched,e.Bb(l,19).ngClassTouched,e.Bb(l,19).ngClassPristine,e.Bb(l,19).ngClassDirty,e.Bb(l,19).ngClassValid,e.Bb(l,19).ngClassInvalid,e.Bb(l,19).ngClassPending]),n(l,21,0,e.Bb(l,22).dropdown.isOpen()),n(l,26,0,!0,e.Bb(l,27).dropdown.isOpen(),e.Bb(l,27).placement)})}},"36iw":function(n,l,t){"use strict";t.d(l,"a",function(){return u});var e=t("mrSG"),u=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return Object(e.c)(l,n),l}(t("rRT/").a)},"6rhm":function(n,l,t){"use strict";t.d(l,"a",function(){return i}),t.d(l,"b",function(){return c});var e=t("CcnG"),u=t("Ip0R"),i=(t("36iw"),t("4GxJ"),e.pb({encapsulation:2,styles:[],data:{}}));function r(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Jb(2,null,["",""]))],null,function(n,l){n(l,2,0,l.component.dialogBody)})}function o(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function a(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,o)),e.qb(2,540672,null,0,u.y,[e.P],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.ib(0,null,null,0))],function(n,l){n(l,2,0,l.component.dialogBodyTemplate)},null)}function s(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,5,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Jb(2,null,["",""])),(n()(),e.rb(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.close()&&e),e},null,null)),(n()(),e.rb(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["\xd7"])),(n()(),e.rb(6,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,r)),e.qb(8,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,a)),e.qb(10,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(11,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.rb(12,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.close(!0)&&e),e},null,null)),(n()(),e.Jb(-1,null,["Confirm"])),(n()(),e.rb(14,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.close(!1)&&e),e},null,null)),(n()(),e.Jb(-1,null,["Cancel"]))],function(n,l){var t=l.component;n(l,8,0,!t.dialogBodyTemplate),n(l,10,0,t.dialogBodyTemplate)},function(n,l){n(l,2,0,l.component.dialogTitle)})}function c(n){return e.Lb(0,[e.Hb(402653184,1,{dialogContent:0}),(n()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,s))],null,null)}},"7Apk":function(n,l,t){"use strict";t.d(l,"a",function(){return F}),t.d(l,"b",function(){return hn});var e=t("CcnG"),u=t("Ip0R"),i=t("RvO3"),r=t("TxlL"),o=t("MisT"),a=t("gIcY"),s=t("LTyc"),c=t("+CBd"),d=t("vG6Q"),b=t("ZvpF"),p=t("x6nW"),h=t("gBxT"),m=t("wVJ/"),f=t("8PDw"),g=t("OXuP"),y=t("cm5s"),v=t("wN9v"),C=t("nUl2"),w=t("9rfo"),B=t("wBwE"),I=t("iA0r"),x=t("MTty"),q=t("oCNH"),k=t("4GxJ"),O=t("YRS1"),P=t("A9LY"),D=t("StZw"),T=t("tNQm"),S=t("G8BM"),L=t("6rhm"),M=t("36iw"),F=(t("UUQ6"),e.pb({encapsulation:0,styles:['input[type="checkbox"][_ngcontent-%COMP%] {margin-left: 0px;}'],data:{}}));function V(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.closeEditor()&&e),e},null,null)),(n()(),e.rb(2,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["\xd7"]))],null,null)}function _(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,4,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Jb(2,null,["Record Editor: ",""])),(n()(),e.ib(16777216,null,null,1,null,V)),e.qb(4,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,4,0,l.component.isDialog())},function(n,l){n(l,2,0,l.component.recordLabel)})}function E(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"eg-progress-inline",[],null,null,null,i.b,i.a)),e.qb(2,49152,null,0,r.a,[],null,null)],null,null)}function $(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function G(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,$)),e.qb(2,540672,null,0,u.y,[e.P],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(n()(),e.ib(0,null,null,0))],function(n,l){n(l,2,0,l.component.customTemplateFieldContext(l.parent.context.$implicit),l.parent.context.$implicit.template)},null)}function A(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Jb(2,null,["",""]))],null,function(n,l){n(l,2,0,l.component.record[l.parent.context.$implicit.name]())})}function J(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e.Jb(2,null,["",""])),e.Fb(3,1)],null,function(n,l){var t=l.component,u=e.Kb(l,2,0,n(l,3,0,e.Bb(l.parent.parent.parent.parent,0),t.record[l.parent.context.$implicit.name]()));n(l,2,0,u)})}function j(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Jb(2,null,["",""]))],null,function(n,l){n(l,2,0,l.parent.parent.context.$implicit.linkedValues[0].label)})}function R(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,j)),e.qb(2,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(0,null,null,0))],function(n,l){n(l,2,0,l.parent.context.$implicit.linkedValues)},null)}function z(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,2,"eg-date-select",[],null,[[null,"onChangeAsIso"]],function(n,l,t){var e=!0;return"onChangeAsIso"===l&&(e=!1!==n.component.record[n.parent.context.$implicit.name](t)&&e),e},o.b,o.a)),e.Gb(5120,null,a.n,function(n){return[n]},[s.a]),e.qb(3,114688,null,0,s.a,[],{initialIso:[0,"initialIso"],domId:[1,"domId"],readOnly:[2,"readOnly"]},{onChangeAsIso:"onChangeAsIso"})],function(n,l){var t=l.component;n(l,3,0,e.tb(1,"",t.record[l.parent.context.$implicit.name](),""),e.tb(2,"",t.idPrefix,"-",l.parent.context.$implicit.name,""),l.parent.context.$implicit.readOnly)},null)}function N(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"eg-datetime-select",[],null,[[null,"onChangeAsIso"]],function(n,l,t){var e=!0;return"onChangeAsIso"===l&&(e=!1!==n.component.record[n.parent.context.$implicit.name](t)&&e),e},c.b,c.a)),e.qb(2,114688,null,0,d.a,[b.a,p.a,[8,null]],{domId:[0,"domId"],initialIso:[1,"initialIso"],showTZ:[2,"showTZ"],timezone:[3,"timezone"],readOnly:[4,"readOnly"]},{onChangeAsIso:"onChangeAsIso"})],function(n,l){var t=l.component;n(l,2,0,e.tb(2,"",t.idPrefix,"-",l.parent.context.$implicit.name,""),e.tb(1,"",t.record[l.parent.context.$implicit.name](),""),t.timezone,t.timezone,l.parent.context.$implicit.readOnly)},null)}function U(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"eg-org-select",[],null,[[null,"onChange"]],function(n,l,t){var e=!0;return"onChange"===l&&(e=!1!==n.component.record[n.parent.context.$implicit.name](t)&&e),e},h.b,h.a)),e.qb(2,114688,null,0,m.a,[f.a,g.a,y.a,v.a],{placeholder:[0,"placeholder"],domId:[1,"domId"],applyDefault:[2,"applyDefault"],readOnly:[3,"readOnly"],limitPerms:[4,"limitPerms"],applyOrgId:[5,"applyOrgId"]},{onChange:"onChange"})],function(n,l){var t=l.component;n(l,2,0,e.tb(1,"",l.parent.context.$implicit.label,"..."),e.tb(2,"",t.idPrefix,"-",l.parent.context.$implicit.name,""),l.parent.context.$implicit.orgDefaultAllowed,l.parent.context.$implicit.readOnly,t.modePerms[t.mode],t.record[l.parent.context.$implicit.name]())},null)}function Y(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,9,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,8,"input",[["class","form-control"],["step","0.1"],["type","number"]],[[8,"id",0],[8,"placeholder",0],[8,"readOnly",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var u=!0,i=n.component;return"input"===l&&(u=!1!==e.Bb(n,2)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,2).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Bb(n,2)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Bb(n,2)._compositionEnd(t.target.value)&&u),"change"===l&&(u=!1!==e.Bb(n,3).onChange(t.target.value)&&u),"input"===l&&(u=!1!==e.Bb(n,3).onChange(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,3).onTouched()&&u),"ngModelChange"===l&&(u=!1!==i.record[n.parent.context.$implicit.name](t)&&u),u},null,null)),e.qb(2,16384,null,0,a.d,[e.E,e.k,[2,a.a]],null,null),e.qb(3,16384,null,0,a.B,[e.E,e.k],null,null),e.qb(4,16384,null,0,a.w,[],{required:[0,"required"]},null),e.Gb(1024,null,a.m,function(n){return[n]},[a.w]),e.Gb(1024,null,a.n,function(n,l){return[n,l]},[a.d,a.B]),e.qb(7,671744,null,0,a.s,[[2,a.c],[6,a.m],[8,null],[6,a.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,a.o,null,[a.s]),e.qb(9,16384,null,0,a.p,[[4,a.o]],null,null)],function(n,l){var t=l.component,u=l.parent.context.$implicit.isRequired();n(l,4,0,u),n(l,7,0,e.tb(1,"",l.parent.context.$implicit.name,""),t.record[l.parent.context.$implicit.name]())},function(n,l){n(l,1,1,[e.tb(2,"",l.component.idPrefix,"-",l.parent.context.$implicit.name,""),e.tb(1,"",l.parent.context.$implicit.label,"..."),l.parent.context.$implicit.readOnly,e.Bb(l,4).required?"":null,e.Bb(l,9).ngClassUntouched,e.Bb(l,9).ngClassTouched,e.Bb(l,9).ngClassPristine,e.Bb(l,9).ngClassDirty,e.Bb(l,9).ngClassValid,e.Bb(l,9).ngClassInvalid,e.Bb(l,9).ngClassPending])})}function K(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,9,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,8,"input",[["class","form-control"],["type","number"]],[[8,"id",0],[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var u=!0,i=n.component;return"input"===l&&(u=!1!==e.Bb(n,2)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,2).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Bb(n,2)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Bb(n,2)._compositionEnd(t.target.value)&&u),"change"===l&&(u=!1!==e.Bb(n,3).onChange(t.target.value)&&u),"input"===l&&(u=!1!==e.Bb(n,3).onChange(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,3).onTouched()&&u),"ngModelChange"===l&&(u=!1!==i.record[n.parent.context.$implicit.name](t)&&u),u},null,null)),e.qb(2,16384,null,0,a.d,[e.E,e.k,[2,a.a]],null,null),e.qb(3,16384,null,0,a.B,[e.E,e.k],null,null),e.qb(4,16384,null,0,a.w,[],{required:[0,"required"]},null),e.Gb(1024,null,a.m,function(n){return[n]},[a.w]),e.Gb(1024,null,a.n,function(n,l){return[n,l]},[a.d,a.B]),e.qb(7,671744,null,0,a.s,[[2,a.c],[6,a.m],[8,null],[6,a.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,a.o,null,[a.s]),e.qb(9,16384,null,0,a.p,[[4,a.o]],null,null)],function(n,l){var t=l.component,u=l.parent.context.$implicit.isRequired();n(l,4,0,u),n(l,7,0,e.tb(1,"",l.parent.context.$implicit.name,""),t.record[l.parent.context.$implicit.name]())},function(n,l){n(l,1,0,e.tb(2,"",l.component.idPrefix,"-",l.parent.context.$implicit.name,""),e.tb(1,"",l.parent.context.$implicit.label,"..."),e.Bb(l,4).required?"":null,e.Bb(l,9).ngClassUntouched,e.Bb(l,9).ngClassTouched,e.Bb(l,9).ngClassPristine,e.Bb(l,9).ngClassDirty,e.Bb(l,9).ngClassValid,e.Bb(l,9).ngClassInvalid,e.Bb(l,9).ngClassPending)})}function H(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,9,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,8,"input",[["class","form-control"],["step","0.1"],["type","number"]],[[8,"id",0],[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var u=!0,i=n.component;return"input"===l&&(u=!1!==e.Bb(n,2)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,2).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Bb(n,2)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Bb(n,2)._compositionEnd(t.target.value)&&u),"change"===l&&(u=!1!==e.Bb(n,3).onChange(t.target.value)&&u),"input"===l&&(u=!1!==e.Bb(n,3).onChange(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,3).onTouched()&&u),"ngModelChange"===l&&(u=!1!==i.record[n.parent.context.$implicit.name](t)&&u),u},null,null)),e.qb(2,16384,null,0,a.d,[e.E,e.k,[2,a.a]],null,null),e.qb(3,16384,null,0,a.B,[e.E,e.k],null,null),e.qb(4,16384,null,0,a.w,[],{required:[0,"required"]},null),e.Gb(1024,null,a.m,function(n){return[n]},[a.w]),e.Gb(1024,null,a.n,function(n,l){return[n,l]},[a.d,a.B]),e.qb(7,671744,null,0,a.s,[[2,a.c],[6,a.m],[8,null],[6,a.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,a.o,null,[a.s]),e.qb(9,16384,null,0,a.p,[[4,a.o]],null,null)],function(n,l){var t=l.component,u=l.parent.context.$implicit.isRequired();n(l,4,0,u),n(l,7,0,e.tb(1,"",l.parent.context.$implicit.name,""),t.record[l.parent.context.$implicit.name]())},function(n,l){n(l,1,0,e.tb(2,"",l.component.idPrefix,"-",l.parent.context.$implicit.name,""),e.tb(1,"",l.parent.context.$implicit.label,"..."),e.Bb(l,4).required?"":null,e.Bb(l,9).ngClassUntouched,e.Bb(l,9).ngClassTouched,e.Bb(l,9).ngClassPristine,e.Bb(l,9).ngClassDirty,e.Bb(l,9).ngClassValid,e.Bb(l,9).ngClassInvalid,e.Bb(l,9).ngClassPending)})}function Z(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,8,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,7,"input",[["class","form-control"],["type","text"]],[[8,"id",0],[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var u=!0,i=n.component;return"input"===l&&(u=!1!==e.Bb(n,2)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,2).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Bb(n,2)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Bb(n,2)._compositionEnd(t.target.value)&&u),"ngModelChange"===l&&(u=!1!==i.record[n.parent.context.$implicit.name](t)&&u),u},null,null)),e.qb(2,16384,null,0,a.d,[e.E,e.k,[2,a.a]],null,null),e.qb(3,16384,null,0,a.w,[],{required:[0,"required"]},null),e.Gb(1024,null,a.m,function(n){return[n]},[a.w]),e.Gb(1024,null,a.n,function(n){return[n]},[a.d]),e.qb(6,671744,null,0,a.s,[[2,a.c],[6,a.m],[8,null],[6,a.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,a.o,null,[a.s]),e.qb(8,16384,null,0,a.p,[[4,a.o]],null,null)],function(n,l){var t=l.component,u=l.parent.context.$implicit.isRequired();n(l,3,0,u),n(l,6,0,e.tb(1,"",l.parent.context.$implicit.name,""),t.record[l.parent.context.$implicit.name]())},function(n,l){n(l,1,0,e.tb(2,"",l.component.idPrefix,"-",l.parent.context.$implicit.name,""),e.tb(1,"",l.parent.context.$implicit.label,"..."),e.Bb(l,3).required?"":null,e.Bb(l,8).ngClassUntouched,e.Bb(l,8).ngClassTouched,e.Bb(l,8).ngClassPristine,e.Bb(l,8).ngClassDirty,e.Bb(l,8).ngClassValid,e.Bb(l,8).ngClassInvalid,e.Bb(l,8).ngClassPending)})}function Q(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,6,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,5,"input",[["class","form-check-input"],["type","checkbox"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,l,t){var u=!0,i=n.component;return"change"===l&&(u=!1!==e.Bb(n,2).onChange(t.target.checked)&&u),"blur"===l&&(u=!1!==e.Bb(n,2).onTouched()&&u),"ngModelChange"===l&&(u=!1!==i.record[n.parent.context.$implicit.name](t)&&u),u},null,null)),e.qb(2,16384,null,0,a.b,[e.E,e.k],null,null),e.Gb(1024,null,a.n,function(n){return[n]},[a.b]),e.qb(4,671744,null,0,a.s,[[2,a.c],[8,null],[8,null],[6,a.n]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,a.o,null,[a.s]),e.qb(6,16384,null,0,a.p,[[4,a.o]],null,null)],function(n,l){var t=l.component;n(l,4,0,e.tb(1,"",l.parent.context.$implicit.name,""),l.parent.context.$implicit.readOnly,t.record[l.parent.context.$implicit.name]())},function(n,l){n(l,1,0,e.tb(2,"",l.component.idPrefix,"-",l.parent.context.$implicit.name,""),e.Bb(l,6).ngClassUntouched,e.Bb(l,6).ngClassTouched,e.Bb(l,6).ngClassPristine,e.Bb(l,6).ngClassDirty,e.Bb(l,6).ngClassValid,e.Bb(l,6).ngClassInvalid,e.Bb(l,6).ngClassPending)})}function W(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,3,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),e.Jb(2,null,[""," "])),(n()(),e.rb(3,0,null,null,1,"span",[["class","material-icons"],["title","Open user record in new tab"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["open_in_new"]))],null,function(n,l){n(l,1,0,e.tb(1,"/eg/staff/circ/patron/",l.parent.parent.context.$implicit.linkedValues[0].id,"/checkout")),n(l,2,0,l.parent.parent.context.$implicit.linkedValues[0].label)})}function X(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,W)),e.qb(2,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(0,null,null,0))],function(n,l){n(l,2,0,l.parent.context.$implicit.linkedValues)},null)}function nn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,2,"eg-combobox",[],[[8,"id",0]],[[null,"onChange"]],function(n,l,t){var e=!0;return"onChange"===l&&(e=!1!==n.component.record[n.parent.context.$implicit.name](t?t.id:null)&&e),e},C.b,C.a)),e.Gb(5120,null,a.n,function(n){return[n]},[w.a]),e.qb(3,114688,null,0,w.a,[e.k,g.a,B.a,I.a],{name:[0,"name"],placeholder:[1,"placeholder"],required:[2,"required"],selectedId:[3,"selectedId"],asyncDataSource:[4,"asyncDataSource"],entries:[5,"entries"]},{onChange:"onChange"})],function(n,l){var t=l.component,u=e.tb(1,"",l.parent.context.$implicit.name,""),i=e.tb(1,"",l.parent.context.$implicit.label,"..."),r=l.parent.context.$implicit.isRequired();n(l,3,0,u,i,r,t.record[l.parent.context.$implicit.name](),l.parent.context.$implicit.linkedValuesSource,l.parent.context.$implicit.linkedValues)},function(n,l){n(l,1,0,e.tb(2,"",l.component.idPrefix,"-",l.parent.context.$implicit.name,""))})}function ln(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,4,"div",[["class","col-lg-1"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,3,"a",[["title","Translate"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openTranslator(n.parent.context.$implicit.name)&&e),e},null,null)),(n()(),e.rb(2,0,null,null,2,"button",[["class","btn btn-outline-info mat-icon-in-button"]],null,null,null,null,null)),(n()(),e.rb(3,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["translate"]))],null,null)}function tn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,36,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,2,"div",[["class","col-lg-3"]],null,null,null,null,null)),(n()(),e.rb(2,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(n()(),e.Jb(3,null,["",""])),(n()(),e.rb(4,0,null,null,30,"div",[["class","col-lg-9"]],null,null,null,null,null)),(n()(),e.rb(5,0,null,null,29,null,null,null,null,null,null,null)),e.qb(6,16384,null,0,u.v,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),e.ib(16777216,null,null,1,null,G)),e.qb(8,278528,null,0,u.w,[e.P,e.M,u.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,A)),e.qb(10,278528,null,0,u.w,[e.P,e.M,u.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,J)),e.qb(12,278528,null,0,u.w,[e.P,e.M,u.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,R)),e.qb(14,278528,null,0,u.w,[e.P,e.M,u.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,z)),e.qb(16,278528,null,0,u.w,[e.P,e.M,u.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,N)),e.qb(18,278528,null,0,u.w,[e.P,e.M,u.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,U)),e.qb(20,278528,null,0,u.w,[e.P,e.M,u.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,Y)),e.qb(22,278528,null,0,u.w,[e.P,e.M,u.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,K)),e.qb(24,278528,null,0,u.w,[e.P,e.M,u.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,H)),e.qb(26,278528,null,0,u.w,[e.P,e.M,u.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,Z)),e.qb(28,278528,null,0,u.w,[e.P,e.M,u.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,Q)),e.qb(30,278528,null,0,u.w,[e.P,e.M,u.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,X)),e.qb(32,278528,null,0,u.w,[e.P,e.M,u.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,nn)),e.qb(34,278528,null,0,u.w,[e.P,e.M,u.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,ln)),e.qb(36,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,6,0,l.component.inputType(l.context.$implicit)),n(l,8,0,"template"),n(l,10,0,"readonly"),n(l,12,0,"readonly-money"),n(l,14,0,"readonly-list"),n(l,16,0,"timestamp"),n(l,18,0,"timestamp-timepicker"),n(l,20,0,"org_unit"),n(l,22,0,"money"),n(l,24,0,"int"),n(l,26,0,"float"),n(l,28,0,"text"),n(l,30,0,"bool"),n(l,32,0,"readonly-au"),n(l,34,0,"list"),n(l,36,0,l.context.$implicit.i18n&&!l.context.$implicit.readOnly)},function(n,l){n(l,2,0,e.tb(2,"",l.component.idPrefix,"-",l.context.$implicit.name,"")),n(l,3,0,l.context.$implicit.label)})}function en(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,tn)),e.qb(2,278528,null,0,u.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(n()(),e.ib(0,null,null,0))],function(n,l){n(l,2,0,l.component.fields)},null)}function un(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"button",[["type","button"]],[[8,"className",0],[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.context.$implicit.actionClick.emit({action:n.context.$implicit.key,record:n.component.record})&&e),e},null,null)),(n()(),e.Jb(1,null,[" "," "]))],null,function(n,l){n(l,0,0,e.tb(1,"btn ",l.context.$implicit.buttonCss,""),l.context.$implicit.disabled),n(l,1,0,l.context.$implicit.label)})}function rn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.closeEditor()&&e),e},null,null)),(n()(),e.Jb(-1,null,["Close"]))],null,null)}function on(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"button",[["class","btn btn-warning ml-2"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.cancel()&&e),e},null,null)),(n()(),e.Jb(-1,null,["Cancel"]))],null,null)}function an(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,rn)),e.qb(2,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,on)),e.qb(4,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(0,null,null,0))],function(n,l){var t=l.component;n(l,2,0,"view"==t.mode),n(l,4,0,"view"!=t.mode)},null)}function sn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.remove()&&e),e},null,null)),(n()(),e.Jb(-1,null,["Delete"]))],null,function(n,l){var t=l.component;n(l,1,0,t.record&&t.record.isnew())})}function cn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"button",[["class","btn btn-info"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.save()&&e),e},null,null)),(n()(),e.Jb(-1,null,["Save"]))],null,function(n,l){n(l,0,0,e.Bb(l.parent,5).invalid)})}function dn(n){return e.Lb(0,[(n()(),e.ib(16777216,null,null,1,null,_)),e.qb(1,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(2,0,null,null,9,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.rb(3,0,null,null,8,"form",[["class","form-validated common-form striped-odd"],["novalidate",""],["role","form"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var u=!0;return"submit"===l&&(u=!1!==e.Bb(n,5).onSubmit(t)&&u),"reset"===l&&(u=!1!==e.Bb(n,5).onReset()&&u),u},null,null)),e.qb(4,16384,null,0,a.C,[],null,null),e.qb(5,4210688,[["fmEditForm",4]],0,a.r,[[8,null],[8,null]],null,null),e.Gb(2048,null,a.c,null,[a.r]),e.qb(7,16384,null,0,a.q,[[4,a.c]],null,null),(n()(),e.ib(16777216,null,null,1,null,E)),e.qb(9,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,en)),e.qb(11,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(12,0,null,null,8,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,un)),e.qb(14,278528,null,0,u.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(n()(),e.ib(16777216,null,null,1,null,an)),e.qb(16,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,sn)),e.qb(18,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,cn)),e.qb(20,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,1,0,!t.hideBanner),n(l,9,0,!t.record),n(l,11,0,t.record),n(l,14,0,t.actions),n(l,16,0,t.isDialog()),n(l,18,0,t.showDelete&&"view"!=t.mode),n(l,20,0,"view"!=t.mode)},function(n,l){n(l,3,0,e.Bb(l,7).ngClassUntouched,e.Bb(l,7).ngClassTouched,e.Bb(l,7).ngClassPristine,e.Bb(l,7).ngClassDirty,e.Bb(l,7).ngClassValid,e.Bb(l,7).ngClassInvalid,e.Bb(l,7).ngClassPending)})}function bn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function pn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,bn)),e.qb(2,540672,null,0,u.y,[e.P],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.ib(0,null,null,0))],function(n,l){n(l,2,0,e.Bb(l.parent,14))},null)}function hn(n){return e.Lb(0,[e.Db(0,u.d,[e.v]),e.Hb(402653184,1,{dialogContent:0}),e.Hb(402653184,2,{translator:0}),e.Hb(402653184,3,{successStr:0}),e.Hb(402653184,4,{failStr:0}),e.Hb(402653184,5,{confirmDel:0}),(n()(),e.rb(6,0,null,null,1,"eg-translate",[],null,null,null,x.b,x.a)),e.qb(7,114688,[[2,4],["translator",4]],0,q.a,[k.B,e.E,B.a,O.a,P.a,I.a,f.a],null,null),(n()(),e.rb(8,0,null,null,1,"eg-string",[["text","Update Succeeded"]],null,null,null,D.b,D.a)),e.qb(9,114688,[[3,4],["successStr",4]],0,T.a,[e.k,S.a],{text:[0,"text"]},null),(n()(),e.rb(10,0,null,null,1,"eg-string",[["text","Update Failed"]],null,null,null,D.b,D.a)),e.qb(11,114688,[[4,4],["failStr",4]],0,T.a,[e.k,S.a],{text:[0,"text"]},null),(n()(),e.rb(12,0,null,null,1,"eg-confirm-dialog",[["dialogTitle","Delete?"]],null,null,null,L.b,L.a)),e.qb(13,114688,[[5,4],["confirmDel",4]],0,M.a,[k.B],{dialogTitle:[0,"dialogTitle"],dialogBody:[1,"dialogBody"]},null),(n()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,dn)),(n()(),e.ib(16777216,null,null,1,null,pn)),e.qb(16,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,7,0),n(l,9,0,"Update Succeeded"),n(l,11,0,"Update Failed"),n(l,13,0,"Delete?",e.tb(1,"Delete ",t.recordLabel,"?")),n(l,16,0,!t.isDialog())},null)}},"9rfo":function(n,l,t){"use strict";t.d(l,"a",function(){return h});var e=t("CcnG"),u=t("K9Ia"),i=t("F/XL"),r=t("6blF"),o=t("Gi3i"),a=t("ad02"),s=t("TYK5"),c=t("VnD/"),d=t("aGNc"),b=t("psW0"),p=t("67Y/"),h=(t("OXuP"),t("wBwE"),t("iA0r"),function(){function n(n,l,t,i){var r=this;this.elm=n,this.store=l,this.idl=t,this.pcrud=i,this.placeholder="",this.allowFreeText=!1,this.startId=null,this.propagateChange=function(n){},this.propagateTouch=function(){},this.filter=function(n){return n.pipe(Object(o.a)(200),Object(a.a)(),Object(s.a)(r.click$.pipe(Object(c.a)(function(){return!r.instance.isPopupOpen()})).pipe(Object(d.a)("_CLICK_"))),Object(b.a)(function(n){return r.addAsyncEntries(n)}),Object(p.a)(function(n){return""!==n&&"_CLICK_"!==n||r.asyncDataSource?r.entrylist.filter(function(l){return(l.label||l.id).toLowerCase().indexOf(n.toLowerCase())>-1}):r.entrylist}))},this.entrylist=[],this.asyncIds={},this.click$=new u.a,this.onChange=new e.m,this.defaultSelectionApplied=!1,this.formatDisplayString=function(n){return((n.label||n.id)+"").trim()}}return Object.defineProperty(n.prototype,"required",{set:function(n){this.isRequired=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{set:function(n){this.isDisabled=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedId",{get:function(){return this.selected?this.selected.id:null},set:function(n){n&&(this.entrylist.length&&(this.selected=this.entrylist.filter(function(l){return l.id===n})[0]),this.selected||(this.startId=n))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"entries",{set:function(n){var l=this;if(n){if(this.entrylistMatches(n))return;this.entrylist=n,this.defaultSelectionApplied=!1,this.applySelection(),this.asyncIds={},n.forEach(function(n){return l.asyncIds[""+n.id]=!0})}},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;if(this.idlClass){var l=this.idl.classes[this.idlClass],t=l.pkey;if(!t)throw new Error("IDL class "+this.idlClass+" has no pkey field");this.idlField||(this.idlField=l.field_map[l.pkey].selector||"name"),this.asyncDataSource=function(l){var e=n.idlField,u={},i={order_by:{}};if(u[e]={ilike:"%"+l+"%"},i.order_by[n.idlClass]=e,n.idlIncludeLibraryInLabel){i.flesh=1;var r={};return r[n.idlClass]=[n.idlIncludeLibraryInLabel],i.flesh_fields=r,n.pcrud.search(n.idlClass,u,i).pipe(Object(p.a)(function(l){return{id:l[t](),label:l[e]()+" ("+l[n.idlIncludeLibraryInLabel]().shortname()+")"}}))}return n.pcrud.search(n.idlClass,u,i).pipe(Object(p.a)(function(n){return{id:n[t](),label:n[e]()}}))}}},n.prototype.onClick=function(n){this.click$.next(n.target.value)},n.prototype.openMe=function(n){var l=this;this.elm.nativeElement.getElementsByTagName("input")[0].focus(),setTimeout(function(){return l.click$.next("")})},n.prototype.entriesMatches=function(n,l){return n&&l&&n.id===l.id&&n.label===l.label&&n.freetext===l.freetext},n.prototype.entrylistMatches=function(n){if(n.length!==this.entrylist.length)return!1;for(var l=0;l<n.length;l++){var t=this.entrylist[l];if(!t||!this.entriesMatches(t,n[l]))return!1}return!0},n.prototype.applySelection=function(){var n=this;if(null!==this.startId&&this.entrylist&&!this.defaultSelectionApplied){var l=this.entrylist.filter(function(l){return l.id===n.startId})[0];l&&(this.selected=l,this.defaultSelectionApplied=!0,this.startIdFiresOnChange&&this.selectorChanged({item:this.selected,preventDefault:function(){return!0}}))}},n.prototype.addEntry=function(n){this.entrylist.push(n),this.applySelection()},n.prototype.applyEntryId=function(n){this.selected=this.entrylist.filter(function(l){return l.id===n})[0]},n.prototype.addAsyncEntry=function(n){this.asyncIds[""+n.id]||(this.asyncIds[""+n.id]=!0,this.addEntry(n))},n.prototype.hasEntry=function(n){return void 0!==this.entrylist.filter(function(l){return l.id===n})[0]},n.prototype.onBlur=function(){"string"==typeof this.selected&&(this.selected=this.allowFreeText&&""!==this.selected?{id:null,label:this.selected,freetext:!0}:null,this.selectorChanged({item:this.selected,preventDefault:function(){return!0}})),this.propagateTouch()},n.prototype.selectorChanged=function(n){this.onChange.emit(n.item),this.propagateChange(n.item)},n.prototype.addAsyncEntries=function(n){var l,t=this;return n&&this.asyncDataSource?("_CLICK_"===(l=n)&&this.asyncSupportsEmptyTermClick&&(l=""),new r.a(function(n){t.asyncDataSource(l).subscribe(function(n){return t.addAsyncEntry(n)},function(n){},function(){n.next(l),n.complete()})})):Object(i.a)(n)},n.prototype.writeValue=function(n){null!=n&&(this.startId=n.id,this.applySelection())},n.prototype.registerOnChange=function(n){this.propagateChange=n},n.prototype.registerOnTouched=function(n){this.propagateTouch=n},n}())},EBEo:function(n,l,t){"use strict";t.d(l,"a",function(){return e});var e=function(){return function(){}}()},Gi3i:function(n,l,t){"use strict";t.d(l,"a",function(){return r});var e=t("mrSG"),u=t("FFOo"),i=t("T1DM");function r(n,l){return void 0===l&&(l=i.a),function(t){return t.lift(new o(n,l))}}var o=function(){function n(n,l){this.dueTime=n,this.scheduler=l}return n.prototype.call=function(n,l){return l.subscribe(new a(n,this.dueTime,this.scheduler))},n}(),a=function(n){function l(l,t,e){var u=n.call(this,l)||this;return u.dueTime=t,u.scheduler=e,u.debouncedSubscription=null,u.lastValue=null,u.hasValue=!1,u}return e.c(l,n),l.prototype._next=function(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(s,this.dueTime,this))},l.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},l.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var n=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}},l.prototype.clearDebounce=function(){var n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)},l}(u.a);function s(n){n.debouncedNext()}},LTyc:function(n,l,t){"use strict";t.d(l,"a",function(){return u});var e=t("CcnG"),u=function(){function n(){this.domId="",this.propagateChange=function(n){},this.propagateTouch=function(){},this.onChangeAsDate=new e.m,this.onChangeAsIso=new e.m,this.onChangeAsYmd=new e.m,this.onCleared=new e.m}return n.prototype.currentAsYmd=function(){return null==this.current?null:this.isValidDate(this.current)?this.current.year+"-"+String(this.current.month).padStart(2,"0")+"-"+String(this.current.day).padStart(2,"0"):null},n.prototype.currentAsIso=function(){if(null==this.current)return null;if(!this.isValidDate(this.current))return null;var n=this.current.year+"-"+String(this.current.month).padStart(2,"0")+"-"+String(this.current.day).padStart(2,"0");return this.localDateFromYmd(n).toISOString()},n.prototype.currentAsDate=function(){if(null==this.current)return null;if(!this.isValidDate(this.current))return null;var n=this.current.year+"-"+String(this.current.month).padStart(2,"0")+"-"+String(this.current.day).padStart(2,"0");return this.localDateFromYmd(n)},n.prototype.ngOnInit=function(){this.initialYmd?this.initialDate=this.localDateFromYmd(this.initialYmd):this.initialIso&&(this.initialDate=new Date(this.initialIso)),this.initialDate&&this.writeValue(this.initialDate)},n.prototype.isValidDate=function(n){return void 0!==n.year},n.prototype.onDateEnter=function(){null===this.current?this.onCleared.emit("cleared"):this.isValidDate(this.current)&&this.onDateSelect(this.current)},n.prototype.onDateSelect=function(n){var l=n.year+"-"+String(n.month).padStart(2,"0")+"-"+String(n.day).padStart(2,"0"),t=this.localDateFromYmd(l),e=t.toISOString();this.onChangeAsDate.emit(t),this.onChangeAsYmd.emit(l),this.onChangeAsIso.emit(e),this.propagateChange(t)},n.prototype.localDateFromYmd=function(n){var l=n.split("-");return new Date(Number(l[0]),Number(l[1])-1,Number(l[2]))},n.prototype.reset=function(){this.current={year:null,month:null,day:null}},n.prototype.writeValue=function(n){n&&(this.current={year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate()})},n.prototype.registerOnChange=function(n){this.propagateChange=n},n.prototype.registerOnTouched=function(n){this.propagateTouch=n},n}()},MTty:function(n,l,t){"use strict";t.d(l,"a",function(){return r}),t.d(l,"b",function(){return b});var e=t("CcnG"),u=t("gIcY"),i=t("Ip0R"),r=(t("oCNH"),t("4GxJ"),t("wBwE"),t("YRS1"),t("A9LY"),t("iA0r"),t("8PDw"),e.pb({encapsulation:2,styles:[],data:{}}));function o(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.qb(1,147456,null,0,u.t,[e.k,e.E,[2,u.x]],{value:[0,"value"]},null),e.qb(2,147456,null,0,u.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(n()(),e.Jb(3,null,[" "," "]))],function(n,l){var t=e.tb(1,"",l.context.$implicit.code(),"");n(l,1,0,t);var u=e.tb(1,"",l.context.$implicit.code(),"");n(l,2,0,u)},function(n,l){var t=l.context.$implicit.name();n(l,3,0,t)})}function a(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,30,"div",[["class","modal-body form-common form-validated"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),e.rb(2,0,null,null,1,"label",[["class","col-lg-4 text-right font-weight-bold"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Field Name"])),(n()(),e.rb(4,0,null,null,0,"input",[["class","form-control col-lg-7"],["type","text"]],[[8,"disabled",0],[8,"value",0]],null,null,null,null)),(n()(),e.rb(5,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),e.rb(6,0,null,null,1,"label",[["class","col-lg-4 text-right font-weight-bold"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Current Value"])),(n()(),e.rb(8,0,null,null,0,"input",[["class","form-control col-lg-7"],["type","text"]],[[8,"disabled",0],[8,"value",0]],null,null,null,null)),(n()(),e.rb(9,0,null,null,10,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),e.rb(10,0,null,null,1,"label",[["class","col-lg-4 text-right font-weight-bold"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Select Locale"])),(n()(),e.rb(12,0,null,null,7,"select",[["class","form-control col-lg-7"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"blur"]],function(n,l,t){var u=!0,i=n.component;return"change"===l&&(u=!1!==e.Bb(n,13).onChange(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,13).onTouched()&&u),"change"===l&&(u=!1!==i.localeChanged(t)&&u),"ngModelChange"===l&&(u=!1!==(i.selectedLocale=t)&&u),u},null,null)),e.qb(13,16384,null,0,u.x,[e.E,e.k],null,null),e.Gb(1024,null,u.n,function(n){return[n]},[u.x]),e.qb(15,671744,null,0,u.s,[[8,null],[8,null],[8,null],[6,u.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,u.o,null,[u.s]),e.qb(17,16384,null,0,u.p,[[4,u.o]],null,null),(n()(),e.ib(16777216,null,null,1,null,o)),e.qb(19,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(n()(),e.rb(20,0,null,null,10,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),e.rb(21,0,null,null,1,"label",[["class","col-lg-4 text-right font-weight-bold"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Translation"])),(n()(),e.rb(23,0,null,null,7,"input",[["class","form-control col-lg-7"],["id","translation-input"],["placeholder","Translation..."],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var u=!0,i=n.component;return"input"===l&&(u=!1!==e.Bb(n,24)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,24).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Bb(n,24)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Bb(n,24)._compositionEnd(t.target.value)&&u),"keyup.enter"===l&&(u=!1!==i.translate()&&u),"ngModelChange"===l&&(u=!1!==(i.translatedValue=t)&&u),u},null,null)),e.qb(24,16384,null,0,u.d,[e.E,e.k,[2,u.a]],null,null),e.qb(25,16384,null,0,u.w,[],{required:[0,"required"]},null),e.Gb(1024,null,u.m,function(n){return[n]},[u.w]),e.Gb(1024,null,u.n,function(n){return[n]},[u.d]),e.qb(28,671744,null,0,u.s,[[8,null],[6,u.m],[8,null],[6,u.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,u.o,null,[u.s]),e.qb(30,16384,null,0,u.p,[[4,u.o]],null,null)],function(n,l){var t=l.component;n(l,15,0,t.selectedLocale),n(l,19,0,t.locales),n(l,25,0,""),n(l,28,0,t.translatedValue)},function(n,l){var t=l.component;n(l,4,0,!0,e.tb(1,"",t.idlClassDef.field_map[t.field].label,"")),n(l,8,0,!0,e.tb(1,"",t.idlObj[t.field](),"")),n(l,12,0,e.Bb(l,17).ngClassUntouched,e.Bb(l,17).ngClassTouched,e.Bb(l,17).ngClassPristine,e.Bb(l,17).ngClassDirty,e.Bb(l,17).ngClassValid,e.Bb(l,17).ngClassInvalid,e.Bb(l,17).ngClassPending),n(l,23,0,e.Bb(l,25).required?"":null,e.Bb(l,30).ngClassUntouched,e.Bb(l,30).ngClassTouched,e.Bb(l,30).ngClassPristine,e.Bb(l,30).ngClassDirty,e.Bb(l,30).ngClassValid,e.Bb(l,30).ngClassInvalid,e.Bb(l,30).ngClassPending)})}function s(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"button",[["class","btn btn-info"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.prevString()&&e),e},null,null)),(n()(),e.Jb(-1,null,["Prev String"]))],null,null)}function c(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"button",[["class","btn btn-info mr-3"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.nextString()&&e),e},null,null)),(n()(),e.Jb(-1,null,["Next String"]))],null,null)}function d(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,5,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Jb(2,null,[" "," "])),(n()(),e.rb(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.close()&&e),e},null,null)),(n()(),e.rb(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["\xd7"])),(n()(),e.ib(16777216,null,null,1,null,a)),e.qb(7,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(8,0,null,null,8,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,s)),e.qb(10,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,c)),e.qb(12,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(13,0,null,null,1,"button",[["class","btn btn-info"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.translate()&&e),e},null,null)),(n()(),e.Jb(-1,null,["Apply"])),(n()(),e.rb(15,0,null,null,1,"button",[["class","btn btn-warning ml-2"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.close()&&e),e},null,null)),(n()(),e.Jb(-1,null,["Cancel"]))],function(n,l){var t=l.component;n(l,7,0,t.idlObj),n(l,10,0,t.prevString),n(l,12,0,t.nextString)},function(n,l){n(l,2,0,l.component.idlClassDef.label)})}function b(n){return e.Lb(0,[e.Hb(402653184,1,{dialogContent:0}),(n()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,d))],null,null)}},MisT:function(n,l,t){"use strict";var e=t("CcnG"),u=t("gIcY"),i=t("4GxJ"),r=t("Ip0R"),o=t("ZvpF");t("LTyc"),t.d(l,"a",function(){return a}),t.d(l,"b",function(){return d});var a=e.pb({encapsulation:0,styles:[[".eg-date-select[_ngcontent-%COMP%]{max-width:11em}.material-icons[_ngcontent-%COMP%]{font-size:15px}"]],data:{}});function s(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.Jb(1,null,[" ","\n"])),e.Fb(2,2)],null,function(n,l){var t=l.component,u=e.Kb(l,1,0,n(l,2,0,e.Bb(l.parent,0),t.initialDate,"timestamp"));n(l,1,0,u)})}function c(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,15,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,14,"div",[["class","input-group eg-date-select form-validated"]],null,null,null,null,null)),(n()(),e.rb(2,16777216,null,null,9,"input",[["class","form-control"],["container","body"],["ngbDatepicker",""],["placeholder","yyyy-mm-dd"],["type","text"]],[[1,"id",0],[1,"required",0],[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"ngModelChange"],[null,"keyup.enter"],[null,"dateSelect"],[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var u=!0,i=n.component;return"input"===l&&(u=!1!==e.Bb(n,3)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,3).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Bb(n,3)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Bb(n,3)._compositionEnd(t.target.value)&&u),"input"===l&&(u=!1!==e.Bb(n,6).manualDateChange(t.target.value)&&u),"change"===l&&(u=!1!==e.Bb(n,6).manualDateChange(t.target.value,!0)&&u),"blur"===l&&(u=!1!==e.Bb(n,6).onBlur()&&u),"blur"===l&&(u=!1!==i.propagateTouch()&&u),"ngModelChange"===l&&(u=!1!==(i.current=t)&&u),"keyup.enter"===l&&(u=!1!==i.onDateEnter()&&u),"dateSelect"===l&&(u=!1!==i.onDateSelect(t)&&u),u},null,null)),e.qb(3,16384,null,0,u.d,[e.E,e.k,[2,u.a]],null,null),e.qb(4,16384,null,0,u.w,[],{required:[0,"required"]},null),e.Gb(512,null,i.ub,i.ub,[i.h,i.r]),e.qb(6,671744,[["datePicker",4]],0,i.A,[i.o,e.k,e.P,e.E,e.j,e.A,i.ub,i.h,i.n,r.e,e.h],{container:[0,"container"],disabled:[1,"disabled"]},{dateSelect:"dateSelect"}),e.Gb(1024,null,u.m,function(n,l){return[n,l]},[u.w,i.A]),e.Gb(1024,null,u.n,function(n,l){return[n,l]},[u.d,i.A]),e.qb(9,671744,null,0,u.s,[[8,null],[6,u.m],[8,null],[6,u.n]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,u.o,null,[u.s]),e.qb(11,16384,null,0,u.p,[[4,u.o]],null,null),(n()(),e.rb(12,0,null,null,3,"div",[["class","input-group-append"]],null,null,null,null,null)),(n()(),e.rb(13,0,null,null,2,"button",[["class","btn btn-outline-secondary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,6).toggle()&&u),u},null,null)),(n()(),e.rb(14,0,null,null,1,"span",[["class","material-icons mat-icon-in-button"],["title","Select Date"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["event"]))],function(n,l){var t=l.component;n(l,4,0,t.required),n(l,6,0,"body",t.disabled),n(l,9,0,e.tb(1,"",t.fieldName,""),t.disabled,t.current)},function(n,l){var t=l.component;n(l,2,0,t.domId.length?t.domId:null,e.Bb(l,4).required?"":null,e.Bb(l,6).disabled,e.Bb(l,11).ngClassUntouched,e.Bb(l,11).ngClassTouched,e.Bb(l,11).ngClassPristine,e.Bb(l,11).ngClassDirty,e.Bb(l,11).ngClassValid,e.Bb(l,11).ngClassInvalid,e.Bb(l,11).ngClassPending),n(l,13,0,t.disabled)})}function d(n){return e.Lb(0,[e.Db(0,o.b,[o.a]),(n()(),e.ib(16777216,null,null,1,null,s)),e.qb(2,16384,null,0,r.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,c)),e.qb(4,16384,null,0,r.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,2,0,t.readOnly),n(l,4,0,!t.readOnly)},null)}},RvO3:function(n,l,t){"use strict";var e=t("CcnG"),u=t("Ip0R");t("TxlL"),t.d(l,"a",function(){return i}),t.d(l,"b",function(){return s});var i=e.pb({encapsulation:0,styles:[[".eg-progress-inline[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]{width:100%;height:25px}"]],data:{}});function r(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.rb(2,0,null,null,1,"div",[["class","col-lg-10"]],null,null,null,null,null)),(n()(),e.rb(3,0,null,null,0,"progress",[],[[8,"max",0],[8,"value",0]],null,null,null,null)),(n()(),e.rb(4,0,null,null,1,"div",[["class","col-lg-2"]],null,null,null,null,null)),(n()(),e.Jb(5,null,["","%"]))],null,function(n,l){var t=l.component;n(l,3,0,e.tb(1,"",t.max,""),e.tb(1,"",t.value,"")),n(l,5,0,t.percent())})}function o(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.rb(2,0,null,null,1,"div",[["class","col-lg-10"]],null,null,null,null,null)),(n()(),e.rb(3,0,null,null,0,"progress",[["max","1"]],null,null,null,null,null)),(n()(),e.rb(4,0,null,null,1,"div",[["class","col-lg-2"]],null,null,null,null,null)),(n()(),e.Jb(5,null,["","..."]))],null,function(n,l){n(l,5,0,l.component.value)})}function a(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.rb(2,0,null,null,1,"div",[["class","col-lg-12"]],null,null,null,null,null)),(n()(),e.rb(3,0,null,null,0,"progress",[["max","1"]],null,null,null,null,null))],null,null)}function s(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,6,"div",[["class","eg-progress-inline"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,r)),e.qb(2,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,o)),e.qb(4,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,a)),e.qb(6,16384,null,0,u.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,2,0,t.hasValue()&&t.hasMax()),n(l,4,0,t.hasValue()&&!t.hasMax()),n(l,6,0,!t.hasValue())},null)}},TYK5:function(n,l,t){"use strict";t.d(l,"a",function(){return u});var e=t("p0ib");function u(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return function(l){return l.lift.call(e.a.apply(void 0,[l].concat(n)))}}},TxlL:function(n,l,t){"use strict";t.d(l,"a",function(){return e});var e=function(){function n(){}return n.prototype.reset=function(){delete this.max,delete this.value},n.prototype.hasValue=function(){return Number.isInteger(this.value)},n.prototype.hasMax=function(){return Number.isInteger(this.max)},n.prototype.percent=function(){return this.hasValue()&&this.hasMax()&&this.max>0&&this.value<=this.max?Math.floor(this.value/this.max*100):100},n.prototype.update=function(n){void 0!==n.max&&(this.max=n.max),void 0!==n.value&&(this.value=n.value)},n.prototype.increment=function(n){Number.isInteger(n)||(n=1),this.hasValue()||(this.value=0),this.value+=n},n}()},UUQ6:function(n,l,t){"use strict";t.d(l,"a",function(){return o});var e=t("mrSG"),u=t("CcnG"),i=(t("wBwE"),t("67Y/")),r=(t("8PDw"),t("iA0r"),t("rRT/")),o=(t("YRS1"),t("tNQm"),t("ZvpF"),t("oCNH"),t("36iw"),function(n){function l(l,t,e,i,r,o){var a=n.call(this,l)||this;return a.modal=l,a.idl=t,a.auth=e,a.toast=i,a.format=r,a.pcrud=o,a.timezone=a.format.wsOrgTimezone,a.fieldOptions={},a.hiddenFieldsList=[],a.readonlyFieldsList=[],a.requiredFieldsList=[],a.datetimeFieldsList=[],a.orgDefaultAllowedList=[],a.displayMode="dialog",a.recordSaved=new u.m,a.recordDeleted=new u.m,a.recordCanceled=new u.m,a.recordError=new u.m,a.pkeyIsEditable=!1,a.mode="create",a._recordId=null,a._record=null,a.actions=[],a}return Object(e.c)(l,n),Object.defineProperty(l.prototype,"recordId",{get:function(){return this._recordId},set:function(n){n?n!==this._recordId&&(this._recordId=n,this._record=null,this.handleRecordChange()):this._recordId=null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"record",{get:function(){return this._record},set:function(n){n?this.idl.pkeyMatches(this.record,n)||(this._record=n,this._recordId=null,this.handleRecordChange()):this._record=null},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var n=this;this.fieldOptions||(this.fieldOptions={}),this.listifyInputs(),this.idlDef=this.idl.classes[this.idlClass],this.recordLabel=this.idlDef.label,this.idPrefix="fm-editor-"+Math.floor(1e5*Math.random()),this.isDialog()?this.onOpen$.subscribe(function(){return n.initRecord()}):this.initRecord(),this.initDone=!0},l.prototype.handleRecordChange=function(){this.initDone&&!this.isDialog()&&this.initRecord()},l.prototype.open=function(l){var t=this;return l||(l={}),l.beforeDismiss=function(){return t.record=void 0,!0},n.prototype.open.call(this,l)},l.prototype.isDialog=function(){return"dialog"===this.displayMode},l.prototype.setRecord=function(n){console.warn('fm-editor:setRecord() is deprecated. Use editor.record = abc or [record]="abc" instead'),this.record=n},l.prototype.listifyInputs=function(){this.hiddenFields&&(this.hiddenFieldsList=this.hiddenFields.split(/,/)),this.readonlyFields&&(this.readonlyFieldsList=this.readonlyFields.split(/,/)),this.requiredFields&&(this.requiredFieldsList=this.requiredFields.split(/,/)),this.datetimeFields&&(this.datetimeFieldsList=this.datetimeFields.split(/,/)),this.orgDefaultAllowed&&(this.orgDefaultAllowedList=this.orgDefaultAllowed.split(/,/))},l.prototype.initRecord=function(){var n=this,l=this.idlDef.permacrud||{};if(this.modePerms={view:l.retrieve?l.retrieve.perms:[],create:l.create?l.create.perms:[],update:l.update?l.update.perms:[]},this.pkeyIsEditable=!("pkey_sequence"in this.idlDef),"update"===this.mode||"view"===this.mode){var t=void 0;if(this.record&&null===this.recordId)t=Promise.resolve(this.record);else{if(!this.recordId)return Promise.resolve();t=this.pcrud.retrieve(this.idlClass,this.recordId).toPromise()}return t.then(function(l){return l?(n._record=l,n.convertDatatypesToJs(),n.getFieldList()):Promise.reject("No '"+n.idlClass+"'\n                        record found with id "+n.recordId)})}return this._record=this.record||this.idl.create(this.idlClass),this._recordId=null,this.getFieldList()},l.prototype.convertDatatypesToJs=function(){var n=this;this.idlDef.fields.forEach(function(l){"bool"===l.datatype&&("t"===n.record[l.name]()?n.record[l.name](!0):"f"===n.record[l.name]()&&n.record[l.name](!1))})},l.prototype.convertDatatypesToIdl=function(n){this.idlDef.fields.filter(function(n){return!n.virtual}).forEach(function(l){if("bool"===l.datatype)!0===n[l.name]()?n[l.name]("t"):n[l.name]("f");else if("org_unit"===l.datatype){var t=n[l.name]();t&&"object"==typeof t&&n[l.name](t.id())}})},l.prototype.getClassSelector=function(n){if(n){var l=this.idl.classes[n];return l.pkey?l.field_map[l.pkey].selector:null}return null},l.prototype.flattenLinkedValues=function(n,l){var t=n.class,e=this.idl.classes[t].pkey,u=(this.fieldOptions[n.name]||{}).linkedSearchField||this.getClassSelector(t)||e;return l.map(function(n){return{id:n[e](),label:n[u]()}})},l.prototype.getFieldList=function(){var n=this,l=this.idlDef.fields.filter(function(l){return!l.virtual&&!n.hiddenFieldsList.includes(l.name)});return Promise.all(l.map(function(l){return n.constructOneField(l)})).then(function(){if(n.fieldOrder){var t=[],e=n.fieldOrder.split(/,/);e.forEach(function(n){var e=l.filter(function(l){return l.name===n})[0];e&&t.push(e)});var u=l.filter(function(n){return!e.includes(n.name)});u.sort(function(n,l){return n.label<l.label?-1:1}),t=t.concat(u),n.fields=t}else n.fields=l.sort(function(n,l){return n.label<l.label?-1:1})})},l.prototype.constructOneField=function(n){var l=this,t=null,e=this.fieldOptions[n.name]||{};if(n.readOnly="view"===this.mode||(e.isReadonlyOverride?!e.isReadonlyOverride(n.name,this.record):!0===e.isReadonly||this.readonlyFieldsList.includes(n.name)),n.isRequired=e.isRequiredOverride?function(){return e.isRequiredOverride(n.name,l.record)}:function(){return n.required||e.isRequired||l.requiredFieldsList.includes(n.name)},e.customValues)n.linkedValues=e.customValues;else if("link"===n.datatype&&n.readOnly){var u=this.record[n.name]();if(u){var i=e.linkedSearchField||this.getClassSelector(n.class);i&&i!==n.name?t=this.pcrud.retrieve(n.class,u).toPromise().then(function(t){n.linkedValues=l.flattenLinkedValues(n,Array(t))}):n.linkedValues=[{id:u,name:u}]}}else"link"===n.datatype?t=this.wireUpCombobox(n):"timestamp"===n.datatype?n.datetime=this.datetimeFieldsList.includes(n.name):"org_unit"===n.datatype&&(n.orgDefaultAllowed=this.orgDefaultAllowedList.includes(n.name));return e.customTemplate&&(n.template=e.customTemplate.template,n.context=e.customTemplate.context),t||Promise.resolve()},l.prototype.wireUpCombobox=function(n){var l=this,t=this.fieldOptions[n.name]||{};this.preloadLinkedValues&&("preloadLinkedValues"in t||(t.preloadLinkedValues=!0));var e=t.linkedSearchField||this.getClassSelector(n.class);if(e||t.preloadLinkedValues||console.warn("Class "+n.class+" has no selector.\n                Pre-fetching all rows for combobox"),t.preloadLinkedValues||!e)return this.pcrud.retrieveAll(n.class,{},{atomic:!0}).toPromise().then(function(t){n.linkedValues=l.flattenLinkedValues(n,t)});n.linkedValuesSource=function(t){var u={},r={order_by:{}};return u[e]={ilike:"%"+t+"%"},r.order_by[n.class]=e,l.pcrud.search(n.class,u,r).pipe(Object(i.a)(function(t){return l.flattenLinkedValues(n,[t])[0]}))};var u=this.record[n.name]();return null!=u?this.pcrud.retrieve(n.class,u).toPromise().then(function(t){n.linkedValues=l.flattenLinkedValues(n,Array(t))}):Promise.resolve()},l.prototype.customTemplateFieldContext=function(n){return Object.assign({record:this.record,field:n},n.context||{})},l.prototype.save=function(){var n=this,l=this.idl.clone(this.record);this.preSave&&this.preSave(this.mode,l),this.convertDatatypesToIdl(l),this.pcrud[this.mode]([l]).toPromise().then(function(l){n.recordSaved.emit(l),n.successStr.current().then(function(l){return n.toast.success(l)}),n.isDialog()&&(n.record=void 0,n.close(l))},function(l){n.recordError.emit(l),n.failStr.current().then(function(l){return n.toast.warning(l)}),n.isDialog()&&n.error(l)})},l.prototype.remove=function(){var n=this;this.confirmDel.open().subscribe(function(l){if(l){var t=n.idl.clone(n.record);n.pcrud.remove(t).toPromise().then(function(l){n.recordDeleted.emit(l),n.successStr.current().then(function(l){return n.toast.success(l)}),n.isDialog()&&n.close(l)},function(l){n.recordError.emit(l),n.failStr.current().then(function(l){return n.toast.warning(l)}),n.isDialog()&&n.error(l)})}})},l.prototype.cancel=function(){this.recordCanceled.emit(this.record),this.record=void 0,this.close()},l.prototype.closeEditor=function(){this.record=void 0,this.close()},l.prototype.inputType=function(n){return n.template?"template":"timestamp"===n.datatype&&n.datetime?"timestamp-timepicker":"timestamp"===n.datatype||"org_unit"===n.datatype||"bool"===n.datatype?n.datatype:n.readOnly?"money"===n.datatype?"readonly-money":"link"===n.datatype&&"au"===n.class?"readonly-au":"link"===n.datatype||n.linkedValues?"readonly-list":"readonly":"id"!==n.datatype||this.pkeyIsEditable?"int"===n.datatype||"float"===n.datatype||"money"===n.datatype?n.datatype:"link"===n.datatype||n.linkedValues?"list":"text":"readonly"},l.prototype.openTranslator=function(n){var l=this;this.translator.fieldName=n,this.translator.idlObject=this.record,this.translator.open().subscribe(function(t){t&&l.record[n](t)})},l}(r.a))},aGNc:function(n,l,t){"use strict";t.d(l,"a",function(){return i});var e=t("mrSG"),u=t("FFOo");function i(n){return function(l){return l.lift(new r(n))}}var r=function(){function n(n){this.value=n}return n.prototype.call=function(n,l){return l.subscribe(new o(n,this.value))},n}(),o=function(n){function l(l,t){var e=n.call(this,l)||this;return e.value=t,e}return e.c(l,n),l.prototype._next=function(n){this.destination.next(this.value)},l}(u.a)},ad02:function(n,l,t){"use strict";t.d(l,"a",function(){return i});var e=t("mrSG"),u=t("FFOo");function i(n,l){return function(t){return t.lift(new r(n,l))}}var r=function(){function n(n,l){this.compare=n,this.keySelector=l}return n.prototype.call=function(n,l){return l.subscribe(new o(n,this.compare,this.keySelector))},n}(),o=function(n){function l(l,t,e){var u=n.call(this,l)||this;return u.keySelector=e,u.hasKey=!1,"function"==typeof t&&(u.compare=t),u}return e.c(l,n),l.prototype.compare=function(n,l){return n===l},l.prototype._next=function(n){var l;try{var t=this.keySelector;l=t?t(n):n}catch(u){return this.destination.error(u)}var e=!1;if(this.hasKey)try{e=(0,this.compare)(this.key,l)}catch(u){return this.destination.error(u)}else this.hasKey=!0;e||(this.key=l,this.destination.next(n))},l}(u.a)},gBxT:function(n,l,t){"use strict";t.d(l,"a",function(){return o}),t.d(l,"b",function(){return d});var e=t("CcnG"),u=t("gIcY"),i=t("4GxJ"),r=t("Ip0R"),o=(t("wVJ/"),t("8PDw"),t("OXuP"),t("cm5s"),t("wN9v"),e.pb({encapsulation:2,styles:[],data:{}}));function a(n){return e.Lb(0,[(n()(),e.Jb(0,null,["\n","\n"]))],null,function(n,l){n(l,0,0,l.context.result.label)})}function s(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Jb(2,null,["",""]))],null,function(n,l){n(l,2,0,l.component.selected.label)})}function c(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),e.rb(1,16777216,null,null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["container","body"],["role","combobox"],["type","text"]],[[1,"id",0],[8,"placeholder",0],[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"selectItem"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],function(n,l,t){var u=!0,i=n.component;return"input"===l&&(u=!1!==e.Bb(n,2)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,2).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Bb(n,2)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Bb(n,2)._compositionEnd(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,3).handleBlur()&&u),"keydown"===l&&(u=!1!==e.Bb(n,3).handleKeyDown(t)&&u),"ngModelChange"===l&&(u=!1!==(i.selected=t)&&u),"click"===l&&(u=!1!==i.click$.next(t.target.value)&&u),"selectItem"===l&&(u=!1!==i.orgChanged(t)&&u),u},null,null)),e.qb(2,16384,null,0,u.d,[e.E,e.k,[2,u.a]],null,null),e.qb(3,212992,[[1,4],["instance",4]],0,i.ib,[e.k,e.P,e.E,e.r,e.j,i.jb,e.A,i.lb,r.e,e.A,e.h,e.g],{container:[0,"container"],inputFormatter:[1,"inputFormatter"],ngbTypeahead:[2,"ngbTypeahead"],resultTemplate:[3,"resultTemplate"]},{selectItem:"selectItem"}),e.Gb(1024,null,u.n,function(n,l){return[n,l]},[u.d,i.ib]),e.qb(5,671744,null,0,u.s,[[8,null],[8,null],[8,null],[6,u.n]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,u.o,null,[u.s]),e.qb(7,16384,null,0,u.p,[[4,u.o]],null,null),(n()(),e.ib(0,null,null,0))],function(n,l){var t=l.component;n(l,3,0,"body",t.formatter,t.filter,e.Bb(l.parent,1)),n(l,5,0,t.disabled,t.selected)},function(n,l){var t=l.component;n(l,1,1,[t.domId.length?t.domId:null,t.placeholder,e.Bb(l,3).isPopupOpen(),e.Bb(l,3).autocomplete,e.Bb(l,3).showHint?"both":"list",e.Bb(l,3).activeDescendant,e.Bb(l,3).isPopupOpen()?e.Bb(l,3).popupId:null,e.Bb(l,3).isPopupOpen(),e.Bb(l,7).ngClassUntouched,e.Bb(l,7).ngClassTouched,e.Bb(l,7).ngClassPristine,e.Bb(l,7).ngClassDirty,e.Bb(l,7).ngClassValid,e.Bb(l,7).ngClassInvalid,e.Bb(l,7).ngClassPending])})}function d(n){return e.Lb(0,[e.Hb(671088640,1,{instance:0}),(n()(),e.ib(0,[["displayTemplate",2]],null,0,null,a)),(n()(),e.ib(16777216,null,null,1,null,s)),e.qb(3,16384,null,0,r.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,c)),e.qb(5,16384,null,0,r.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,3,0,t.readOnly&&t.selected),n(l,5,0,!t.readOnly)},null)}},nUl2:function(n,l,t){"use strict";t.d(l,"a",function(){return o}),t.d(l,"b",function(){return s});var e=t("CcnG"),u=t("Ip0R"),i=t("gIcY"),r=t("4GxJ"),o=(t("9rfo"),t("OXuP"),t("wBwE"),t("iA0r"),e.pb({encapsulation:0,styles:[".icons[_ngcontent-%COMP%] {margin-left:-18px}\n    .material-icons[_ngcontent-%COMP%] {font-size: 16px;font-weight:bold}"],data:{}}));function a(n){return e.Lb(0,[(n()(),e.Jb(0,null,["\n","\n"]))],null,function(n,l){n(l,0,0,l.context.result.label||l.context.result.id)})}function s(n){return e.Lb(0,[e.Hb(402653184,1,{instance:0}),(n()(),e.ib(0,[["defaultDisplayTemplate",2]],null,0,null,a)),(n()(),e.rb(2,0,null,null,16,"div",[["class","d-flex"]],null,null,null,null,null)),(n()(),e.rb(3,16777216,null,null,10,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["container","body"],["role","combobox"],["type","text"]],[[8,"placeholder",0],[1,"required",0],[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"blur"],[null,"selectItem"],[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],function(n,l,t){var u=!0,i=n.component;return"input"===l&&(u=!1!==e.Bb(n,6)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,6).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Bb(n,6)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Bb(n,6)._compositionEnd(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,9).handleBlur()&&u),"keydown"===l&&(u=!1!==e.Bb(n,9).handleKeyDown(t)&&u),"ngModelChange"===l&&(u=!1!==(i.selected=t)&&u),"click"===l&&(u=!1!==i.onClick(t)&&u),"blur"===l&&(u=!1!==i.onBlur()&&u),"selectItem"===l&&(u=!1!==i.selectorChanged(t)&&u),u},null,null)),e.qb(4,278528,null,0,u.n,[e.t,e.u,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(5,{"text-success font-italic font-weight-bold":0}),e.qb(6,16384,null,0,i.d,[e.E,e.k,[2,i.a]],null,null),e.qb(7,16384,null,0,i.w,[],{required:[0,"required"]},null),e.Gb(1024,null,i.m,function(n){return[n]},[i.w]),e.qb(9,212992,[[1,4],["instance",4]],0,r.ib,[e.k,e.P,e.E,e.r,e.j,r.jb,e.A,r.lb,u.e,e.A,e.h,e.g],{container:[0,"container"],inputFormatter:[1,"inputFormatter"],ngbTypeahead:[2,"ngbTypeahead"],resultTemplate:[3,"resultTemplate"]},{selectItem:"selectItem"}),e.Gb(1024,null,i.n,function(n,l){return[n,l]},[i.d,r.ib]),e.qb(11,671744,null,0,i.s,[[8,null],[6,i.m],[8,null],[6,i.n]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,i.o,null,[i.s]),e.qb(13,16384,null,0,i.p,[[4,i.o]],null,null),(n()(),e.rb(14,0,null,null,4,"div",[["class","d-flex flex-column icons"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openMe(t)&&e),e},null,null)),(n()(),e.rb(15,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["keyboard_arrow_up"])),(n()(),e.rb(17,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["keyboard_arrow_down"]))],function(n,l){var t=l.component,u=n(l,5,0,t.selected&&t.selected.freetext);n(l,4,0,"form-control",u),n(l,7,0,t.isRequired),n(l,9,0,"body",t.formatDisplayString,t.filter,t.displayTemplate||e.Bb(l,1)),n(l,11,0,t.name,t.isDisabled,t.selected)},function(n,l){n(l,3,1,[l.component.placeholder,e.Bb(l,7).required?"":null,e.Bb(l,9).isPopupOpen(),e.Bb(l,9).autocomplete,e.Bb(l,9).showHint?"both":"list",e.Bb(l,9).activeDescendant,e.Bb(l,9).isPopupOpen()?e.Bb(l,9).popupId:null,e.Bb(l,9).isPopupOpen(),e.Bb(l,13).ngClassUntouched,e.Bb(l,13).ngClassTouched,e.Bb(l,13).ngClassPristine,e.Bb(l,13).ngClassDirty,e.Bb(l,13).ngClassValid,e.Bb(l,13).ngClassInvalid,e.Bb(l,13).ngClassPending])})}},oCNH:function(n,l,t){"use strict";t.d(l,"a",function(){return u});var e=t("mrSG"),u=(t("wBwE"),t("YRS1"),t("A9LY"),t("8PDw"),t("iA0r"),function(n){function l(l,t,e,u,i,r,o){var a=n.call(this,l)||this;return a.modal=l,a.renderer=t,a.idl=e,a.toast=u,a.locale=i,a.pcrud=r,a.auth=o,a}return Object(e.c)(l,n),Object.defineProperty(l.prototype,"idlObject",{set:function(n){n&&(this.idlObj=n,this.idlClassDef=this.idl.classes[n.classname],this.fetchTranslation())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"fieldName",{set:function(n){this.field=n},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var n=this;this.selectedLocale=this.locale.currentLocaleCode(),this.locales=[],this.locale.supportedLocales().subscribe(function(l){return n.locales.push(l)}),this.onOpen$.subscribe(function(){var l=n.renderer.selectRootElement("#translation-input");l&&(l.focus(),l.select())})},l.prototype.localeChanged=function(n){this.fetchTranslation()},l.prototype.fetchTranslation=function(){var n=this,l=this.existingTranslation;l&&l.fq_field()===this.fqField()&&l.identity_value()===this.identValue()||(this.translatedValue="",this.existingTranslation=null,this.pcrud.search("i18n",{translation:this.selectedLocale,fq_field:this.fqField(),identity_value:this.identValue()}).subscribe(function(l){n.existingTranslation=l,n.translatedValue=l.string(),console.debug("found existing translation ",l)}))},l.prototype.fqField=function(){return this.idlClassDef.classname+"."+this.field},l.prototype.identValue=function(){return this.idlObj[this.idlClassDef.pkey||"id"]()},l.prototype.translate=function(){var n=this;if(this.translatedValue){var l;if(this.existingTranslation)return(l=this.existingTranslation).string(this.translatedValue),void this.pcrud.update(l).toPromise().then(function(l){n.nextString||n.close(n.translatedValue)},function(n){return console.error(n)});(l=this.idl.create("i18n")).fq_field(this.fqField()),l.identity_value(this.identValue()),l.translation(this.selectedLocale),l.string(this.translatedValue),this.pcrud.create(l).toPromise().then(function(l){n.nextString||n.close(n.translatedValue)},function(n){return console.error("Translation creation failed")})}},l}(t("rRT/").a))},vG6Q:function(n,l,t){"use strict";t.d(l,"a",function(){return r});var e=t("CcnG"),u=(t("ZvpF"),t("gIcY")),i=(t("x6nW"),t("f0Wu")),r=function(){function n(n,l,t){this.format=n,this.dtv=l,this.controlDir=t,this.domId="",this.minuteStep=15,this.showTZ=!0,this.timezone=this.format.wsOrgTimezone,this.readOnly=!1,this.onChange=function(n){},this.onTouched=function(){},t&&(t.valueAccessor=this),this.onChangeAsIso=new e.m;var r=i.tz([],this.timezone);this.dateTimeForm=new u.j({stringVersion:new u.h(this.format.transform({value:r,datatype:"timestamp",datePlusTime:!0}),this.dtv.validate),date:new u.h({year:r.year(),month:r.month()+1,day:r.date()}),time:new u.h({hour:r.hour(),minute:r.minute(),second:0})})}return n.prototype.ngOnInit=function(){var n=this;this.timezone||(this.timezone=this.format.wsOrgTimezone),this.initialIso&&this.writeValue(i(this.initialIso).tz(this.timezone)),this.dateTimeForm.get("stringVersion").valueChanges.subscribe(function(l){if("VALID"===n.dateTimeForm.get("stringVersion").status){var t=n.format.momentizeDateTimeString(l,n.timezone,!1);t&&t.isValid()&&(n.onChange(t),n.onChangeAsIso.emit(t.toISOString()),n.dateTimeForm.patchValue({date:{year:t.year(),month:t.month()+1,day:t.date()},time:{hour:t.hour(),minute:t.minute(),second:0}},{emitEvent:!1,onlySelf:!0}),n.datePicker.navigateTo({year:t.year(),month:t.month()+1}))}}),this.dateTimeForm.get("date").valueChanges.subscribe(function(l){var t=i.tz([l.year,l.month-1,l.day,n.time.value.hour,n.time.value.minute,0],n.timezone);n.dateTimeForm.patchValue({stringVersion:n.format.transform({value:t,datatype:"timestamp",datePlusTime:!0})},{emitEvent:!1,onlySelf:!0}),n.onChange(t),n.onChangeAsIso.emit(t.toISOString())}),this.dateTimeForm.get("time").valueChanges.subscribe(function(l){var t=i.tz([n.date.value.year,n.date.value.month-1,n.date.value.day,l.hour,l.minute,0],n.timezone);n.dateTimeForm.patchValue({stringVersion:n.format.transform({value:t,datatype:"timestamp",datePlusTime:!0})},{emitEvent:!1,onlySelf:!0}),n.onChange(t),n.onChangeAsIso.emit(t.toISOString())})},n.prototype.setDatePicker=function(n){var l=n?n.tz(this.timezone):i.tz([],this.timezone);this.dateTimeForm.patchValue({date:{year:l.year(),month:l.month()+1,day:l.date()}})},n.prototype.setTimePicker=function(n){var l=n?n.tz(this.timezone):i.tz([],this.timezone);this.dateTimeForm.patchValue({time:{hour:l.hour(),minute:l.minute(),second:0}})},n.prototype.writeValue=function(n){null!=n&&(this.dateTimeForm.patchValue({stringVersion:this.format.transform({value:n,datatype:"timestamp",datePlusTime:!0})}),this.setDatePicker(n),this.setTimePicker(n))},n.prototype.registerOnChange=function(n){this.onChange=n},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.firstError=function(n){return Object.values(n)[0]},Object.defineProperty(n.prototype,"stringVersion",{get:function(){return this.dateTimeForm.get("stringVersion")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"date",{get:function(){return this.dateTimeForm.get("date")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"time",{get:function(){return this.dateTimeForm.get("time")},enumerable:!0,configurable:!0}),n}()},"wVJ/":function(n,l,t){"use strict";t.d(l,"a",function(){return d});var e=t("CcnG"),u=t("K9Ia"),i=t("Gi3i"),r=t("ad02"),o=t("TYK5"),a=t("VnD/"),s=t("aGNc"),c=t("67Y/"),d=(t("8PDw"),t("OXuP"),t("cm5s"),t("wN9v"),function(){function n(n,l,t,d){var b=this;this.auth=n,this.store=l,this.org=t,this.perm=d,this.hidden=[],this.click$=new u.a,this.placeholder="",this.domId="",this.displayField="shortname",this.applyDefault=!1,this.readOnly=!1,this._disabledOrgs=[],this.onChange=new e.m,this.formatter=function(n){return n?n.label.trim():""},this.filter=function(n){return n.pipe(Object(i.a)(200),Object(r.a)(),Object(o.a)(b.click$.pipe(Object(a.a)(function(){return!b.instance.isPopupOpen()})).pipe(Object(s.a)("_CLICK_"))),Object(c.a)(function(n){var l=b.org.list().filter(function(n){return 0===b.hidden.filter(function(l){return n.id()===l}).length});return b.permLimitOrgs&&(l=l.filter(function(n){return b.permLimitOrgs.includes(n.id())})),"_CLICK_"!==n&&(l=l.filter(function(l){return""===n||l[b.displayField]().toLowerCase().indexOf(n.toLowerCase())>-1})),l.map(function(n){return b.formatForDisplay(n)})}))}}return Object.defineProperty(n.prototype,"hideOrgs",{set:function(n){n&&(this.hidden=n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disableOrgs",{set:function(n){n&&(this._disabledOrgs=n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"initialOrg",{set:function(n){n&&(this.startOrg=n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"initialOrgId",{set:function(n){n&&(this.startOrg=this.org.get(n))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"applyOrg",{set:function(n){n&&(this.selected=this.formatForDisplay(n))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"limitPerms",{set:function(n){this.applyPermLimitOrgs(n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"applyOrgId",{set:function(n){n&&(this.selected=this.formatForDisplay(this.org.get(n)))},enumerable:!0,configurable:!0}),n.prototype.selectedOrg=function(){return null==this.selected?null:this.org.get(this.selected.id)},n.prototype.ngOnInit=function(){var n=this;!this.startOrg&&this.applyDefault&&this.auth.user()&&(this.startOrg=this.org.get(this.auth.user().ws_ou()),this.selected=this.formatForDisplay(this.org.get(this.auth.user().ws_ou())),setTimeout(function(){return n.onChange.emit(n.startOrg)},0)),this.startOrg&&(this.selected=this.formatForDisplay(this.startOrg))},n.prototype.applyPermLimitOrgs=function(n){var l=this;n&&0!==(n=n.filter(function(n){return null!=n})).length&&this.perm.hasWorkPermAt(n,!0).then(function(n){l.permLimitOrgs=Object.values(n).reduce(function(n,l){return n.concat(l)},[])})},n.prototype.formatForDisplay=function(n){var l=n[this.displayField]();return this.readOnly||(l="\u2007".repeat(n.ou_type().depth())+l),{id:n.id(),label:l,disabled:!1}},n.prototype.orgChanged=function(n){this.onChange.emit(this.org.get(n.item.id))},n.prototype.reset=function(){this.selected=null},n}())},x6nW:function(n,l,t){"use strict";t.d(l,"a",function(){return i}),t.d(l,"b",function(){return r});var e=t("ZvpF"),u=t("CcnG"),i=function(){function n(n){var l=this;this.format=n,this.validate=function(n){try{l.format.momentizeDateTimeString(n.value,"Africa/Addis_Ababa",!0)}catch(t){return{datetimeParseError:t.message}}return null}}return n.ngInjectableDef=u.T({factory:function(){return new n(u.X(e.a))},token:n,providedIn:"root"}),n}(),r=function(){return function(n){var l=this;this.dtv=n,this.validate=function(n){l.dtv.validate(n)}}}()},zF8d:function(n,l,t){"use strict";t.d(l,"a",function(){return e});var e=function(){return function(){}}()}}]);