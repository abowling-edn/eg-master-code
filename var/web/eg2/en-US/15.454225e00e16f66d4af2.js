(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{CAXJ:function(l,n,u){"use strict";u.r(n);var e=u("CcnG"),t=function(){return function(){}}(),a=u("pMnS"),r=u("9AJC"),o=u("gIcY"),i=u("Ip0R"),c=u("4GxJ"),s=u("gBxT"),b=u("wVJ/"),d=u("8PDw"),p=u("OXuP"),h=u("cm5s"),g=u("wN9v"),m=u("ZYCi"),f=u("6rhm"),v=u("36iw"),y=u("StZw"),C=u("tNQm"),k=u("G8BM"),w=u("mrSG"),B=u("OsfI"),x=u("rRT/"),q=u("mW9/"),_=u("avZ9"),I=u("XN9O"),M=function(){function l(l,n,u,e,t){this.router=l,this.route=n,this.org=u,this.cat=e,this.catUrl=t,this.routeIndex=0}return l.prototype.createContext=function(){this.searchContext=this.catUrl.fromUrlParams(this.route.snapshot.queryParamMap),this.searchContext.org=this.org,this.searchContext.isStaff=!0,this.applySearchDefaults()},l.prototype.cloneContext=function(l){var n=this.catUrl.toUrlParams(l);return this.catUrl.fromUrlHash(n)},l.prototype.applySearchDefaults=function(){this.searchContext.searchOrg||(this.searchContext.searchOrg=this.defaultSearchOrg||this.org.root()),this.searchContext.pager.limit||(this.searchContext.pager.limit=this.defaultSearchLimit||20)},l.prototype.search=function(){if(this.searchContext.isSearchable()){var l=this.catUrl.toUrlParams(this.searchContext);l.ridx=""+this.routeIndex++,this.router.navigate(["/staff/catalog/search"],{queryParams:l})}},l.prototype.browse=function(){if(this.searchContext.browseSearch.isSearchable()){var l=this.catUrl.toUrlParams(this.searchContext);l.ridx=""+this.routeIndex++,this.router.navigate(["/staff/catalog/browse"],{queryParams:l})}},l.prototype.cnBrowse=function(){if(this.searchContext.cnBrowseSearch.isSearchable()){var l=this.catUrl.toUrlParams(this.searchContext);l.ridx=""+this.routeIndex++,this.router.navigate(["/staff/catalog/cnbrowse"],{queryParams:l})}},l}(),S=u("EQoe"),P="eg.catalog.recent_searches",T=function(){return function(l,n){this.params={},this.name=l,this.params=n}}(),D=function(l){function n(n,u,e,t,a,r,o,i,c){var s=l.call(this,c)||this;return s.org=n,s.store=u,s.serverStore=e,s.cache=t,s.strings=a,s.cat=r,s.catUrl=o,s.staffCat=i,s.modal=c,s.recentSearchesCount=0,s.templates=[],s.searches=[],s.store.addLoginSessionKey(P),s}return Object(w.c)(n,l),n.prototype.ngOnInit=function(){var l=this;this.context=this.staffCat.searchContext,console.log("ngOnInit() with selected = ",this.staffCat.selectedTemplate),this.org.settings("opac.staff_saved_search.size").then(function(n){var u=n["opac.staff_saved_search.size"]||0;u&&(l.recentSearchesCount=Number(u),l.getSearches().then(function(n){l.searches.forEach(function(n){return n.params.ridx=++l.staffCat.routeIndex}),l.saveSearch(l.context),l.cat.onSearchComplete.subscribe(function(n){return l.saveSearch(n)})}))}),this.getTemplates()},n.prototype.selectedTemplate=function(){return this.staffCat.selectedTemplate},n.prototype.getSearches=function(){var l=this;if(this.searches=[],this.searchesCacheKey)return this.cache.getItem(this.searchesCacheKey,"searches").then(function(n){return l.searches=n||[]});var n=this.store.getLoginSessionItem(P);return n?(this.searchesCacheKey=n,this.cache.getItem(this.searchesCacheKey,"searches").then(function(n){return l.searches=n||[]})):this.cache.setItem(null,"searches",[]).then(function(n){l.searchesCacheKey=n,l.store.setLoginSessionItem(P,n)})},n.prototype.searchSelected=function(l){l.params.ridx=++this.staffCat.routeIndex},n.prototype.sortSearches=function(){return this.searches.sort(function(l,n){return l.addTime>n.addTime?-1:1})},n.prototype.deleteSearches=function(){var l=this;this.confirmDeleteSearches.open().subscribe(function(n){n&&(l.searches=[],l.cache.setItem(l.searchesCacheKey,"searches",[]))})},n.prototype.getSearchPath=function(l){return"browse"===l.params.searchTab?"/staff/catalog/browse":"/staff/catalog/search"},n.prototype.saveSearch=function(l){var n=this,u=!1;if(this.searches.forEach(function(e){n.catUrl.fromUrlHash(e.params).equals(l)&&(u=!0)}),!u){var e;switch(this.searchTab){case"term":e=l.termSearch.query[0];break;case"marc":e=l.marcSearch.values[0];break;case"ident":e=l.identSearch.value;break;case"browse":e=l.browseSearch.value;break;case"cnbrowse":e=l.cnBrowseSearch.value}e&&this.strings.interpolate("eg.catalog.recent_search.label",{query:e,tab:this.searchTab}).then(function(u){var e=n.prepareSearch(l),t=new T(u,e);t.addTime=(new Date).getTime(),n.searches.unshift(t),n.searches.length>n.recentSearchesCount&&(n.searches.length=n.recentSearchesCount),n.cache.setItem(n.searchesCacheKey,"searches",n.searches).then(function(l){return t.params.ridx=++n.staffCat.routeIndex})})}},n.prototype.getTemplates=function(){var l=this;return this.templates=[],this.serverStore.getItem("eg.catalog.search_templates").then(function(n){n&&n.length&&(l.templates=n,l.templates.forEach(function(n){return n.params.ridx=++l.staffCat.routeIndex}))})},n.prototype.sortTemplates=function(){return this.templates.sort(function(l,n){return l.name.toLowerCase()<n.name.toLowerCase()?-1:1})},n.prototype.templateSelected=function(l){this.staffCat.selectedTemplate=l.name,l.params.ridx=++this.staffCat.routeIndex,console.log("selected template = ",this.staffCat.selectedTemplate)},n.prototype.addDummyQueries=function(l){l.termSearch.query=l.termSearch.query.map(function(l){return"x"}),l.marcSearch.values=l.marcSearch.values.map(function(l){return"x"}),l.browseSearch.value="x",l.identSearch.value="x"},n.prototype.removeDummyQueries=function(l){l.query=Array.isArray(l.query)?l.query.map(function(l){return""}):"",l.marcValue=Array.isArray(l.marcValue)?l.marcValue.map(function(l){return""}):"",l.identQuery="",l.browseTerm=""},n.prototype.prepareSearch=function(l,n){var u=l.clone();n&&this.addDummyQueries(u),u.scrub(this.searchTab);var e=this.catUrl.toUrlParams(u);return n&&this.removeDummyQueries(e),delete e.org,delete e.ridx,e.searchTab=this.searchTab,e},n.prototype.saveTemplate=function(){var l=this;if(!this.templateName)return Promise.resolve();this.staffCat.selectedTemplate=this.templateName;var n=this.prepareSearch(this.context,!0);return this.templates.push(new T(this.templateName,n)),this.applyTemplateChanges().then(function(n){return l.close()})},n.prototype.applyTemplateChanges=function(){return this.serverStore.setItem("eg.catalog.search_templates",this.templates)},n.prototype.deleteTemplate=function(){var l=this;this.confirmDelete.open().subscribe(function(n){if(n){var u=[];l.templates.forEach(function(n){n.name!==l.staffCat.selectedTemplate&&u.push(n)}),l.templates=u,l.staffCat.selectedTemplate="",l.applyTemplateChanges()}})},n.prototype.deleteAllTemplates=function(){var l=this;this.confirmDeleteAll.open().subscribe(function(n){n&&(l.templates=[],l.staffCat.selectedTemplate="",l.applyTemplateChanges())})},n}(x.a),L=e.pb({encapsulation:2,styles:[],data:{}});function E(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Search:"]))],null,null)}function J(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Identifier:"]))],null,null)}function F(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["MARC:"]))],null,null)}function H(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Browse:"]))],null,null)}function A(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,9,null,null,null,null,null,null,null)),e.qb(1,16384,null,0,i.v,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),e.ib(16777216,null,null,1,null,E)),e.qb(3,278528,null,0,i.w,[e.P,e.M,i.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.ib(16777216,null,null,1,null,J)),e.qb(5,278528,null,0,i.w,[e.P,e.M,i.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.ib(16777216,null,null,1,null,F)),e.qb(7,278528,null,0,i.w,[e.P,e.M,i.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.ib(16777216,null,null,1,null,H)),e.qb(9,278528,null,0,i.w,[e.P,e.M,i.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.Jb(10,null,[" ","\n"]))],function(l,n){l(n,1,0,n.context.tab),l(n,3,0,"term"),l(n,5,0,"ident"),l(n,7,0,"marc"),l(n,9,0,"browse")},function(l,n){l(n,10,0,n.context.query)})}function N(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"button",[["class","dropdown-item font-italic"]],[[8,"disabled",0]],null,null,null,null)),(l()(),e.Jb(-1,null,["No Recent Searches"]))],null,function(l,n){l(n,0,0,!0)})}function O(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,u){var t=!0,a=l.component;return"click"===n&&(t=!1!==e.Bb(l,1).onClick()&&t),"click"===n&&(t=!1!==a.searchSelected(l.context.$implicit)&&t),t},null,null)),e.qb(1,16384,null,0,m.m,[m.l,m.a,[8,null],e.E,e.k],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),(l()(),e.Jb(2,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.params,n.component.getSearchPath(n.context.$implicit))},function(l,n){l(n,2,0,n.context.$implicit.name)})}function R(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,19,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,18,"div",[["ngbDropdown",""],["placement","bottom-right"]],[[2,"show",null]],null,null,null,null)),e.qb(2,737280,null,3,c.t,[e.h,c.v,i.e,e.A,e.k,e.E,[2,c.qb]],{placement:[0,"placement"]},null),e.Hb(335544320,5,{_menu:0}),e.Hb(335544320,6,{_menuElement:0}),e.Hb(335544320,7,{_anchor:0}),(l()(),e.rb(6,0,null,null,3,"button",[["aria-haspopup","true"],["class","btn btn-light dropdown-toggle"],["id","recentSearches"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,7).dropdown.toggle()&&t),"keydown.ArrowUp"===n&&(t=!1!==e.Bb(l,7).dropdown.onKeyDown(u)&&t),"keydown.ArrowDown"===n&&(t=!1!==e.Bb(l,7).dropdown.onKeyDown(u)&&t),"keydown.Home"===n&&(t=!1!==e.Bb(l,7).dropdown.onKeyDown(u)&&t),"keydown.End"===n&&(t=!1!==e.Bb(l,7).dropdown.onKeyDown(u)&&t),t},null,null)),e.qb(7,16384,null,0,c.y,[c.t,e.k],null,null),e.Gb(2048,[[7,4]],c.u,null,[c.y]),(l()(),e.Jb(-1,null,["Recent Searches"])),(l()(),e.rb(10,0,[[6,0]],null,9,"div",[["aria-labelledby","recentSearches"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],function(l,n,u){var t=!0;return"keydown.ArrowUp"===n&&(t=!1!==e.Bb(l,11).dropdown.onKeyDown(u)&&t),"keydown.ArrowDown"===n&&(t=!1!==e.Bb(l,11).dropdown.onKeyDown(u)&&t),"keydown.Home"===n&&(t=!1!==e.Bb(l,11).dropdown.onKeyDown(u)&&t),"keydown.End"===n&&(t=!1!==e.Bb(l,11).dropdown.onKeyDown(u)&&t),"keydown.Enter"===n&&(t=!1!==e.Bb(l,11).dropdown.onKeyDown(u)&&t),"keydown.Space"===n&&(t=!1!==e.Bb(l,11).dropdown.onKeyDown(u)&&t),t},null,null)),e.qb(11,16384,[[5,4]],1,c.w,[c.t],null,null),e.Hb(603979776,8,{menuItems:1}),(l()(),e.rb(13,0,null,null,1,"button",[["class","dropdown-item"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.deleteSearches()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Clear Recent Searches"])),(l()(),e.rb(15,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,N)),e.qb(17,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,O)),e.qb(19,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var u=n.component;l(n,2,0,"bottom-right"),l(n,17,0,0===u.searches.length),l(n,19,0,u.sortSearches())},function(l,n){var u=n.component;l(n,1,0,e.Bb(n,2).isOpen()),l(n,6,0,e.Bb(n,7).dropdown.isOpen()),l(n,10,0,!0,e.Bb(n,11).dropdown.isOpen(),e.Bb(n,11).placement),l(n,13,0,0===u.searches.length)})}function G(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"button",[["class","dropdown-item font-italic"]],[[8,"disabled",0]],null,null,null,null)),(l()(),e.Jb(-1,null,["No Saved Templates"]))],null,function(l,n){l(n,0,0,!0)})}function U(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,u){var t=!0,a=l.component;return"click"===n&&(t=!1!==e.Bb(l,3).onClick()&&t),"click"===n&&(t=!1!==a.templateSelected(l.context.$implicit)&&t),t},null,null)),e.qb(1,278528,null,0,i.n,[e.t,e.u,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(2,{"font-weight-bold":0}),e.qb(3,16384,null,0,m.m,[m.l,m.a,[8,null],e.E,e.k],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),(l()(),e.Jb(4,null,["",""]))],function(l,n){var u=n.component,e=l(n,2,0,n.context.$implicit.name===u.selectedTemplate());l(n,1,0,"dropdown-item",e),l(n,3,0,n.context.$implicit.params,u.getSearchPath(n.context.$implicit))},function(l,n){l(n,4,0,n.context.$implicit.name)})}function j(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,5,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Save Template"])),(l()(),e.rb(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.rb(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xd7"])),(l()(),e.rb(6,0,null,null,10,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.rb(7,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,1,"div",[["class","col-lg-4"],["id","templateNameLabel"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Template Name:"])),(l()(),e.rb(10,0,null,null,6,"div",[["class","col-lg-6"]],null,null,null,null,null)),(l()(),e.rb(11,0,null,null,5,"input",[["aria-labelledby","templateNameLabel"],["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,12)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,12).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,12)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,12)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(a.templateName=u)&&t),t},null,null)),e.qb(12,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(14,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(16,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(17,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.rb(18,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.saveTemplate()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Save"])),(l()(),e.rb(20,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Cancel"]))],function(l,n){l(n,14,0,n.component.templateName)},function(l,n){l(n,11,0,e.Bb(n,16).ngClassUntouched,e.Bb(n,16).ngClassTouched,e.Bb(n,16).ngClassPristine,e.Bb(n,16).ngClassDirty,e.Bb(n,16).ngClassValid,e.Bb(n,16).ngClassInvalid,e.Bb(n,16).ngClassPending)})}function K(l){return e.Lb(0,[e.Hb(402653184,1,{dialogContent:0}),e.Hb(402653184,2,{confirmDelete:0}),e.Hb(402653184,3,{confirmDeleteAll:0}),e.Hb(402653184,4,{confirmDeleteSearches:0}),(l()(),e.rb(4,0,null,null,1,"eg-confirm-dialog",[["dialogTitle","Confirm Delete"]],null,null,null,f.b,f.a)),e.qb(5,114688,[[2,4],["confirmDelete",4]],0,v.a,[c.B],{dialogTitle:[0,"dialogTitle"],dialogBody:[1,"dialogBody"]},null),(l()(),e.rb(6,0,null,null,1,"eg-confirm-dialog",[["dialogBody","Delete all saved templates?"],["dialogTitle","Confirm Delete All"]],null,null,null,f.b,f.a)),e.qb(7,114688,[[3,4],["confirmDeleteAll",4]],0,v.a,[c.B],{dialogTitle:[0,"dialogTitle"],dialogBody:[1,"dialogBody"]},null),(l()(),e.rb(8,0,null,null,1,"eg-confirm-dialog",[["dialogBody","Clear all recent searches?"],["dialogTitle","Confirm clear searches"]],null,null,null,f.b,f.a)),e.qb(9,114688,[[4,4],["confirmDeleteSearches",4]],0,v.a,[c.B],{dialogTitle:[0,"dialogTitle"],dialogBody:[1,"dialogBody"]},null),(l()(),e.ib(0,[["searchName",2]],null,0,null,A)),(l()(),e.rb(11,0,null,null,1,"eg-string",[["key","eg.catalog.recent_search.label"]],null,null,null,y.b,y.a)),e.qb(12,114688,null,0,C.a,[e.k,k.a],{key:[0,"key"],template:[1,"template"]},null),(l()(),e.rb(13,0,null,null,25,"div",[["class","d-flex justify-content-end"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,R)),e.qb(15,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(16,0,null,null,22,"div",[["ngbDropdown",""],["placement","bottom-right"]],[[2,"show",null]],null,null,null,null)),e.qb(17,737280,null,3,c.t,[e.h,c.v,i.e,e.A,e.k,e.E,[2,c.qb]],{placement:[0,"placement"]},null),e.Hb(335544320,9,{_menu:0}),e.Hb(335544320,10,{_menuElement:0}),e.Hb(335544320,11,{_anchor:0}),(l()(),e.rb(21,0,null,null,3,"button",[["aria-haspopup","true"],["class","btn btn-light dropdown-toggle"],["id","searchTemplates"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,22).dropdown.toggle()&&t),"keydown.ArrowUp"===n&&(t=!1!==e.Bb(l,22).dropdown.onKeyDown(u)&&t),"keydown.ArrowDown"===n&&(t=!1!==e.Bb(l,22).dropdown.onKeyDown(u)&&t),"keydown.Home"===n&&(t=!1!==e.Bb(l,22).dropdown.onKeyDown(u)&&t),"keydown.End"===n&&(t=!1!==e.Bb(l,22).dropdown.onKeyDown(u)&&t),t},null,null)),e.qb(22,16384,null,0,c.y,[c.t,e.k],null,null),e.Gb(2048,[[11,4]],c.u,null,[c.y]),(l()(),e.Jb(-1,null,["Search Templates"])),(l()(),e.rb(25,0,[[10,0]],null,13,"div",[["aria-labelledby","searchTemplates"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],function(l,n,u){var t=!0;return"keydown.ArrowUp"===n&&(t=!1!==e.Bb(l,26).dropdown.onKeyDown(u)&&t),"keydown.ArrowDown"===n&&(t=!1!==e.Bb(l,26).dropdown.onKeyDown(u)&&t),"keydown.Home"===n&&(t=!1!==e.Bb(l,26).dropdown.onKeyDown(u)&&t),"keydown.End"===n&&(t=!1!==e.Bb(l,26).dropdown.onKeyDown(u)&&t),"keydown.Enter"===n&&(t=!1!==e.Bb(l,26).dropdown.onKeyDown(u)&&t),"keydown.Space"===n&&(t=!1!==e.Bb(l,26).dropdown.onKeyDown(u)&&t),t},null,null)),e.qb(26,16384,[[9,4]],1,c.w,[c.t],null,null),e.Hb(603979776,12,{menuItems:1}),(l()(),e.rb(28,0,null,null,1,"button",[["class","dropdown-item"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.open()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Save Template"])),(l()(),e.rb(30,0,null,null,1,"button",[["class","dropdown-item"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.deleteTemplate()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Delete Selected"])),(l()(),e.rb(32,0,null,null,1,"button",[["class","dropdown-item"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.deleteAllTemplates()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Delete All Templates"])),(l()(),e.rb(34,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,G)),e.qb(36,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,U)),e.qb(38,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,j))],function(l,n){var u=n.component;l(n,5,0,"Confirm Delete",e.tb(1,"Delete saved search template '",u.selectedTemplate(),"'?")),l(n,7,0,"Confirm Delete All","Delete all saved templates?"),l(n,9,0,"Confirm clear searches","Clear all recent searches?"),l(n,12,0,"eg.catalog.recent_search.label",e.Bb(n,10)),l(n,15,0,u.recentSearchesCount>0),l(n,17,0,"bottom-right"),l(n,36,0,0===u.templates.length),l(n,38,0,u.sortTemplates())},function(l,n){var u=n.component;l(n,16,0,e.Bb(n,17).isOpen()),l(n,21,0,e.Bb(n,22).dropdown.isOpen()),l(n,25,0,!0,e.Bb(n,26).dropdown.isOpen(),e.Bb(n,26).placement),l(n,28,0,"cnbrowse"===u.searchTab),l(n,30,0,!u.selectedTemplate()),l(n,32,0,0===u.templates.length)})}var $=u("1qTD"),V=u("1tmW"),z=u("YRS1"),W=u("wBwE"),Q=u("Osig"),Z=u("EQDH"),X=u("LMfH"),Y=u("E45d"),ll=function(){function l(l,n,u,e,t){this.router=l,this.net=n,this.auth=u,this.printer=e,this.basket=t,this.basketAction=""}return l.prototype.ngOnInit=function(){},l.prototype.basketCount=function(){return this.basket.recordCount()},l.prototype.applyAction=function(l){var n=this;switch(this.basketAction=l,console.debug("Performing basket action",this.basketAction),this.basketAction){case"view":this.router.navigate(["/staff/catalog/search"],{queryParams:{showBasket:!0}});break;case"clear":this.basket.removeAllRecordIds();break;case"hold":this.basket.getRecordIds().then(function(l){n.router.navigate(["/staff/catalog/hold/T"],{queryParams:{target:l}})});break;case"print":this.basket.getRecordIds().then(function(l){n.net.request("open-ils.search","open-ils.search.biblio.record.print",l).subscribe(function(l){var u=l.template_output().data();n.printer.print({text:u,printContext:"default"})})});break;case"email":this.basket.getRecordIds().then(function(l){n.net.request("open-ils.search","open-ils.search.biblio.record.email",n.auth.token(),l).toPromise()});break;case"export_marc":this.router.navigate(["/staff/cat/vandelay/export/basket"],{queryParamsHandling:"merge"});break;case"bucket":this.basket.getRecordIds().then(function(l){n.addToBucketDialog.bucketClass="biblio",n.addToBucketDialog.itemIds=l,n.addToBucketDialog.open({size:"lg"})})}setTimeout(function(){return n.basketAction=""})},l}(),nl=e.pb({encapsulation:2,styles:[],data:{}});function ul(l){return e.Lb(0,[e.Hb(402653184,1,{addToBucketDialog:0}),(l()(),e.rb(1,0,null,null,1,"eg-bucket-dialog",[],null,null,null,$.b,$.a)),e.qb(2,114688,[[1,4],["addBasketToBucketDialog",4]],0,V.a,[c.B,e.E,z.a,W.a,Q.b,Z.a,d.a],null,null),(l()(),e.rb(3,0,null,null,36,"div",[["class","d-flex justify-content-end"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,8,"div",[["class","pr-1"]],null,null,null,null,null)),(l()(),e.rb(5,0,null,null,7,"div",[["class","float-right"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,6,"a",[["class","label-with-material-icon"],["routerLink","/staff/catalog/search"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,7).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.qb(7,671744,null,0,m.n,[m.l,m.a,i.m],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),e.Eb(8,{showBasket:0}),(l()(),e.rb(9,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["shopping_basket"])),(l()(),e.rb(11,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(12,null,["(",")"])),(l()(),e.rb(13,0,null,null,26,"div",[["class",""]],null,null,null,null,null)),(l()(),e.rb(14,0,null,null,25,"div",[["ngbDropdown",""],["placement","bottom-right"]],[[2,"show",null]],null,null,null,null)),e.qb(15,737280,null,3,c.t,[e.h,c.v,i.e,e.A,e.k,e.E,[2,c.qb]],{placement:[0,"placement"]},null),e.Hb(335544320,2,{_menu:0}),e.Hb(335544320,3,{_menuElement:0}),e.Hb(335544320,4,{_anchor:0}),(l()(),e.rb(19,0,null,null,3,"button",[["aria-haspopup","true"],["class","btn btn-light dropdown-toggle"],["id","basketActions"],["ngbDropdownToggle",""]],[[8,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,20).dropdown.toggle()&&t),"keydown.ArrowUp"===n&&(t=!1!==e.Bb(l,20).dropdown.onKeyDown(u)&&t),"keydown.ArrowDown"===n&&(t=!1!==e.Bb(l,20).dropdown.onKeyDown(u)&&t),"keydown.Home"===n&&(t=!1!==e.Bb(l,20).dropdown.onKeyDown(u)&&t),"keydown.End"===n&&(t=!1!==e.Bb(l,20).dropdown.onKeyDown(u)&&t),t},null,null)),e.qb(20,16384,null,0,c.y,[c.t,e.k],null,null),e.Gb(2048,[[4,4]],c.u,null,[c.y]),(l()(),e.Jb(-1,null,["Basket Actions"])),(l()(),e.rb(23,0,[[3,0]],null,16,"div",[["aria-labelledby","basketActions"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],function(l,n,u){var t=!0;return"keydown.ArrowUp"===n&&(t=!1!==e.Bb(l,24).dropdown.onKeyDown(u)&&t),"keydown.ArrowDown"===n&&(t=!1!==e.Bb(l,24).dropdown.onKeyDown(u)&&t),"keydown.Home"===n&&(t=!1!==e.Bb(l,24).dropdown.onKeyDown(u)&&t),"keydown.End"===n&&(t=!1!==e.Bb(l,24).dropdown.onKeyDown(u)&&t),"keydown.Enter"===n&&(t=!1!==e.Bb(l,24).dropdown.onKeyDown(u)&&t),"keydown.Space"===n&&(t=!1!==e.Bb(l,24).dropdown.onKeyDown(u)&&t),t},null,null)),e.qb(24,16384,[[2,4]],1,c.w,[c.t],null,null),e.Hb(603979776,5,{menuItems:1}),(l()(),e.rb(26,0,null,null,1,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.applyAction("view")&&e),e},null,null)),(l()(),e.Jb(-1,null,["View Basket"])),(l()(),e.rb(28,0,null,null,1,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.applyAction("hold")&&e),e},null,null)),(l()(),e.Jb(-1,null,["Place Hold"])),(l()(),e.rb(30,0,null,null,1,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.applyAction("print")&&e),e},null,null)),(l()(),e.Jb(-1,null,["Print Title Details"])),(l()(),e.rb(32,0,null,null,1,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.applyAction("email")&&e),e},null,null)),(l()(),e.Jb(-1,null,["Email Title Details"])),(l()(),e.rb(34,0,null,null,1,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.applyAction("bucket")&&e),e},null,null)),(l()(),e.Jb(-1,null,["Add Basket to Bucket"])),(l()(),e.rb(36,0,null,null,1,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.applyAction("export_marc")&&e),e},null,null)),(l()(),e.Jb(-1,null,["Export Records"])),(l()(),e.rb(38,0,null,null,1,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.applyAction("clear")&&e),e},null,null)),(l()(),e.Jb(-1,null,["Clear Basket"]))],function(l,n){l(n,2,0);var u=l(n,8,0,!0);l(n,7,0,u,"/staff/catalog/search"),l(n,15,0,"bottom-right")},function(l,n){var u=n.component;l(n,6,0,e.Bb(n,7).target,e.Bb(n,7).href),l(n,12,0,u.basketCount()),l(n,14,0,e.Bb(n,15).isOpen()),l(n,19,0,!u.basketCount(),e.Bb(n,20).dropdown.isOpen()),l(n,23,0,!0,e.Bb(n,24).dropdown.isOpen(),e.Bb(n,24).placement)})}var el=function(){function l(l,n,u,e,t){var a=this;this.renderer=l,this.route=n,this.org=u,this.cat=e,this.staffCat=t,this.ccvmMap={},this.cmfMap={},this.showSearchFilters=!1,this.orgOnChange=function(l){a.context.searchOrg=l,a.refreshCopyLocations()},this.copyLocations=[],this.route.queryParams.subscribe(function(l){l.searchTab&&(a.searchTab=l.searchTab)})}return l.prototype.ngOnInit=function(){this.ccvmMap=this.cat.ccvmMap,this.cmfMap=this.cat.cmfMap,this.context=this.staffCat.searchContext,this.showSearchFilters=this.filtersActive()},l.prototype.ngAfterViewInit=function(){var l=this;setTimeout(function(){""===l.context.identSearch.queryType&&(l.context.identSearch.queryType="identifier|isbn"),l.searchTab||(l.context.marcSearch.isSearchable()?l.searchTab="marc":l.context.identSearch.isSearchable()?l.searchTab="ident":l.context.browseSearch.isSearchable()?l.searchTab="browse":(l.searchTab="term",l.refreshCopyLocations())),l.focusTabInput()})},l.prototype.onTabChange=function(l){var n=this;this.searchTab=l.nextId,setTimeout(function(){return n.focusTabInput()})},l.prototype.focusTabInput=function(){var l;switch(this.searchTab){case"ident":l="#ident-query-input";break;case"marc":l="#first-marc-tag";break;case"browse":l="#browse-term-input";break;case"cnbrowse":l="#cnbrowse-term-input";break;default:this.refreshCopyLocations(),l="#first-query-input"}try{this.renderer.selectRootElement(l).focus()}catch(n){}},l.prototype.showFilters=function(){return this.showSearchFilters||this.filtersActive()},l.prototype.toggleFilters=function(){this.showSearchFilters=!this.showSearchFilters,this.refreshCopyLocations()},l.prototype.filtersActive=function(){var l=this;if(""!==this.context.termSearch.copyLocations[0])return!0;var n=!1;return Object.keys(this.context.termSearch.ccvmFilters).forEach(function(u){""!==l.context.termSearch.ccvmFilters[u][0]&&(n=!0)}),n},l.prototype.refreshCopyLocations=function(){var l=this;if(this.showFilters()){var n=this.context.searchOrg;n.id()!==this.org.root().id()?this.cat.fetchCopyLocations(n).then(function(){return l.copyLocations=l.cat.copyLocations}):this.copyLocations=[]}},l.prototype.orgName=function(l){return this.org.get(l).shortname()},l.prototype.addSearchRow=function(l){this.context.termSearch.query.splice(l,0,""),this.context.termSearch.fieldClass.splice(l,0,"keyword"),this.context.termSearch.joinOp.splice(l,0,"&&"),this.context.termSearch.matchOp.splice(l,0,"contains")},l.prototype.delSearchRow=function(l){this.context.termSearch.query.splice(l,1),this.context.termSearch.fieldClass.splice(l,1),this.context.termSearch.joinOp.splice(l,1),this.context.termSearch.matchOp.splice(l,1)},l.prototype.addMarcSearchRow=function(l){this.context.marcSearch.tags.splice(l,0,""),this.context.marcSearch.subfields.splice(l,0,""),this.context.marcSearch.values.splice(l,0,"")},l.prototype.delMarcSearchRow=function(l){this.context.marcSearch.tags.splice(l,1),this.context.marcSearch.subfields.splice(l,1),this.context.marcSearch.values.splice(l,1)},l.prototype.searchByForm=function(){switch(this.context.pager.offset=0,this.context.showBasket=!1,this.context.scrub(this.searchTab),this.searchTab){case"term":case"ident":case"marc":this.staffCat.search();break;case"browse":this.staffCat.browse();break;case"cnbrowse":this.staffCat.cnBrowse()}},l.prototype.trackByIdx=function(l,n){return l},l.prototype.searchIsActive=function(){return this.context.searchState===I.c.SEARCHING},l}(),tl=e.pb({encapsulation:0,styles:[[".checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.1rem}select.form-control[_ngcontent-%COMP%]:not([size]):not([multiple]){padding:.355rem .55rem;height:2.2rem}#staffcat-search-form[_ngcontent-%COMP%]{border-radius:0 0 7px 7px;background-color:#f7f7f7;box-shadow:1px 2px 3px -1px rgba(0,0,0,.2)}#staffcat-search-form[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{border:3px}.tab-content[_ngcontent-%COMP%]{padding:5px;margin-top:25px;font-weight:700}"]],data:{}});function al(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.qb(1,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(2,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(3,null,["",""]))],function(l,n){var u=e.tb(1,"",n.context.$implicit.code(),"");l(n,1,0,u);var t=e.tb(1,"",n.context.$implicit.code(),"");l(n,2,0,t)},function(l,n){var u=n.context.$implicit.value();l(n,3,0,u)})}function rl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,12,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,11,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,2).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,2).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.format=u)&&t),t},null,null)),e.qb(2,16384,null,0,o.x,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.x]),e.qb(4,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(6,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(7,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),e.qb(8,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(9,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["All Formats"])),(l()(),e.ib(16777216,null,null,1,null,al)),e.qb(12,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var u=n.component;l(n,4,0,u.context.termSearch.format),l(n,8,0,""),l(n,9,0,""),l(n,12,0,u.ccvmMap.search_format)},function(l,n){l(n,1,0,e.Bb(n,6).ngClassUntouched,e.Bb(n,6).ngClassTouched,e.Bb(n,6).ngClassPristine,e.Bb(n,6).ngClassDirty,e.Bb(n,6).ngClassValid,e.Bb(n,6).ngClassInvalid,e.Bb(n,6).ngClassPending)})}function ol(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,13,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,2).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,2).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.joinOp[l.parent.context.index]=u)&&t),t},null,null)),e.qb(2,16384,null,0,o.x,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.x]),e.qb(4,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(6,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(7,0,null,null,3,"option",[["value","&&"]],null,null,null,null,null)),e.qb(8,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(9,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["And"])),(l()(),e.rb(11,0,null,null,3,"option",[["value","||"]],null,null,null,null,null)),e.qb(12,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(13,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Or"]))],function(l,n){l(n,4,0,n.component.context.termSearch.joinOp[n.parent.context.index]),l(n,8,0,"&&"),l(n,9,0,"&&"),l(n,12,0,"||"),l(n,13,0,"||")},function(l,n){l(n,1,0,e.Bb(n,6).ngClassUntouched,e.Bb(n,6).ngClassTouched,e.Bb(n,6).ngClassPristine,e.Bb(n,6).ngClassDirty,e.Bb(n,6).ngClassValid,e.Bb(n,6).ngClassInvalid,e.Bb(n,6).ngClassPending)})}function il(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,5,"input",[["class","form-control"],["id","first-query-input"],["placeholder","Query..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,2)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,2).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,2)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,2)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.query[l.parent.context.index]=u)&&t),"keyup.enter"===n&&(t=!1!==a.searchByForm()&&t),t},null,null)),e.qb(2,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(4,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(6,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,4,0,n.component.context.termSearch.query[n.parent.context.index])},function(l,n){l(n,1,0,e.Bb(n,6).ngClassUntouched,e.Bb(n,6).ngClassTouched,e.Bb(n,6).ngClassPristine,e.Bb(n,6).ngClassDirty,e.Bb(n,6).ngClassValid,e.Bb(n,6).ngClassInvalid,e.Bb(n,6).ngClassPending)})}function cl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,5,"input",[["class","form-control"],["placeholder","Query..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,2)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,2).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,2)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,2)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.query[l.parent.context.index]=u)&&t),"keyup.enter"===n&&(t=!1!==a.searchByForm()&&t),t},null,null)),e.qb(2,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(4,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(6,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,4,0,n.component.context.termSearch.query[n.parent.context.index])},function(l,n){l(n,1,0,e.Bb(n,6).ngClassUntouched,e.Bb(n,6).ngClassTouched,e.Bb(n,6).ngClassPristine,e.Bb(n,6).ngClassDirty,e.Bb(n,6).ngClassValid,e.Bb(n,6).ngClassInvalid,e.Bb(n,6).ngClassPending)})}function sl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"button",[["class","btn btn-sm material-icon-button"],["title","Toggle Search Filters"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.toggleFilters()&&e),e},null,null)),(l()(),e.rb(1,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["more_vert"]))],null,null)}function bl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,80,"div",[["class","row"]],null,null,null,null,null)),e.qb(1,278528,null,0,i.n,[e.t,e.u,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(2,{"mt-4":0,"mt-1":1}),(l()(),e.rb(3,0,null,null,4,"div",[["class","col-lg-2 pr-1"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,rl)),e.qb(5,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,ol)),e.qb(7,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(8,0,null,null,30,"div",[["class","col-lg-2 pl-0 pr-2"]],null,null,null,null,null)),(l()(),e.rb(9,0,null,null,29,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,10).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,10).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.fieldClass[l.context.index]=u)&&t),t},null,null)),e.qb(10,16384,null,0,o.x,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.x]),e.qb(12,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(14,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(15,0,null,null,3,"option",[["value","keyword"]],null,null,null,null,null)),e.qb(16,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(17,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Keyword"])),(l()(),e.rb(19,0,null,null,3,"option",[["value","title"]],null,null,null,null,null)),e.qb(20,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(21,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Title"])),(l()(),e.rb(23,0,null,null,3,"option",[["value","jtitle"]],null,null,null,null,null)),e.qb(24,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(25,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Journal Title"])),(l()(),e.rb(27,0,null,null,3,"option",[["value","author"]],null,null,null,null,null)),e.qb(28,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(29,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Author"])),(l()(),e.rb(31,0,null,null,3,"option",[["value","subject"]],null,null,null,null,null)),e.qb(32,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(33,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Subject"])),(l()(),e.rb(35,0,null,null,3,"option",[["value","series"]],null,null,null,null,null)),e.qb(36,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(37,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Series"])),(l()(),e.rb(39,0,null,null,26,"div",[["class","col-lg-2 pl-0 pr-2"]],null,null,null,null,null)),(l()(),e.rb(40,0,null,null,25,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,41).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,41).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.matchOp[l.context.index]=u)&&t),t},null,null)),e.qb(41,16384,null,0,o.x,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.x]),e.qb(43,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(45,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(46,0,null,null,3,"option",[["value","contains"]],null,null,null,null,null)),e.qb(47,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(48,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Contains"])),(l()(),e.rb(50,0,null,null,3,"option",[["value","nocontains"]],null,null,null,null,null)),e.qb(51,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(52,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Does not contain"])),(l()(),e.rb(54,0,null,null,3,"option",[["value","phrase"]],null,null,null,null,null)),e.qb(55,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(56,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Contains phrase"])),(l()(),e.rb(58,0,null,null,3,"option",[["value","exact"]],null,null,null,null,null)),e.qb(59,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(60,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Matches exactly"])),(l()(),e.rb(62,0,null,null,3,"option",[["value","starts"]],null,null,null,null,null)),e.qb(63,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(64,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Starts with"])),(l()(),e.rb(66,0,null,null,5,"div",[["class","col-lg-4 pl-0 pr-2"]],null,null,null,null,null)),(l()(),e.rb(67,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,il)),e.qb(69,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,cl)),e.qb(71,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(72,0,null,null,8,"div",[["class","col-lg-2 pl-0 pr-1"]],null,null,null,null,null)),(l()(),e.rb(73,0,null,null,2,"button",[["class","btn btn-sm material-icon-button"],["title","Add Search Row"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.addSearchRow(l.context.index+1)&&e),e},null,null)),(l()(),e.rb(74,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["add_circle_outline"])),(l()(),e.rb(76,0,null,null,2,"button",[["class","btn btn-sm material-icon-button"],["title","Remove Search Row"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.delSearchRow(l.context.index)&&e),e},null,null)),(l()(),e.rb(77,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["remove_circle_outline"])),(l()(),e.ib(16777216,null,null,1,null,sl)),e.qb(80,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component,e=l(n,2,0,0==n.context.index,n.context.index>0);l(n,1,0,"row",e),l(n,5,0,0==n.context.index),l(n,7,0,n.context.index>0),l(n,12,0,u.context.termSearch.fieldClass[n.context.index]),l(n,16,0,"keyword"),l(n,17,0,"keyword"),l(n,20,0,"title"),l(n,21,0,"title"),l(n,24,0,"jtitle"),l(n,25,0,"jtitle"),l(n,28,0,"author"),l(n,29,0,"author"),l(n,32,0,"subject"),l(n,33,0,"subject"),l(n,36,0,"series"),l(n,37,0,"series"),l(n,43,0,u.context.termSearch.matchOp[n.context.index]),l(n,47,0,"contains"),l(n,48,0,"contains"),l(n,51,0,"nocontains"),l(n,52,0,"nocontains"),l(n,55,0,"phrase"),l(n,56,0,"phrase"),l(n,59,0,"exact"),l(n,60,0,"exact"),l(n,63,0,"starts"),l(n,64,0,"starts"),l(n,69,0,0==n.context.index),l(n,71,0,n.context.index>0),l(n,80,0,0==n.context.index)},function(l,n){var u=n.component;l(n,9,0,e.Bb(n,14).ngClassUntouched,e.Bb(n,14).ngClassTouched,e.Bb(n,14).ngClassPristine,e.Bb(n,14).ngClassDirty,e.Bb(n,14).ngClassValid,e.Bb(n,14).ngClassInvalid,e.Bb(n,14).ngClassPending),l(n,40,0,e.Bb(n,45).ngClassUntouched,e.Bb(n,45).ngClassTouched,e.Bb(n,45).ngClassPristine,e.Bb(n,45).ngClassDirty,e.Bb(n,45).ngClassValid,e.Bb(n,45).ngClassInvalid,e.Bb(n,45).ngClassPending),l(n,76,0,u.context.termSearch.query.length<2)})}function dl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.qb(1,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(2,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(3,null,["",""]))],function(l,n){var u=e.tb(1,"",n.context.$implicit.code(),"");l(n,1,0,u);var t=e.tb(1,"",n.context.$implicit.code(),"");l(n,2,0,t)},function(l,n){var u=n.context.$implicit.value();l(n,3,0,u)})}function pl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.qb(1,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(2,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(3,null,["",""]))],function(l,n){var u=e.tb(1,"",n.context.$implicit.code(),"");l(n,1,0,u);var t=e.tb(1,"",n.context.$implicit.code(),"");l(n,2,0,t)},function(l,n){var u=n.context.$implicit.value();l(n,3,0,u)})}function hl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.qb(1,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(2,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(3,null,["",""]))],function(l,n){var u=e.tb(1,"",n.context.$implicit.code(),"");l(n,1,0,u);var t=e.tb(1,"",n.context.$implicit.code(),"");l(n,2,0,t)},function(l,n){var u=n.context.$implicit.value();l(n,3,0,u)})}function gl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.qb(1,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(2,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(3,null,["",""]))],function(l,n){var u=e.tb(1,"",n.context.$implicit.code(),"");l(n,1,0,u);var t=e.tb(1,"",n.context.$implicit.code(),"");l(n,2,0,t)},function(l,n){var u=n.context.$implicit.value();l(n,3,0,u)})}function ml(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,52,"div",[["class","row mt-3"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,12,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,11,"select",[["class","form-control"],["multiple","true"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.ccvmFilters.item_type=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.y,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.y]),e.qb(5,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(8,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),e.qb(9,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(10,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["All Item Types"])),(l()(),e.ib(16777216,null,null,1,null,dl)),e.qb(13,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(14,0,null,null,12,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(15,0,null,null,11,"select",[["class","form-control"],["multiple","true"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,16).onChange(u.target)&&t),"blur"===n&&(t=!1!==e.Bb(l,16).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.ccvmFilters.item_form=u)&&t),t},null,null)),e.qb(16,16384,null,0,o.y,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.y]),e.qb(18,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(20,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(21,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),e.qb(22,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(23,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["All Item Forms"])),(l()(),e.ib(16777216,null,null,1,null,pl)),e.qb(26,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(27,0,null,null,12,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(28,0,null,null,11,"select",[["class","form-control"],["multiple","true"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,29).onChange(u.target)&&t),"blur"===n&&(t=!1!==e.Bb(l,29).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.ccvmFilters.item_lang=u)&&t),t},null,null)),e.qb(29,16384,null,0,o.y,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.y]),e.qb(31,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(33,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(34,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),e.qb(35,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(36,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["All Languages"])),(l()(),e.ib(16777216,null,null,1,null,hl)),e.qb(39,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(40,0,null,null,12,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(41,0,null,null,11,"select",[["class","form-control"],["multiple","true"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,42).onChange(u.target)&&t),"blur"===n&&(t=!1!==e.Bb(l,42).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.ccvmFilters.audience=u)&&t),t},null,null)),e.qb(42,16384,null,0,o.y,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.y]),e.qb(44,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(46,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(47,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),e.qb(48,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(49,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["All Audiences"])),(l()(),e.ib(16777216,null,null,1,null,gl)),e.qb(52,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var u=n.component;l(n,5,0,u.context.termSearch.ccvmFilters.item_type),l(n,9,0,""),l(n,10,0,""),l(n,13,0,u.ccvmMap.item_type),l(n,18,0,u.context.termSearch.ccvmFilters.item_form),l(n,22,0,""),l(n,23,0,""),l(n,26,0,u.ccvmMap.item_form),l(n,31,0,u.context.termSearch.ccvmFilters.item_lang),l(n,35,0,""),l(n,36,0,""),l(n,39,0,u.ccvmMap.item_lang),l(n,44,0,u.context.termSearch.ccvmFilters.audience),l(n,48,0,""),l(n,49,0,""),l(n,52,0,u.ccvmMap.audience)},function(l,n){l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending),l(n,15,0,e.Bb(n,20).ngClassUntouched,e.Bb(n,20).ngClassTouched,e.Bb(n,20).ngClassPristine,e.Bb(n,20).ngClassDirty,e.Bb(n,20).ngClassValid,e.Bb(n,20).ngClassInvalid,e.Bb(n,20).ngClassPending),l(n,28,0,e.Bb(n,33).ngClassUntouched,e.Bb(n,33).ngClassTouched,e.Bb(n,33).ngClassPristine,e.Bb(n,33).ngClassDirty,e.Bb(n,33).ngClassValid,e.Bb(n,33).ngClassInvalid,e.Bb(n,33).ngClassPending),l(n,41,0,e.Bb(n,46).ngClassUntouched,e.Bb(n,46).ngClassTouched,e.Bb(n,46).ngClassPristine,e.Bb(n,46).ngClassDirty,e.Bb(n,46).ngClassValid,e.Bb(n,46).ngClassInvalid,e.Bb(n,46).ngClassPending)})}function fl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.qb(1,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(2,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(3,null,["",""]))],function(l,n){var u=e.tb(1,"",n.context.$implicit.code(),"");l(n,1,0,u);var t=e.tb(1,"",n.context.$implicit.code(),"");l(n,2,0,t)},function(l,n){var u=n.context.$implicit.value();l(n,3,0,u)})}function vl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.qb(1,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(2,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(3,null,["",""]))],function(l,n){var u=e.tb(1,"",n.context.$implicit.code(),"");l(n,1,0,u);var t=e.tb(1,"",n.context.$implicit.code(),"");l(n,2,0,t)},function(l,n){var u=n.context.$implicit.value();l(n,3,0,u)})}function yl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.qb(1,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(2,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(3,null,["",""]))],function(l,n){var u=e.tb(1,"",n.context.$implicit.code(),"");l(n,1,0,u);var t=e.tb(1,"",n.context.$implicit.code(),"");l(n,2,0,t)},function(l,n){var u=n.context.$implicit.value();l(n,3,0,u)})}function Cl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.qb(1,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(2,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(3,null,[" "," (",") "]))],function(l,n){var u=e.tb(1,"",n.context.$implicit.id(),"");l(n,1,0,u);var t=e.tb(1,"",n.context.$implicit.id(),"");l(n,2,0,t)},function(l,n){var u=n.component,e=n.context.$implicit.name(),t=u.orgName(n.context.$implicit.owning_lib());l(n,3,0,e,t)})}function kl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,52,"div",[["class","row mt-3"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,12,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,11,"select",[["class","form-control"],["multiple","true"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.ccvmFilters.vr_format=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.y,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.y]),e.qb(5,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(8,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),e.qb(9,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(10,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["All Video Formats"])),(l()(),e.ib(16777216,null,null,1,null,fl)),e.qb(13,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(14,0,null,null,12,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(15,0,null,null,11,"select",[["class","form-control"],["multiple","true"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,16).onChange(u.target)&&t),"blur"===n&&(t=!1!==e.Bb(l,16).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.ccvmFilters.bib_level=u)&&t),t},null,null)),e.qb(16,16384,null,0,o.y,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.y]),e.qb(18,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(20,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(21,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),e.qb(22,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(23,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["All Bib Levels"])),(l()(),e.ib(16777216,null,null,1,null,vl)),e.qb(26,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(27,0,null,null,12,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(28,0,null,null,11,"select",[["class","form-control"],["multiple","true"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,29).onChange(u.target)&&t),"blur"===n&&(t=!1!==e.Bb(l,29).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.ccvmFilters.lit_form=u)&&t),t},null,null)),e.qb(29,16384,null,0,o.y,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.y]),e.qb(31,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(33,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(34,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),e.qb(35,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(36,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["All Literary Forms"])),(l()(),e.ib(16777216,null,null,1,null,yl)),e.qb(39,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(40,0,null,null,12,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(41,0,null,null,11,"select",[["class","form-control"],["multiple","true"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,42).onChange(u.target)&&t),"blur"===n&&(t=!1!==e.Bb(l,42).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.copyLocations=u)&&t),t},null,null)),e.qb(42,16384,null,0,o.y,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.y]),e.qb(44,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(46,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(47,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),e.qb(48,147456,null,0,o.t,[e.k,e.E,[8,null]],{value:[0,"value"]},null),e.qb(49,147456,null,0,o.F,[e.k,e.E,[2,o.y]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["All Copy Locations"])),(l()(),e.ib(16777216,null,null,1,null,Cl)),e.qb(52,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var u=n.component;l(n,5,0,u.context.termSearch.ccvmFilters.vr_format),l(n,9,0,""),l(n,10,0,""),l(n,13,0,u.ccvmMap.vr_format),l(n,18,0,u.context.termSearch.ccvmFilters.bib_level),l(n,22,0,""),l(n,23,0,""),l(n,26,0,u.ccvmMap.bib_level),l(n,31,0,u.context.termSearch.ccvmFilters.lit_form),l(n,35,0,""),l(n,36,0,""),l(n,39,0,u.ccvmMap.lit_form),l(n,44,0,u.context.termSearch.copyLocations),l(n,48,0,""),l(n,49,0,""),l(n,52,0,u.copyLocations)},function(l,n){l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending),l(n,15,0,e.Bb(n,20).ngClassUntouched,e.Bb(n,20).ngClassTouched,e.Bb(n,20).ngClassPristine,e.Bb(n,20).ngClassDirty,e.Bb(n,20).ngClassValid,e.Bb(n,20).ngClassInvalid,e.Bb(n,20).ngClassPending),l(n,28,0,e.Bb(n,33).ngClassUntouched,e.Bb(n,33).ngClassTouched,e.Bb(n,33).ngClassPristine,e.Bb(n,33).ngClassDirty,e.Bb(n,33).ngClassValid,e.Bb(n,33).ngClassInvalid,e.Bb(n,33).ngClassPending),l(n,41,0,e.Bb(n,46).ngClassUntouched,e.Bb(n,46).ngClassTouched,e.Bb(n,46).ngClassPristine,e.Bb(n,46).ngClassDirty,e.Bb(n,46).ngClassValid,e.Bb(n,46).ngClassInvalid,e.Bb(n,46).ngClassPending)})}function wl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"input",[["class","form-control ml-2"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,1)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,1).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,1)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,1)._compositionEnd(u.target.value)&&t),"change"===n&&(t=!1!==e.Bb(l,2).onChange(u.target.value)&&t),"input"===n&&(t=!1!==e.Bb(l,2).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,2).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.date2=u)&&t),t},null,null)),e.qb(1,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.qb(2,16384,null,0,o.B,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l,n){return[l,n]},[o.d,o.B]),e.qb(4,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(6,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,4,0,n.component.context.termSearch.date2)},function(l,n){l(n,0,0,e.Bb(n,6).ngClassUntouched,e.Bb(n,6).ngClassTouched,e.Bb(n,6).ngClassPristine,e.Bb(n,6).ngClassDirty,e.Bb(n,6).ngClassValid,e.Bb(n,6).ngClassInvalid,e.Bb(n,6).ngClassPending)})}function Bl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,35,"div",[["class","row mt-3"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,34,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,33,"div",[["class","form-inline"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,1,"label",[["for","pub-date1-input"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Publication Year is"])),(l()(),e.rb(5,0,null,null,21,"select",[["class","form-control ml-2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,6).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,6).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.dateOp=u)&&t),t},null,null)),e.qb(6,16384,null,0,o.x,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.x]),e.qb(8,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(10,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(11,0,null,null,3,"option",[["value","is"]],null,null,null,null,null)),e.qb(12,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(13,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Is"])),(l()(),e.rb(15,0,null,null,3,"option",[["value","before"]],null,null,null,null,null)),e.qb(16,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(17,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Before"])),(l()(),e.rb(19,0,null,null,3,"option",[["value","after"]],null,null,null,null,null)),e.qb(20,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(21,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["After"])),(l()(),e.rb(23,0,null,null,3,"option",[["value","between"]],null,null,null,null,null)),e.qb(24,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(25,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Between"])),(l()(),e.rb(27,0,null,null,6,"input",[["class","form-control ml-2"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,28)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,28).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,28)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,28)._compositionEnd(u.target.value)&&t),"change"===n&&(t=!1!==e.Bb(l,29).onChange(u.target.value)&&t),"input"===n&&(t=!1!==e.Bb(l,29).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,29).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.date1=u)&&t),t},null,null)),e.qb(28,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.qb(29,16384,null,0,o.B,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l,n){return[l,n]},[o.d,o.B]),e.qb(31,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(33,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.ib(16777216,null,null,1,null,wl)),e.qb(35,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,8,0,u.context.termSearch.dateOp),l(n,12,0,"is"),l(n,13,0,"is"),l(n,16,0,"before"),l(n,17,0,"before"),l(n,20,0,"after"),l(n,21,0,"after"),l(n,24,0,"between"),l(n,25,0,"between"),l(n,31,0,u.context.termSearch.date1),l(n,35,0,"between"==u.context.termSearch.dateOp)},function(l,n){l(n,5,0,e.Bb(n,10).ngClassUntouched,e.Bb(n,10).ngClassTouched,e.Bb(n,10).ngClassPristine,e.Bb(n,10).ngClassDirty,e.Bb(n,10).ngClassValid,e.Bb(n,10).ngClassInvalid,e.Bb(n,10).ngClassPending),l(n,27,0,e.Bb(n,33).ngClassUntouched,e.Bb(n,33).ngClassTouched,e.Bb(n,33).ngClassPristine,e.Bb(n,33).ngClassDirty,e.Bb(n,33).ngClassValid,e.Bb(n,33).ngClassInvalid,e.Bb(n,33).ngClassPending)})}function xl(l){return e.Lb(0,[(l()(),e.ib(16777216,null,null,1,null,bl)),e.qb(1,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),e.rb(2,0,null,null,77,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,76,"div",[["class","col-lg-12 form-inline"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,45,"select",[["class","form-control mr-2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,5).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,5).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.sort=u)&&t),t},null,null)),e.qb(5,16384,null,0,o.x,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.x]),e.qb(7,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(9,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(10,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),e.qb(11,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(12,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Sort by Relevance"])),(l()(),e.rb(14,0,null,null,8,"optgroup",[["label","Sort by Title"]],null,null,null,null,null)),(l()(),e.rb(15,0,null,null,3,"option",[["value","titlesort"]],null,null,null,null,null)),e.qb(16,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(17,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Title: A to Z"])),(l()(),e.rb(19,0,null,null,3,"option",[["value","titlesort.descending"]],null,null,null,null,null)),e.qb(20,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(21,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Title: Z to A"])),(l()(),e.rb(23,0,null,null,8,"optgroup",[["label","Sort by Author"]],null,null,null,null,null)),(l()(),e.rb(24,0,null,null,3,"option",[["value","authorsort"]],null,null,null,null,null)),e.qb(25,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(26,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Author: A to Z"])),(l()(),e.rb(28,0,null,null,3,"option",[["value","authorsort.descending"]],null,null,null,null,null)),e.qb(29,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(30,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Author: Z to A"])),(l()(),e.rb(32,0,null,null,8,"optgroup",[["label","Sort by Publication Date"]],null,null,null,null,null)),(l()(),e.rb(33,0,null,null,3,"option",[["value","pubdate"]],null,null,null,null,null)),e.qb(34,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(35,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Date: A to Z"])),(l()(),e.rb(37,0,null,null,3,"option",[["value","pubdate.descending"]],null,null,null,null,null)),e.qb(38,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(39,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Date: Z to A"])),(l()(),e.rb(41,0,null,null,8,"optgroup",[["label","Sort by Popularity"]],null,null,null,null,null)),(l()(),e.rb(42,0,null,null,3,"option",[["value","popularity"]],null,null,null,null,null)),e.qb(43,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(44,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Most Popular"])),(l()(),e.rb(46,0,null,null,3,"option",[["value","poprel"]],null,null,null,null,null)),e.qb(47,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(48,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Popularity Adjusted Relevance"])),(l()(),e.rb(50,0,null,null,9,"div",[["class","checkbox pl-2 ml-2"]],null,null,null,null,null)),(l()(),e.rb(51,0,null,null,8,"label",[],null,null,null,null,null)),(l()(),e.rb(52,0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,53).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,53).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.available=u)&&t),t},null,null)),e.qb(53,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(55,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(57,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(58,0,null,null,1,"span",[["class","pl-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Limit to Available"])),(l()(),e.rb(60,0,null,null,9,"div",[["class","checkbox pl-3"]],null,null,null,null,null)),(l()(),e.rb(61,0,null,null,8,"label",[],null,null,null,null,null)),(l()(),e.rb(62,0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,63).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,63).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.groupByMetarecord=u)&&t),t},null,null)),e.qb(63,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(65,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(67,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(68,0,null,null,1,"span",[["class","pl-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Group Formats/Editions"])),(l()(),e.rb(70,0,null,null,9,"div",[["class","checkbox pl-3"]],null,null,null,null,null)),(l()(),e.rb(71,0,null,null,8,"label",[],null,null,null,null,null)),(l()(),e.rb(72,0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,73).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,73).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.termSearch.global=u)&&t),t},null,null)),e.qb(73,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(75,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(77,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(78,0,null,null,1,"span",[["class","pl-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Results from All Libraries"])),(l()(),e.ib(16777216,null,null,1,null,ml)),e.qb(81,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,kl)),e.qb(83,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Bl)),e.qb(85,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(0,null,null,0))],function(l,n){var u=n.component;l(n,1,0,u.context.termSearch.query,u.trackByIdx),l(n,7,0,u.context.sort),l(n,11,0,""),l(n,12,0,""),l(n,16,0,"titlesort"),l(n,17,0,"titlesort"),l(n,20,0,"titlesort.descending"),l(n,21,0,"titlesort.descending"),l(n,25,0,"authorsort"),l(n,26,0,"authorsort"),l(n,29,0,"authorsort.descending"),l(n,30,0,"authorsort.descending"),l(n,34,0,"pubdate"),l(n,35,0,"pubdate"),l(n,38,0,"pubdate.descending"),l(n,39,0,"pubdate.descending"),l(n,43,0,"popularity"),l(n,44,0,"popularity"),l(n,47,0,"poprel"),l(n,48,0,"poprel"),l(n,55,0,u.context.termSearch.available),l(n,65,0,u.context.termSearch.groupByMetarecord),l(n,75,0,u.context.termSearch.global),l(n,81,0,u.showFilters()),l(n,83,0,u.showFilters()),l(n,85,0,u.showFilters())},function(l,n){l(n,4,0,e.Bb(n,9).ngClassUntouched,e.Bb(n,9).ngClassTouched,e.Bb(n,9).ngClassPristine,e.Bb(n,9).ngClassDirty,e.Bb(n,9).ngClassValid,e.Bb(n,9).ngClassInvalid,e.Bb(n,9).ngClassPending),l(n,52,0,e.Bb(n,57).ngClassUntouched,e.Bb(n,57).ngClassTouched,e.Bb(n,57).ngClassPristine,e.Bb(n,57).ngClassDirty,e.Bb(n,57).ngClassValid,e.Bb(n,57).ngClassInvalid,e.Bb(n,57).ngClassPending),l(n,62,0,e.Bb(n,67).ngClassUntouched,e.Bb(n,67).ngClassTouched,e.Bb(n,67).ngClassPristine,e.Bb(n,67).ngClassDirty,e.Bb(n,67).ngClassValid,e.Bb(n,67).ngClassInvalid,e.Bb(n,67).ngClassPending),l(n,72,0,e.Bb(n,77).ngClassUntouched,e.Bb(n,77).ngClassTouched,e.Bb(n,77).ngClassPristine,e.Bb(n,77).ngClassDirty,e.Bb(n,77).ngClassValid,e.Bb(n,77).ngClassInvalid,e.Bb(n,77).ngClassPending)})}function ql(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,38,"div",[["class","row mt-4"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,37,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,36,"div",[["class","form-inline"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,1,"label",[["for","ident-type"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Query Type"])),(l()(),e.rb(5,0,null,null,25,"select",[["class","form-control ml-2"],["name","ident-type"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,6).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,6).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.identSearch.queryType=u)&&t),t},null,null)),e.qb(6,16384,null,0,o.x,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.x]),e.qb(8,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(10,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(11,0,null,null,3,"option",[["value","identifier|isbn"]],null,null,null,null,null)),e.qb(12,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(13,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["ISBN"])),(l()(),e.rb(15,0,null,null,3,"option",[["value","identifier|issn"]],null,null,null,null,null)),e.qb(16,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(17,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["ISSN"])),(l()(),e.rb(19,0,null,null,3,"option",[["value","identifier|lccn"]],null,null,null,null,null)),e.qb(20,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(21,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["LCCN"])),(l()(),e.rb(23,0,null,null,3,"option",[["value","identifier|tcn"]],null,null,null,null,null)),e.qb(24,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(25,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["TCN"])),(l()(),e.rb(27,0,null,null,3,"option",[["value","item_barcode"]],null,null,null,null,null)),e.qb(28,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(29,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Item Barcode"])),(l()(),e.rb(31,0,null,null,1,"label",[["class","ml-2"],["for","ident-value"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Value"])),(l()(),e.rb(33,0,null,null,5,"input",[["class","form-control ml-2"],["id","ident-query-input"],["name","ident-value"],["placeholder","Numeric Query..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,34)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,34).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,34)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,34)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(a.context.identSearch.value=u)&&t),"keyup.enter"===n&&(t=!1!==a.searchByForm()&&t),t},null,null)),e.qb(34,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(36,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(38,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){var u=n.component;l(n,8,0,"ident-type",u.context.identSearch.queryType),l(n,12,0,"identifier|isbn"),l(n,13,0,"identifier|isbn"),l(n,16,0,"identifier|issn"),l(n,17,0,"identifier|issn"),l(n,20,0,"identifier|lccn"),l(n,21,0,"identifier|lccn"),l(n,24,0,"identifier|tcn"),l(n,25,0,"identifier|tcn"),l(n,28,0,"item_barcode"),l(n,29,0,"item_barcode"),l(n,36,0,"ident-value",u.context.identSearch.value)},function(l,n){l(n,5,0,e.Bb(n,10).ngClassUntouched,e.Bb(n,10).ngClassTouched,e.Bb(n,10).ngClassPristine,e.Bb(n,10).ngClassDirty,e.Bb(n,10).ngClassValid,e.Bb(n,10).ngClassInvalid,e.Bb(n,10).ngClassPending),l(n,33,0,e.Bb(n,38).ngClassUntouched,e.Bb(n,38).ngClassTouched,e.Bb(n,38).ngClassPristine,e.Bb(n,38).ngClassDirty,e.Bb(n,38).ngClassValid,e.Bb(n,38).ngClassInvalid,e.Bb(n,38).ngClassPending)})}function _l(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,30,"div",[["class","form-inline mt-2"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),e.Jb(-1,null,["Tag"])),(l()(),e.rb(3,0,null,null,5,"input",[["class","form-control ml-2"],["size","3"],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,4)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,4).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,4)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,4)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(a.context.marcSearch.tags[l.context.index]=u)&&t),"keyup.enter"===n&&(t=!1!==a.searchByForm()&&t),t},null,null)),e.qb(4,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(6,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(8,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(9,0,null,null,1,"label",[["class","ml-2"]],[[8,"htmlFor",0]],null,null,null,null)),(l()(),e.Jb(-1,null,["Subfield"])),(l()(),e.rb(11,0,null,null,5,"input",[["class","form-control ml-2"],["size","1"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,12)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,12).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,12)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,12)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(a.context.marcSearch.subfields[l.context.index]=u)&&t),"keyup.enter"===n&&(t=!1!==a.searchByForm()&&t),t},null,null)),e.qb(12,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(14,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(16,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(17,0,null,null,1,"label",[["class","ml-2"]],[[8,"htmlFor",0]],null,null,null,null)),(l()(),e.Jb(-1,null,["Value"])),(l()(),e.rb(19,0,null,null,5,"input",[["class","form-control ml-2"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,20)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,20).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,20)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,20)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(a.context.marcSearch.values[l.context.index]=u)&&t),"keyup.enter"===n&&(t=!1!==a.searchByForm()&&t),t},null,null)),e.qb(20,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(22,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(24,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(25,0,null,null,2,"button",[["class","btn btn-sm material-icon-button ml-2"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.addMarcSearchRow(l.context.index+1)&&e),e},null,null)),(l()(),e.rb(26,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["add_circle_outline"])),(l()(),e.rb(28,0,null,null,2,"button",[["class","btn btn-sm material-icon-button ml-2"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.delMarcSearchRow(l.context.index)&&e),e},null,null)),(l()(),e.rb(29,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["remove_circle_outline"]))],function(l,n){var u=n.component;l(n,6,0,e.tb(1,"marc-tag-",n.context.index,""),u.context.marcSearch.tags[n.context.index]),l(n,14,0,e.tb(1,"marc-subfield-",n.context.index,""),u.context.marcSearch.subfields[n.context.index]),l(n,22,0,e.tb(1,"marc-value-",n.context.index,""),u.context.marcSearch.values[n.context.index])},function(l,n){var u=n.component;l(n,1,0,e.tb(1,"marc-tag-",n.context.index,"")),l(n,3,0,e.tb(1,"",0==n.context.index?"first-marc-tag":"",""),e.Bb(n,8).ngClassUntouched,e.Bb(n,8).ngClassTouched,e.Bb(n,8).ngClassPristine,e.Bb(n,8).ngClassDirty,e.Bb(n,8).ngClassValid,e.Bb(n,8).ngClassInvalid,e.Bb(n,8).ngClassPending),l(n,9,0,e.tb(1,"marc-subfield-",n.context.index,"")),l(n,11,0,e.Bb(n,16).ngClassUntouched,e.Bb(n,16).ngClassTouched,e.Bb(n,16).ngClassPristine,e.Bb(n,16).ngClassDirty,e.Bb(n,16).ngClassValid,e.Bb(n,16).ngClassInvalid,e.Bb(n,16).ngClassPending),l(n,17,0,e.tb(1,"marc-value-",n.context.index,"")),l(n,19,0,e.Bb(n,24).ngClassUntouched,e.Bb(n,24).ngClassTouched,e.Bb(n,24).ngClassPristine,e.Bb(n,24).ngClassDirty,e.Bb(n,24).ngClassValid,e.Bb(n,24).ngClassInvalid,e.Bb(n,24).ngClassPending),l(n,28,0,u.context.marcSearch.values.length<2)})}function Il(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"div",[["class","row mt-4"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,_l)),e.qb(3,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(l,n){var u=n.component;l(n,3,0,u.context.marcSearch.values,u.trackByIdx)},null)}function Ml(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,33,"div",[["class","row mt-4"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,32,"div",[["class","col-lg-12 form-inline"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"label",[["for","field-class"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Browse for"])),(l()(),e.rb(4,0,null,null,21,"select",[["class","form-control ml-2"],["name","field-class"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,5).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,5).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.context.browseSearch.fieldClass=u)&&t),t},null,null)),e.qb(5,16384,null,0,o.x,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.x]),e.qb(7,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(9,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(10,0,null,null,3,"option",[["value","title"]],null,null,null,null,null)),e.qb(11,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(12,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Title"])),(l()(),e.rb(14,0,null,null,3,"option",[["value","author"]],null,null,null,null,null)),e.qb(15,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(16,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Author"])),(l()(),e.rb(18,0,null,null,3,"option",[["value","subject"]],null,null,null,null,null)),e.qb(19,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(20,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Subject"])),(l()(),e.rb(22,0,null,null,3,"option",[["value","series"]],null,null,null,null,null)),e.qb(23,147456,null,0,o.t,[e.k,e.E,[2,o.x]],{value:[0,"value"]},null),e.qb(24,147456,null,0,o.F,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(-1,null,["Series"])),(l()(),e.rb(26,0,null,null,1,"label",[["class","ml-2"],["for","query"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" starting with "])),(l()(),e.rb(28,0,null,null,5,"input",[["class","form-control ml-2"],["id","browse-term-input"],["name","query"],["placeholder","Browse for..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,29)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,29).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,29)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,29)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(a.context.browseSearch.value=u)&&t),"keyup.enter"===n&&(t=!1!==a.searchByForm()&&t),t},null,null)),e.qb(29,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(31,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(33,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){var u=n.component;l(n,7,0,"field-class",u.context.browseSearch.fieldClass),l(n,11,0,"title"),l(n,12,0,"title"),l(n,15,0,"author"),l(n,16,0,"author"),l(n,19,0,"subject"),l(n,20,0,"subject"),l(n,23,0,"series"),l(n,24,0,"series"),l(n,31,0,"query",u.context.browseSearch.value)},function(l,n){l(n,4,0,e.Bb(n,9).ngClassUntouched,e.Bb(n,9).ngClassTouched,e.Bb(n,9).ngClassPristine,e.Bb(n,9).ngClassDirty,e.Bb(n,9).ngClassValid,e.Bb(n,9).ngClassInvalid,e.Bb(n,9).ngClassPending),l(n,28,0,e.Bb(n,33).ngClassUntouched,e.Bb(n,33).ngClassTouched,e.Bb(n,33).ngClassPristine,e.Bb(n,33).ngClassDirty,e.Bb(n,33).ngClassValid,e.Bb(n,33).ngClassInvalid,e.Bb(n,33).ngClassPending)})}function Sl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,9,"div",[["class","row mt-4"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,8,"div",[["class","col-lg-12 form-inline"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"label",[["for","cnbrowse-term-input"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Browse Call Numbers starting with "])),(l()(),e.rb(4,0,null,null,5,"input",[["class","form-control ml-2"],["id","cnbrowse-term-input"],["name","query"],["placeholder","Browse Call Numbers..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,5)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,5).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,5)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,5)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(a.context.cnBrowseSearch.value=u)&&t),"keyup.enter"===n&&(t=!1!==a.searchByForm()&&t),t},null,null)),e.qb(5,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(7,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(9,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,7,0,"query",n.component.context.cnBrowseSearch.value)},function(l,n){l(n,4,0,e.Bb(n,9).ngClassUntouched,e.Bb(n,9).ngClassTouched,e.Bb(n,9).ngClassPristine,e.Bb(n,9).ngClassDirty,e.Bb(n,9).ngClassValid,e.Bb(n,9).ngClassInvalid,e.Bb(n,9).ngClassPending)})}function Pl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,54,"div",[["class","row pt-3 pb-3 mb-3"],["id","staffcat-search-form"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,33,"div",[["class","col-lg-8"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,32,"ngb-tabset",[],null,[[null,"tabChange"]],function(l,n,u){var e=!0;return"tabChange"===n&&(e=!1!==l.component.onTabChange(u)&&e),e},r.k,r.f)),e.qb(3,2146304,[["searchTabs",4]],1,c.Y,[c.Z],{activeId:[0,"activeId"]},{tabChange:"tabChange"}),e.Hb(603979776,1,{tabs:1}),(l()(),e.rb(5,0,null,null,5,"ngb-tab",[["id","term"],["title","Keyword Search"]],null,null,null,null,null)),e.qb(6,2113536,[[1,4]],2,c.V,[],{id:[0,"id"],title:[1,"title"]},null),e.Hb(603979776,2,{titleTpls:1}),e.Hb(603979776,3,{contentTpls:1}),(l()(),e.ib(0,null,null,1,null,xl)),e.qb(10,16384,[[3,4]],0,c.W,[e.M],null,null),(l()(),e.rb(11,0,null,null,5,"ngb-tab",[["id","ident"],["title","Numeric Search"]],null,null,null,null,null)),e.qb(12,2113536,[[1,4]],2,c.V,[],{id:[0,"id"],title:[1,"title"]},null),e.Hb(603979776,4,{titleTpls:1}),e.Hb(603979776,5,{contentTpls:1}),(l()(),e.ib(0,null,null,1,null,ql)),e.qb(16,16384,[[5,4]],0,c.W,[e.M],null,null),(l()(),e.rb(17,0,null,null,5,"ngb-tab",[["id","marc"],["title","MARC Search"]],null,null,null,null,null)),e.qb(18,2113536,[[1,4]],2,c.V,[],{id:[0,"id"],title:[1,"title"]},null),e.Hb(603979776,6,{titleTpls:1}),e.Hb(603979776,7,{contentTpls:1}),(l()(),e.ib(0,null,null,1,null,Il)),e.qb(22,16384,[[7,4]],0,c.W,[e.M],null,null),(l()(),e.rb(23,0,null,null,5,"ngb-tab",[["id","browse"],["title","Browse"]],null,null,null,null,null)),e.qb(24,2113536,[[1,4]],2,c.V,[],{id:[0,"id"],title:[1,"title"]},null),e.Hb(603979776,8,{titleTpls:1}),e.Hb(603979776,9,{contentTpls:1}),(l()(),e.ib(0,null,null,1,null,Ml)),e.qb(28,16384,[[9,4]],0,c.W,[e.M],null,null),(l()(),e.rb(29,0,null,null,5,"ngb-tab",[["id","cnbrowse"],["title","Shelf Browse"]],null,null,null,null,null)),e.qb(30,2113536,[[1,4]],2,c.V,[],{id:[0,"id"],title:[1,"title"]},null),e.Hb(603979776,10,{titleTpls:1}),e.Hb(603979776,11,{contentTpls:1}),(l()(),e.ib(0,null,null,1,null,Sl)),e.qb(34,16384,[[11,4]],0,c.W,[e.M],null,null),(l()(),e.rb(35,0,null,null,19,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(36,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(37,0,null,null,9,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(38,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.rb(39,0,null,null,7,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.rb(40,0,null,null,6,"div",[["class","float-right d-flex"]],null,null,null,null,null)),(l()(),e.rb(41,0,null,null,1,"eg-org-select",[],null,[[null,"onChange"]],function(l,n,u){var e=!0;return"onChange"===n&&(e=!1!==l.component.orgOnChange(u)&&e),e},s.b,s.a)),e.qb(42,114688,null,0,b.a,[d.a,p.a,h.a,g.a],{placeholder:[0,"placeholder"],initialOrg:[1,"initialOrg"]},{onChange:"onChange"}),(l()(),e.rb(43,0,null,null,1,"button",[["class","btn btn-success mr-1 ml-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0,t=l.component;return"click"===n&&(t.context.pager.offset=0,e=!1!==t.searchByForm()&&e),e},null,null)),(l()(),e.Jb(-1,null,[" Search "])),(l()(),e.rb(45,0,null,null,1,"button",[["class","btn btn-warning mr-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.context.reset()&&e),e},null,null)),(l()(),e.Jb(-1,null,[" Reset "])),(l()(),e.rb(47,0,null,null,3,"div",[["class","row mt-1"]],null,null,null,null,null)),(l()(),e.rb(48,0,null,null,2,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(49,0,null,null,1,"eg-catalog-search-templates",[],null,null,null,K,L)),e.qb(50,114688,null,0,D,[h.a,p.a,B.a,S.a,k.a,q.a,_.a,M,c.B],{searchTab:[0,"searchTab"]},null),(l()(),e.rb(51,0,null,null,3,"div",[["class","row mt-1"]],null,null,null,null,null)),(l()(),e.rb(52,0,null,null,2,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(53,0,null,null,1,"eg-catalog-basket-actions",[],null,null,null,ul,nl)),e.qb(54,114688,null,0,ll,[m.l,Q.b,d.a,Y.a,X.a],null,null)],function(l,n){var u=n.component;l(n,3,0,u.searchTab),l(n,6,0,"term","Keyword Search"),l(n,12,0,"ident","Numeric Search"),l(n,18,0,"marc","MARC Search"),l(n,24,0,"browse","Browse"),l(n,30,0,"cnbrowse","Shelf Browse"),l(n,42,0,"Library",u.context.searchOrg),l(n,50,0,u.searchTab),l(n,54,0)},function(l,n){var u=n.component;l(n,43,0,u.searchIsActive()),l(n,45,0,u.searchIsActive())})}var Tl=function(){function l(l,n){this.basket=l,this.staffCat=n}return l.prototype.ngOnInit=function(){this.staffCat.createContext()},l}(),Dl=e.pb({encapsulation:2,styles:[],data:{}});function Ll(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"eg-catalog-search-form",[],null,null,null,Pl,tl)),e.qb(1,4308992,null,0,el,[e.E,m.a,h.a,q.a,M],null,null),(l()(),e.rb(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.qb(3,212992,null,0,m.p,[m.b,e.P,e.j,[8,null],e.h],null,null)],function(l,n){l(n,1,0),l(n,3,0)},null)}function El(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"ng-component",[],null,null,null,Ll,Dl)),e.qb(1,114688,null,0,Tl,[X.a,M],null,null)],function(l,n){l(n,1,0)},null)}var Jl=e.nb("ng-component",Tl,El,{},{},[]),Fl={display:[{facetClass:"author",facetOrder:["personal","corporate"]},{facetClass:"subject",facetOrder:["topic"]},{facetClass:"identifier",facetOrder:["genre"]},{facetClass:"series",facetOrder:["seriestitle"]},{facetClass:"subject",facetOrder:["name","geographic"]}],displayCount:5},Hl=function(){function l(l,n,u){this.cat=l,this.catUrl=n,this.staffCat=u,this.facetConfig=Fl}return l.prototype.ngOnInit=function(){this.searchContext=this.staffCat.searchContext},l.prototype.facetIsApplied=function(l,n,u){return this.searchContext.termSearch.hasFacet(new I.d(l,n,u))},l.prototype.getFacetUrlParams=function(l,n,u){var e=this.staffCat.cloneContext(this.searchContext);return e.termSearch.toggleFacet(new I.d(l,n,u)),e.pager.offset=0,this.catUrl.toUrlParams(e)},l}(),Al=e.pb({encapsulation:0,styles:[".facet-selected[_ngcontent-%COMP%] {\n    background-color: #DDD;\n  }\n  .card[_ngcontent-%COMP%] {\n    width: 100%;\n  }\n  .list-group-item[_ngcontent-%COMP%] {padding: .5rem .75rem .5rem .75rem}"],data:{}});function Nl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,9,"li",[["class","list-group-item"]],null,null,null,null,null)),e.qb(1,278528,null,0,i.n,[e.t,e.u,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(2,{"facet-selected":0}),(l()(),e.rb(3,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,3,"div",[["class","col-lg-9"]],null,null,null,null,null)),(l()(),e.rb(5,0,null,null,2,"a",[["class","card-link"],["routerLink","/staff/catalog/search"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,6).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.qb(6,671744,null,0,m.n,[m.l,m.a,i.m],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),(l()(),e.Jb(7,null,[" "," "])),(l()(),e.rb(8,0,null,null,1,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.Jb(9,null,["",""]))],function(l,n){var u=n.component,e=l(n,2,0,u.facetIsApplied(n.parent.parent.parent.parent.context.$implicit.facetClass,n.parent.parent.context.$implicit,n.context.$implicit.value));l(n,1,0,"list-group-item",e),l(n,6,0,u.getFacetUrlParams(n.parent.parent.parent.parent.context.$implicit.facetClass,n.parent.parent.context.$implicit,n.context.$implicit.value),"/staff/catalog/search")},function(l,n){l(n,5,0,e.Bb(n,6).target,e.Bb(n,6).href),l(n,7,0,n.context.$implicit.value),l(n,9,0,n.context.$implicit.count)})}function Ol(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"div",[["class","card mb-2"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"h4",[["class","card-header"]],null,null,null,null,null)),(l()(),e.Jb(3,null,[" "," "])),(l()(),e.rb(4,0,null,null,3,"ul",[["class","list-group list-group-flush"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,2,null,Nl)),e.qb(6,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),e.Db(0,i.B,[])],function(l,n){var u=n.component;l(n,6,0,e.Kb(n,6,0,e.Bb(n,7).transform(u.searchContext.result.facetData[n.parent.parent.parent.context.$implicit.facetClass][n.parent.context.$implicit].valueList,0,u.facetConfig.displayCount)))},function(l,n){l(n,3,0,n.component.searchContext.result.facetData[n.parent.parent.parent.context.$implicit.facetClass][n.parent.context.$implicit].cmfLabel)})}function Rl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Ol)),e.qb(2,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.searchContext.result.facetData[n.parent.parent.context.$implicit.facetClass][n.context.$implicit])},null)}function Gl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Rl)),e.qb(2,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.parent.context.$implicit.facetOrder)},null)}function Ul(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Gl)),e.qb(2,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.searchContext.result.facetData[n.context.$implicit.facetClass])},null)}function jl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Ul)),e.qb(2,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.facetConfig.display)},null)}function Kl(l){return e.Lb(0,[(l()(),e.ib(16777216,null,null,1,null,jl)),e.qb(1,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.searchContext.result.facetData)},null)}var $l=u("XKii"),Vl=function(){function l(l,n,u,e,t,a,r,o){this.router=l,this.org=n,this.net=u,this.bib=e,this.cat=t,this.catUrl=a,this.staffCat=r,this.basket=o}return l.prototype.ngOnInit=function(){var l=this;this.searchContext=this.staffCat.searchContext,this.summary.getHoldCount(),this.isRecordSelected=this.basket.hasRecordId(this.summary.id),this.basketSub=this.basket.onChange.subscribe(function(){l.isRecordSelected=l.basket.hasRecordId(l.summary.id)})},l.prototype.ngOnDestroy=function(){this.basketSub.unsubscribe()},l.prototype.orgName=function(l){return this.org.get(l).shortname()},l.prototype.iconFormatLabel=function(l){return this.cat.iconFormatLabel(l)},l.prototype.placeHold=function(){var l="T",n=this.summary.id;this.searchContext.termSearch.isMetarecordSearch()&&(l="M",n=this.summary.metabibId),this.router.navigate(["/staff/catalog/hold/"+l],{queryParams:{target:n}})},l.prototype.addToList=function(){alert("Adding to list for bib "+this.summary.id)},l.prototype.getAuthorSearchParams=function(l){var n=this.staffCat.cloneContext(this.searchContext);return n.reset(),n.termSearch.fieldClass=["author"],n.termSearch.query=[l.display.author],this.catUrl.toUrlParams(n)},l.prototype.appendFromMrParam=function(l){var n=this.staffCat.cloneContext(this.searchContext);return n.termSearch.fromMetarecord=l.metabibId,this.catUrl.toUrlParams(n)},l.prototype.hasMrConstituentRecords=function(l){return l.metabibId&&l.metabibRecords.length>1},l.prototype.currentParams=function(){return this.catUrl.toUrlParams(this.searchContext)},l.prototype.toggleBasketEntry=function(){return this.isRecordSelected?this.basket.addRecordIds([this.summary.id]):this.basket.removeRecordIds([this.summary.id])},l}(),zl=e.pb({encapsulation:0,styles:[[".record-jacket-div[_ngcontent-%COMP%]{width:120px}.record-jacket-div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;max-height:158px;max-width:100px}"]],data:{}});function Wl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"a",[["routerLink","/staff/catalog/search"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,2).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.qb(2,671744,null,0,m.n,[m.l,m.a,i.m],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),(l()(),e.rb(3,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],function(l,n){var u=n.component;l(n,2,0,u.appendFromMrParam(u.summary),"/staff/catalog/search")},function(l,n){var u=n.component;l(n,1,0,e.Bb(n,2).target,e.Bb(n,2).href),l(n,3,0,e.tb(1,"/opac/extras/ac/jacket/medium/r/",u.summary.id,""))})}function Ql(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,2).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.qb(2,671744,null,0,m.n,[m.l,m.a,i.m],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),(l()(),e.rb(3,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],function(l,n){var u=n.component;l(n,2,0,u.currentParams(),e.tb(1,"/staff/catalog/record/",u.summary.id,""))},function(l,n){var u=n.component;l(n,1,0,e.Bb(n,2).target,e.Bb(n,2).href),l(n,3,0,e.tb(1,"/opac/extras/ac/jacket/medium/r/",u.summary.id,""))})}function Zl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","pl-2 font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(2,null,[" "," "," "," @ "," "]))],null,function(l,n){var u=n.component;l(n,2,0,u.callNumber.prefix().label(),u.callNumber.label(),u.callNumber.suffix().label(),u.orgName(u.callNumber.owning_lib()))})}function Xl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"a",[["routerLink","/staff/catalog/search"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,2).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.qb(2,671744,null,0,m.n,[m.l,m.a,i.m],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),(l()(),e.Jb(3,null,[" "," "]))],function(l,n){var u=n.component;l(n,2,0,u.appendFromMrParam(u.summary),"/staff/catalog/search")},function(l,n){var u=n.component;l(n,1,0,e.Bb(n,2).target,e.Bb(n,2).href),l(n,3,0,u.summary.display.title||"\xa0")})}function Yl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,2).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.qb(2,671744,null,0,m.n,[m.l,m.a,i.m],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),(l()(),e.Jb(3,null,[" "," "]))],function(l,n){var u=n.component;l(n,2,0,u.currentParams(),e.tb(1,"/staff/catalog/record/",u.summary.id,""))},function(l,n){var u=n.component;l(n,1,0,e.Bb(n,2).target,e.Bb(n,2).href),l(n,3,0,u.summary.display.title||"\xa0")})}function ln(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,3,"span",[["class","pr-1"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,0,"img",[["class","pr-1"]],[[8,"src",4]],null,null,null,null)),(l()(),e.rb(3,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(4,null,["",""]))],null,function(l,n){var u=n.component;l(n,2,0,e.tb(1,"/images/format_icons/icon_format/",n.context.$implicit,".png")),l(n,4,0,u.iconFormatLabel(n.context.$implicit))})}function nn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,ln)),e.qb(2,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.ib(0,null,null,0))],function(l,n){l(n,2,0,n.component.summary.attributes.icon_format)},null)}function un(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","pb-1"]],null,null,null,null,null)),(l()(),e.Jb(2,null,["Phys. Desc.: "," "]))],null,function(l,n){l(n,2,0,e.eb.concat(n.component.summary.display.physical_description).join(", "))})}function en(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","pb-1"]],null,null,null,null,null)),(l()(),e.Jb(2,null,["Edition: ",""]))],null,function(l,n){l(n,2,0,n.component.summary.display.edition)})}function tn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","pb-1"]],null,null,null,null,null)),(l()(),e.Jb(2,null,["Publisher: ",""]))],null,function(l,n){l(n,2,0,n.component.summary.display.publisher)})}function an(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[["class","pb-1"]],null,null,null,null,null)),(l()(),e.Jb(1,null,["Pub Date: ",""]))],null,function(l,n){l(n,1,0,n.component.summary.display.pubdate)})}function rn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,tn)),e.qb(2,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),e.ib(0,[["pubDate",2]],null,0,null,an))],function(l,n){l(n,2,0,n.component.summary.display.publisher,e.Bb(n,3))},null)}function on(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","pb-1"]],null,null,null,null,null)),(l()(),e.Jb(2,null,["ISBN: ",""]))],null,function(l,n){l(n,2,0,e.eb.concat(n.component.summary.display.isbn).join(", "))})}function cn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","pb-1"]],null,null,null,null,null)),(l()(),e.Jb(2,null,["UPC: ",""]))],null,function(l,n){l(n,2,0,e.eb.concat(n.component.summary.display.upc).join(", "))})}function sn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e.Jb(2,null,["ISSN: ",""]))],null,function(l,n){l(n,2,0,e.eb.concat(n.component.summary.display.issn).join(", "))})}function bn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,5,"div",[["class","w-100"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"div",[["class","float-left text-left w-50"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"span",[["class","pr-1"]],null,null,null,null,null)),(l()(),e.Jb(3,null,[" "," / "," items "])),(l()(),e.rb(4,0,null,null,1,"div",[["class","float-left w-50"]],null,null,null,null,null)),(l()(),e.Jb(5,null,[" @ "," "]))],null,function(l,n){var u=n.component;l(n,3,0,n.parent.context.$implicit.available,n.parent.context.$implicit.count),l(n,5,0,u.orgName(n.parent.context.$implicit.org_unit))})}function dn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),e.qb(1,278528,null,0,i.n,[e.t,e.u,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(2,{"pt-2":0}),(l()(),e.ib(16777216,null,null,1,null,bn)),e.qb(4,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=l(n,2,0,n.component.copyIndex>0);l(n,1,0,"row",u),l(n,4,0,"staff"==n.context.$implicit.type)},null)}function pn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"a",[["target","_self"]],[[8,"href",4]],null,null,null,null)),(l()(),e.Jb(1,null,[" "," "]))],null,function(l,n){var u=n.component;l(n,0,0,e.tb(1,"/eg/staff/circ/patron/",u.summary.record.creator().id(),"/checkout")),l(n,1,0,u.summary.record.creator().usrname())})}function hn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" ... "]))],null,null)}function gn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"a",[["target","_self"]],[[8,"href",4]],null,null,null,null)),(l()(),e.Jb(1,null,[" "," "]))],null,function(l,n){var u=n.component;l(n,0,0,e.tb(1,"/eg/staff/circ/patron/",u.summary.record.editor().id(),"/checkout")),l(n,1,0,u.summary.record.editor().usrname())})}function mn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" ... "]))],null,null)}function fn(l){return e.Lb(0,[e.Db(0,i.f,[e.v]),(l()(),e.rb(1,0,null,null,87,"div",[["class","col-lg-12 card tight-card mb-2 bg-light"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,86,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,85,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,46,"div",[["class","col-lg-7 d-flex"]],null,null,null,null,null)),(l()(),e.rb(5,0,null,null,8,"label",[["class","checkbox"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,1,"span",[["class","font-weight-bold font-italic"]],null,null,null,null,null)),(l()(),e.Jb(7,null,[" ",". "])),(l()(),e.rb(8,0,null,null,5,"input",[["class","pl-1"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,9).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,9).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.isRecordSelected=u)&&t),"change"===n&&(t=!1!==a.toggleBasketEntry()&&t),t},null,null)),e.qb(9,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(11,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(13,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(14,0,null,null,4,"div",[["class","pl-2 record-jacket-div"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Wl)),e.qb(16,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Ql)),e.qb(18,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Zl)),e.qb(20,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(21,0,null,null,29,"div",[["class","flex-1 pl-2"]],null,null,null,null,null)),(l()(),e.rb(22,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(23,0,null,null,4,"div",[["class","col-lg-12 font-weight-bold"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Xl)),e.qb(25,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Yl)),e.qb(27,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(28,0,null,null,4,"div",[["class","row pt-2"]],null,null,null,null,null)),(l()(),e.rb(29,0,null,null,3,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(30,0,null,null,2,"a",[["routerLink","/staff/catalog/search"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,31).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.qb(31,671744,null,0,m.n,[m.l,m.a,i.m],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),(l()(),e.Jb(32,null,[" "," "])),(l()(),e.rb(33,0,null,null,3,"div",[["class","row pt-2"]],null,null,null,null,null)),(l()(),e.rb(34,0,null,null,2,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,nn)),e.qb(36,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(37,0,null,null,13,"div",[["class","row pt-2"]],null,null,null,null,null)),(l()(),e.rb(38,0,null,null,12,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,un)),e.qb(40,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,en)),e.qb(42,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,rn)),e.qb(44,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,on)),e.qb(46,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,cn)),e.qb(48,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,sn)),e.qb(50,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(51,0,null,null,2,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,dn)),e.qb(53,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(54,0,null,null,6,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),e.rb(55,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(56,0,null,null,1,"div",[["class","w-100"]],null,null,null,null,null)),(l()(),e.Jb(57,null,[" TCN: "," "])),(l()(),e.rb(58,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(59,0,null,null,1,"div",[["class","w-100"]],null,null,null,null,null)),(l()(),e.Jb(60,null,[" Holds: "," "])),(l()(),e.rb(61,0,null,null,27,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),e.rb(62,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(63,0,null,null,7,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(64,0,null,null,6,"div",[["class","float-right small-text-1"]],null,null,null,null,null)),(l()(),e.Jb(65,null,[" Created "," by "])),e.Fb(66,2),(l()(),e.ib(16777216,null,null,1,null,pn)),e.qb(68,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,hn)),e.qb(70,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(71,0,null,null,8,"div",[["class","row pt-2"]],null,null,null,null,null)),(l()(),e.rb(72,0,null,null,7,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(73,0,null,null,6,"div",[["class","float-right small-text-1"]],null,null,null,null,null)),(l()(),e.Jb(74,null,[" Edited "," by "])),e.Fb(75,2),(l()(),e.ib(16777216,null,null,1,null,gn)),e.qb(77,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,mn)),e.qb(79,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(80,0,null,null,8,"div",[["class","row pt-2"]],null,null,null,null,null)),(l()(),e.rb(81,0,null,null,7,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(82,0,null,null,6,"div",[["class","float-right"]],null,null,null,null,null)),(l()(),e.rb(83,0,null,null,5,"span",[],null,null,null,null,null)),(l()(),e.rb(84,0,null,null,4,"button",[["class","btn btn-sm btn-success label-with-material-icon small-text-1"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.placeHold()&&e),e},null,null)),(l()(),e.rb(85,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["check"])),(l()(),e.rb(87,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Place Hold"]))],function(l,n){var u=n.component;l(n,11,0,u.isRecordSelected),l(n,16,0,u.hasMrConstituentRecords(u.summary)),l(n,18,0,!u.hasMrConstituentRecords(u.summary)),l(n,20,0,u.callNumber),l(n,25,0,u.hasMrConstituentRecords(u.summary)),l(n,27,0,!u.hasMrConstituentRecords(u.summary)),l(n,31,0,u.getAuthorSearchParams(u.summary),"/staff/catalog/search"),l(n,36,0,u.summary.attributes.icon_format&&u.summary.attributes.icon_format[0]),l(n,40,0,u.summary.display.physical_description),l(n,42,0,u.summary.display.edition),l(n,44,0,u.summary.display.publisher||u.summary.display.pubdate),l(n,46,0,u.summary.display.isbn),l(n,48,0,u.summary.display.upc),l(n,50,0,u.summary.display.issn),l(n,53,0,u.summary.holdingsSummary),l(n,68,0,u.summary.record.creator().usrname),l(n,70,0,!u.summary.record.creator().usrname),l(n,77,0,u.summary.record.editor().usrname),l(n,79,0,!u.summary.record.editor().usrname)},function(l,n){var u=n.component;l(n,7,0,u.index+1+u.searchContext.pager.offset),l(n,8,0,e.Bb(n,13).ngClassUntouched,e.Bb(n,13).ngClassTouched,e.Bb(n,13).ngClassPristine,e.Bb(n,13).ngClassDirty,e.Bb(n,13).ngClassValid,e.Bb(n,13).ngClassInvalid,e.Bb(n,13).ngClassPending),l(n,30,0,e.Bb(n,31).target,e.Bb(n,31).href),l(n,32,0,u.summary.display.author||"\xa0"),l(n,57,0,u.summary.record.tcn_value()),l(n,60,0,u.summary.holdCount);var t=e.Kb(n,65,0,l(n,66,0,e.Bb(n,0),u.summary.record.create_date(),"shortDate"));l(n,65,0,t);var a=e.Kb(n,74,0,l(n,75,0,e.Bb(n,0),u.summary.record.edit_date(),"shortDate"));l(n,74,0,a)})}var vn=function(){function l(l,n){this.cat=l,this.staffCat=n,this.numPages=10}return l.prototype.ngOnInit=function(){this.searchContext=this.staffCat.searchContext},l.prototype.currentPageList=function(){var l=this.searchContext.pager;return l.pageRange(l.currentPage(),this.numPages)},l.prototype.nextPage=function(){this.searchContext.pager.increment(),this.staffCat.search()},l.prototype.prevPage=function(){this.searchContext.pager.decrement(),this.staffCat.search()},l.prototype.setPage=function(l){this.searchContext.pager.currentPage()!==l&&(this.searchContext.pager.setPage(l),this.staffCat.search())},l}(),yn=e.pb({encapsulation:0,styles:[[".pagination[_ngcontent-%COMP%]{margin:0}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.active)   a[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function Cn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"li",[["class","page-item"]],null,null,null,null,null)),e.qb(1,278528,null,0,i.n,[e.t,e.u,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(2,{active:0}),(l()(),e.rb(3,0,null,null,3,"a",[["class","page-link"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.setPage(l.context.$implicit)&&e),e},null,null)),(l()(),e.Jb(4,null,[" "," "])),(l()(),e.rb(5,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["(current)"]))],function(l,n){var u=l(n,2,0,n.component.searchContext.pager.currentPage()==n.context.$implicit);l(n,1,0,"page-item",u)},function(l,n){l(n,4,0,n.context.$implicit)})}function kn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,14,"ul",[["class","pagination"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,5,"li",[["class","page-item"]],null,null,null,null,null)),e.qb(2,278528,null,0,i.n,[e.t,e.u,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(3,{disabled:0}),(l()(),e.rb(4,0,null,null,2,"a",[["aria-label","Previous"],["class","page-link"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.prevPage()&&e),e},null,null)),(l()(),e.rb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xab"])),(l()(),e.ib(16777216,null,null,1,null,Cn)),e.qb(8,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(9,0,null,null,5,"li",[["class","page-item"]],null,null,null,null,null)),e.qb(10,278528,null,0,i.n,[e.t,e.u,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(11,{disabled:0}),(l()(),e.rb(12,0,null,null,2,"a",[["aria-label","Next"],["class","page-link"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.nextPage()&&e),e},null,null)),(l()(),e.rb(13,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xbb"]))],function(l,n){var u=n.component,e=l(n,3,0,u.searchContext.pager.isFirstPage());l(n,2,0,"page-item",e),l(n,8,0,u.currentPageList());var t=l(n,11,0,u.searchContext.pager.isLastPage());l(n,10,0,"page-item",t)},null)}var wn=u("iA0r"),Bn=function(){function l(l,n,u,e,t,a,r){this.route=l,this.pcrud=n,this.cat=u,this.bib=e,this.catUrl=t,this.staffCat=a,this.basket=r,this.userCache={}}return l.prototype.ngOnInit=function(){var l=this;this.searchContext=this.staffCat.searchContext,this.routeSub=this.route.queryParamMap.subscribe(function(n){l.searchByUrl(n)}),this.searchSub=this.cat.onSearchComplete.subscribe(function(n){return l.applyRecordSelection()}),this.basketSub=this.basket.onChange.subscribe(function(){return l.applyRecordSelection()})},l.prototype.ngOnDestroy=function(){this.routeSub.unsubscribe(),this.searchSub.unsubscribe(),this.basketSub.unsubscribe()},l.prototype.applyRecordSelection=function(){var l=this,n=this.searchContext.currentResultIds(),u=!0;n.forEach(function(n){l.basket.hasRecordId(n)||(u=!1)}),this.allRecsSelected=u},l.prototype.searchByUrl=function(l){var n=this;this.catUrl.applyUrlParams(this.searchContext,l),this.searchContext.isSearchable()&&this.cat.search(this.searchContext).then(function(l){n.cat.fetchFacets(n.searchContext),n.cat.fetchBibSummaries(n.searchContext).then(function(l){return n.fleshSearchResults()})})},l.prototype.shouldStartRendering=function(){if(this.searchHasResults())switch(this.searchContext.currentResultIds().length){case 1:return this.searchContext.result.records[0];default:return this.searchContext.result.records[0]&&this.searchContext.result.records[1]}return!1},l.prototype.fleshSearchResults=function(){var l=this.searchContext.result.records;l&&0!==l.length&&this.bib.fleshBibUsers(l.map(function(l){return l.record}))},l.prototype.searchIsDone=function(){return this.searchContext.searchState===I.c.COMPLETE},l.prototype.searchIsActive=function(){return this.searchContext.searchState===I.c.SEARCHING},l.prototype.searchHasResults=function(){return this.searchIsDone()&&this.searchContext.result.count>0},l.prototype.toggleAllRecsSelected=function(){var l=this.searchContext.currentResultIds();this.allRecsSelected?this.basket.addRecordIds(l):this.basket.removeRecordIds(l)},l}(),xn=e.pb({encapsulation:2,styles:[],data:{}});function qn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,4,"div",[["class","col-lg-6 offset-lg-3 pt-3"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,3,"div",[["class","progress"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,2,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","100"],["class","progress-bar progress-bar-striped active w-100"],["role","progressbar"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Searching.."]))],null,null)}function _n(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,4,"div",[["class","row pt-3"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,3,"div",[["class","col-lg-6 offset-lg-3"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,2,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["No Maching Items Were Found"]))],null,null)}function In(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Jb(2,null,['Results for browse "','"']))],null,function(l,n){l(n,2,0,n.component.searchContext.termSearch.browseEntry.value())})}function Mn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Jb(2,null,["Search Results (",")"]))],null,function(l,n){l(n,2,0,n.component.searchContext.result.count)})}function Sn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,In)),e.qb(2,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Mn)),e.qb(4,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,u.searchContext.termSearch.browseEntry),l(n,4,0,!u.searchContext.termSearch.browseEntry)},null)}function Pn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Basket View"]))],null,null)}function Tn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,8,"label",[["class","checkbox"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,2).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,2).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.allRecsSelected=u)&&t),"change"===n&&(t=!1!==a.toggleAllRecsSelected()&&t),t},null,null)),e.qb(2,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(4,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(6,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(7,0,null,null,1,"span",[["class","pl-1"]],null,null,null,null,null)),(l()(),e.Jb(8,null,["Select "," - "," "]))],function(l,n){l(n,4,0,n.component.allRecsSelected)},function(l,n){var u=n.component;l(n,1,0,e.Bb(n,6).ngClassUntouched,e.Bb(n,6).ngClassTouched,e.Bb(n,6).ngClassPristine,e.Bb(n,6).ngClassDirty,e.Bb(n,6).ngClassValid,e.Bb(n,6).ngClassInvalid,e.Bb(n,6).ngClassPending),l(n,8,0,u.searchContext.pager.rowNumber(0),u.searchContext.pager.rowNumber(u.searchContext.currentResultIds().length-1))})}function Dn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"eg-catalog-result-facets",[],null,null,null,Kl,Al)),e.qb(2,114688,null,0,Hl,[q.a,_.a,M],null,null)],function(l,n){l(n,2,0)},null)}function Ln(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"eg-catalog-result-record",[],null,null,null,fn,zl)),e.qb(2,245760,null,0,Vl,[m.l,h.a,Q.b,$l.a,q.a,_.a,M,X.a],{index:[0,"index"],summary:[1,"summary"]},null)],function(l,n){l(n,2,0,n.parent.context.index,n.parent.context.$implicit)},null)}function En(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Ln)),e.qb(2,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.context.$implicit)},null)}function Jn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,En)),e.qb(2,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.searchContext.result.records)},null)}function Fn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,21,"div",[["id","staff-catalog-results-container"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Sn)),e.qb(3,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Pn)),e.qb(5,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(6,0,null,null,2,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Tn)),e.qb(8,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(9,0,null,null,3,"div",[["class","col-lg-8"]],null,null,null,null,null)),(l()(),e.rb(10,0,null,null,2,"div",[["class","float-right"]],null,null,null,null,null)),(l()(),e.rb(11,0,null,null,1,"eg-catalog-result-pagination",[],null,null,null,kn,yn)),e.qb(12,114688,null,0,vn,[q.a,M],null,null),(l()(),e.rb(13,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),e.rb(14,0,null,null,7,"div",[["class","row mt-2"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Dn)),e.qb(16,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(17,0,null,null,4,"div",[],null,null,null,null,null)),e.qb(18,278528,null,0,i.n,[e.t,e.u,e.k,e.E],{ngClass:[0,"ngClass"]},null),e.Eb(19,{"col-lg-10":0,"col-lg-12":1}),(l()(),e.ib(16777216,null,null,1,null,Jn)),e.qb(21,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,3,0,!u.searchContext.basket),l(n,5,0,u.searchContext.basket),l(n,8,0,!u.searchContext.basket),l(n,12,0),l(n,16,0,!u.searchContext.basket);var e=l(n,19,0,!u.searchContext.basket,u.searchContext.basket);l(n,18,0,e),l(n,21,0,u.shouldStartRendering())},null)}function Hn(l){return e.Lb(0,[(l()(),e.ib(16777216,null,null,1,null,qn)),e.qb(1,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,_n)),e.qb(3,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Fn)),e.qb(5,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,1,0,u.searchIsActive()),l(n,3,0,u.searchIsDone()&&!u.searchHasResults()),l(n,5,0,u.searchHasResults())},null)}function An(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"eg-catalog-results",[],null,null,null,Hn,xn)),e.qb(1,245760,null,0,Bn,[m.a,wn.a,q.a,$l.a,_.a,M,X.a],null,null)],function(l,n){l(n,1,0)},null)}var Nn=e.nb("eg-catalog-results",Bn,An,{},{},[]),On=u("Q4dc"),Rn=function(){function l(l,n,u,e){this.router=l,this.cat=n,this.catUrl=u,this.staffCat=e,this.initDone=!1}return Object.defineProperty(l.prototype,"recordTab",{get:function(){return this._recordTab},set:function(l){this._recordTab=l},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"recordId",{set:function(l){this.id=l,this.initDone&&this.setIndex()},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){this.initDone=!0,this.setIndex()},l.prototype.routeToRecord=function(l){var n="/staff/catalog/record/"+l;this.recordTab&&(n+="/"+this.recordTab);var u=this.catUrl.toUrlParams(this.searchContext);this.router.navigate([n],{queryParams:u})},l.prototype.firstRecord=function(){var l=this;this.findRecordAtIndex(0).then(function(n){return l.routeToRecord(n)})},l.prototype.lastRecord=function(){var l=this;this.findRecordAtIndex(this.searchContext.result.count-1).then(function(n){return l.routeToRecord(n)})},l.prototype.nextRecord=function(){var l=this;this.findRecordAtIndex(this.index+1).then(function(n){return l.routeToRecord(n)})},l.prototype.prevRecord=function(){var l=this;this.findRecordAtIndex(this.index-1).then(function(n){return l.routeToRecord(n)})},l.prototype.searchIndex=function(l){return l+this.searchContext.pager.offset},l.prototype.setIndex=function(){var l=this;return this.searchContext=this.staffCat.searchContext,this.index=null,new Promise(function(n,u){return l.index=l.searchContext.indexForResult(l.id),null!==l.index?n():l.refreshSearch().then(function(u){l.index=l.searchContext.indexForResult(l.id),null===l.index&&console.warn("No search results found containing the focused record."),n()})})},l.prototype.findRecordAtIndex=function(l){var n=this;return new Promise(function(u,e){var t=n.searchContext.resultIdAt(l);return t?u(t):(console.debug("Record paginator unable to find record at index "+l),n.refreshSearch(l+2).then(function(t){var a=n.searchContext.resultIdAt(l);a?u(a):e("no record found")}))})},l.prototype.refreshSearch=function(l){var n=this;if(console.debug("paginator refreshing search"),!this.searchContext.isSearchable())return Promise.resolve();var u=this.searchContext.pager,e=new On.a;return e.limit=l||1e3,this.searchContext.pager=e,this.cat.search(this.searchContext).then(function(l){return n.searchContext.pager=u},function(l){return n.searchContext.pager=u})},l.prototype.returnToSearch=function(){this.staffCat.search()},l}(),Gn=e.pb({encapsulation:2,styles:[],data:{}});function Un(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,28,"ul",[["class","pagination mb-0"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,5,"li",[["class","page-item"]],null,null,null,null,null)),e.qb(2,278528,null,0,i.n,[e.t,e.u,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(3,{disabled:0}),(l()(),e.rb(4,0,null,null,2,"a",[["aria-label","Start"],["class","no-href page-link"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.firstRecord()&&e),e},null,null)),(l()(),e.rb(5,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Start"])),(l()(),e.rb(7,0,null,null,5,"li",[["class","page-item"]],null,null,null,null,null)),e.qb(8,278528,null,0,i.n,[e.t,e.u,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(9,{disabled:0}),(l()(),e.rb(10,0,null,null,2,"a",[["aria-label","Previous"],["class","no-href page-link"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.prevRecord()&&e),e},null,null)),(l()(),e.rb(11,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Previous"])),(l()(),e.rb(13,0,null,null,5,"li",[["class","page-item"]],null,null,null,null,null)),e.qb(14,278528,null,0,i.n,[e.t,e.u,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(15,{disabled:0}),(l()(),e.rb(16,0,null,null,2,"a",[["aria-label","Next"],["class","no-href page-link"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.nextRecord()&&e),e},null,null)),(l()(),e.rb(17,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Next"])),(l()(),e.rb(19,0,null,null,5,"li",[["class","page-item"]],null,null,null,null,null)),e.qb(20,278528,null,0,i.n,[e.t,e.u,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(21,{disabled:0}),(l()(),e.rb(22,0,null,null,2,"a",[["aria-label","End"],["class","no-href page-link"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.lastRecord()&&e),e},null,null)),(l()(),e.rb(23,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["End"])),(l()(),e.rb(25,0,null,null,3,"li",[["class","page-item"]],null,null,null,null,null)),(l()(),e.rb(26,0,null,null,2,"a",[["aria-label","Back to Results"],["class","no-href page-link"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.returnToSearch()&&e),e},null,null)),(l()(),e.rb(27,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(28,null,[" Back to Results ("," / ",") "]))],function(l,n){var u=n.component,e=l(n,3,0,0==u.index);l(n,2,0,"page-item",e);var t=l(n,9,0,0==u.index);l(n,8,0,"page-item",t);var a=l(n,15,0,u.index>=u.searchContext.result.count-1);l(n,14,0,"page-item",a);var r=l(n,21,0,u.index>=u.searchContext.result.count-1);l(n,20,0,"page-item",r)},function(l,n){var u=n.component;l(n,28,0,u.index+1,u.searchContext.result.count)})}function jn(l){return e.Lb(0,[(l()(),e.ib(16777216,null,null,1,null,Un)),e.qb(1,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,null!==n.component.index)},null)}var Kn=u("Qm07"),$n=u("9Zsr"),Vn=u("ZvpF"),zn=u("DwFa"),Wn=u("t7hH"),Qn=u("F/XL"),Zn=u("67Y/"),Xn=u("MWGh"),Yn=function(){function l(l,n,u){this.net=l,this.org=n,this.staffCat=u,this.initDone=!1,this.gridDataSource=new Xn.c}return Object.defineProperty(l.prototype,"recordId",{set:function(l){this.recId=l,this.initDone&&this.copyGrid.reload()},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var l=this;this.initDone=!0,this.gridDataSource.getRows=function(n,u){return l.fetchCopies(n)},this.copyContext={holdable:function(l){return"t"===l.holdable&&"t"===l.location_holdable&&"t"===l.status_holdable}}},l.prototype.collectData=function(){},l.prototype.orgName=function(l){return this.org.get(l).shortname()},l.prototype.fetchCopies=function(l){if(!this.recId)return Object(Qn.a)([]);var n=this.staffCat.searchContext.global?this.org.root().ou_type().depth():this.staffCat.searchContext.searchOrg.ou_type().depth();return this.net.request("open-ils.search","open-ils.search.bib.copies.staff",this.recId,this.staffCat.searchContext.searchOrg.id(),n,l.limit,l.offset,this.staffCat.prefOrg?this.staffCat.prefOrg.id():null).pipe(Object(Zn.a)(function(l){return l.active_date=l.active_date||l.create_date,l}))},l}(),lu=e.pb({encapsulation:2,styles:[],data:{}});function nu(l){return e.Lb(0,[(l()(),e.Jb(0,null,[" "," "," ","\n"]))],null,function(l,n){l(n,0,0,n.context.row.call_number_prefix_label,n.context.row.call_number_label,n.context.row.call_number_suffix_label)})}function uu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e.Jb(1,null,["",""])),(l()(),e.rb(2,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,1,"a",[["class","pl-1"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),e.Jb(-1,null,["View"])),(l()(),e.Jb(-1,null,[" | "])),(l()(),e.rb(6,0,null,null,1,"a",[["class","pl-1"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),e.Jb(-1,null,["Edit"]))],null,function(l,n){l(n,1,0,n.context.row.barcode),l(n,3,0,e.tb(1,"/eg/staff/cat/item/",n.context.row.id,"")),l(n,6,0,e.tb(1,"/eg/staff/cat/item/",n.context.row.id,"/edit"))})}function eu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,10,"span",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,4,"div",[["class","border-bottom"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,3,"a",[["queryParamsHandling","merge"],["routerLink","/staff/catalog/hold/C"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,3).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.qb(3,671744,null,0,m.n,[m.l,m.a,i.m],{queryParams:[0,"queryParams"],queryParamsHandling:[1,"queryParamsHandling"],routerLink:[2,"routerLink"]},null),e.Eb(4,{target:0}),(l()(),e.Jb(-1,null,[" Item Hold "])),(l()(),e.rb(6,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),e.rb(7,0,null,null,3,"a",[["queryParamsHandling","merge"],["routerLink","/staff/catalog/hold/V"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,8).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.qb(8,671744,null,0,m.n,[m.l,m.a,i.m],{queryParams:[0,"queryParams"],queryParamsHandling:[1,"queryParamsHandling"],routerLink:[2,"routerLink"]},null),e.Eb(9,{target:0}),(l()(),e.Jb(-1,null,[" Call Number Hold "]))],function(l,n){var u=l(n,4,0,n.parent.context.row.id);l(n,3,0,u,"merge","/staff/catalog/hold/C");var e=l(n,9,0,n.parent.context.row.call_number);l(n,8,0,e,"merge","/staff/catalog/hold/V")},function(l,n){l(n,2,0,e.Bb(n,3).target,e.Bb(n,3).href),l(n,7,0,e.Bb(n,8).target,e.Bb(n,8).href)})}function tu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["No"]))],null,null)}function au(l){return e.Lb(0,[(l()(),e.ib(16777216,null,null,1,null,eu)),e.qb(1,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,tu)),e.qb(3,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(0,null,null,0))],function(l,n){var u=n.context.userContext.holdable(n.context.row);l(n,1,0,u);var e=!n.context.userContext.holdable(n.context.row);l(n,3,0,e)},null)}function ru(l){return e.Lb(0,[e.Hb(402653184,1,{copyGrid:0}),(l()(),e.ib(0,[["cnTemplate",2]],null,0,null,nu)),(l()(),e.ib(0,[["barcodeTemplate",2]],null,0,null,uu)),(l()(),e.ib(0,[["holdableTemplate",2]],null,0,null,au)),(l()(),e.rb(4,0,null,null,24,"div",[["class","eg-copies w-100 mt-3"]],null,null,null,null,null)),(l()(),e.rb(5,0,null,null,23,"eg-grid",[["persistKey","catalog.record.copies"]],null,null,null,Kn.b,Kn.a)),e.qb(6,4440064,[[1,4],["copyGrid",4]],0,$n.a,[W.a,h.a,B.a,Vn.a],{dataSource:[0,"dataSource"],sortable:[1,"sortable"],persistKey:[2,"persistKey"],disableSelect:[3,"disableSelect"]},null),(l()(),e.rb(7,0,null,null,1,"eg-grid-column",[["label","Item ID"],["path","id"]],null,null,null,zn.b,zn.a)),e.qb(8,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],index:[2,"index"],hidden:[3,"hidden"]},null),(l()(),e.rb(9,0,null,null,1,"eg-grid-column",[["datatype","org_unit"],["label","Location"],["path","circ_lib"]],null,null,null,zn.b,zn.a)),e.qb(10,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],datatype:[2,"datatype"]},null),(l()(),e.rb(11,0,null,null,1,"eg-grid-column",[["label","Call Number / Item Notes"],["name","callnumber"]],null,null,null,zn.b,zn.a)),e.qb(12,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],label:[1,"label"],cellTemplate:[2,"cellTemplate"]},null),(l()(),e.rb(13,0,null,null,1,"eg-grid-column",[["label","Barcode"],["name","barcode"]],null,null,null,zn.b,zn.a)),e.qb(14,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],label:[1,"label"],cellTemplate:[2,"cellTemplate"]},null),(l()(),e.rb(15,0,null,null,1,"eg-grid-column",[["label","Shelving Location"],["path","copy_location"]],null,null,null,zn.b,zn.a)),e.qb(16,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"]},null),(l()(),e.rb(17,0,null,null,1,"eg-grid-column",[["label","Circulation Modifier"],["path","circ_modifier"]],null,null,null,zn.b,zn.a)),e.qb(18,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"]},null),(l()(),e.rb(19,0,null,null,1,"eg-grid-column",[["label","Age Hold Protection"],["path","age_protect"]],null,null,null,zn.b,zn.a)),e.qb(20,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"]},null),(l()(),e.rb(21,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Active/Create Date"],["path","active_date"]],null,null,null,zn.b,zn.a)),e.qb(22,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],datatype:[2,"datatype"]},null),(l()(),e.rb(23,0,null,null,1,"eg-grid-column",[["label","Holdable?"],["name","holdable"]],null,null,null,zn.b,zn.a)),e.qb(24,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],label:[1,"label"],cellContext:[2,"cellContext"],cellTemplate:[3,"cellTemplate"]},null),(l()(),e.rb(25,0,null,null,1,"eg-grid-column",[["label","Status"],["path","copy_status"]],null,null,null,zn.b,zn.a)),e.qb(26,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"]},null),(l()(),e.rb(27,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Due Date"],["path","due_date"]],null,null,null,zn.b,zn.a)),e.qb(28,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],datatype:[2,"datatype"]},null)],function(l,n){var u=n.component;l(n,6,0,u.gridDataSource,!1,"catalog.record.copies",!0),l(n,8,0,"id","Item ID",!0,!0),l(n,10,0,"circ_lib","Location","org_unit"),l(n,12,0,"callnumber","Call Number / Item Notes",e.Bb(n,1)),l(n,14,0,"barcode","Barcode",e.Bb(n,2)),l(n,16,0,"copy_location","Shelving Location"),l(n,18,0,"circ_modifier","Circulation Modifier"),l(n,20,0,"age_protect","Age Hold Protection"),l(n,22,0,"active_date","Active/Create Date","timestamp"),l(n,24,0,"holdable","Holdable?",u.copyContext,e.Bb(n,3)),l(n,26,0,"copy_status","Status"),l(n,28,0,"due_date","Due Date","timestamp")},null)}var ou="$",iu=function(){function l(l){this.record=new MARC21.Record({marcxml:l,delimiter:ou}),this.breakerText=this.record.toBreaker()}return l.prototype.toXml=function(){return this.record.toXmlString()},l.prototype.toBreaker=function(){return this.record.toBreaker()},l.prototype.absorbBreakerChanges=function(){this.record=new MARC21.Record({marcbreaker:this.breakerText,delimiter:ou})},l}(),cu=u("9rfo"),su=function(){function l(l,n,u,t,a,r,o){this.evt=l,this.idl=n,this.net=u,this.auth=t,this.org=a,this.pcrud=r,this.toast=o,this.sources=[],this.recordSaved=new e.m}return Object.defineProperty(l.prototype,"recordId",{set:function(l){l&&(this.record&&this.record.id===l||this.fromId(l))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"recordXml",{set:function(l){l&&this.fromXml(l)},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var l=this;this.editorTab="flat",this.pcrud.retrieveAll("cbs").subscribe(function(n){return l.sources.push({id:+n.id(),label:n.source()})},function(l){},function(){l.sources=l.sources.sort(function(l,n){return l.label.toLowerCase()<n.label.toLowerCase()?-1:1})})},l.prototype.saveRecord=function(){var l=this,n=this.record.toXml();if(this.inPlaceMode)return this.recordSaved.emit(n),Promise.resolve();var u=this.sourceSelector.selected?this.sourceSelector.selected.label:null;return this.record.id?this.net.request("open-ils.cat","open-ils.cat.biblio.record.marc.replace",this.auth.token(),this.record.id,n,u).toPromise().then(function(u){var e=l.evt.parse(u);return e?(console.error(e),void l.failMsg.current().then(function(n){return l.toast.warning(n)})):(l.successMsg.current().then(function(n){return l.toast.success(n)}),l.recordSaved.emit(n),u)}):void 0},l.prototype.fromId=function(l){var n=this;return this.pcrud.retrieve("bre",l).toPromise().then(function(u){n.record=new iu(u.marc()),n.record.id=l,n.record.deleted="t"===u.deleted(),u.source()&&n.sourceSelector.applyEntryId(+u.source())})},l.prototype.fromXml=function(l){this.record=new iu(l),this.record.id=null},l.prototype.deleteRecord=function(){var l=this;return this.confirmDelete.open().toPromise().then(function(n){if(n)return l.net.request("open-ils.cat","open-ils.cat.biblio.record_entry.delete",l.auth.token(),l.record.id).toPromise().then(function(n){var u=l.evt.parse(n);return u?"RECORD_NOT_EMPTY"===u.textcode?l.cannotDelete.open().toPromise():(console.error(u),alert(u)):l.fromId(l.record.id).then(function(n){return l.recordSaved.emit(l.record.toXml())})})})},l.prototype.undeleteRecord=function(){var l=this;return this.confirmUndelete.open().toPromise().then(function(n){if(n)return l.net.request("open-ils.cat","open-ils.cat.biblio.record_entry.undelete",l.auth.token(),l.record.id).toPromise().then(function(n){var u=l.evt.parse(n);return u?(console.error(u),alert(u)):l.fromId(l.record.id).then(function(n){return l.recordSaved.emit(l.record.toXml())})})})},l}(),bu=function(){function l(l,n,u,e){this.idl=l,this.org=n,this.store=u,this.editor=e}return Object.defineProperty(l.prototype,"record",{get:function(){return this.editor.record},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){},l.prototype.rowCount=function(){return this.record&&this.record.breakerText?this.record.breakerText.split(/\n/).length+2:40},l}(),du=e.pb({encapsulation:0,styles:[[".flat-editor-content[_ngcontent-%COMP%]{font-family:'Lucida Console',Monaco,monospace;display:inline-block;padding:0}"]],data:{}});function pu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"textarea",[["class","form-control flat-editor-content"],["spellcheck","false"]],[[8,"rows",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"ngModelChange"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,2)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,2).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,2)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,2)._compositionEnd(u.target.value)&&t),"blur"===n&&(t=!1!==a.record.absorbBreakerChanges()&&t),"ngModelChange"===n&&(t=!1!==(a.record.breakerText=u)&&t),t},null,null)),e.qb(2,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(4,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(6,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.Jb(-1,null,["  "]))],function(l,n){l(n,4,0,n.component.record.breakerText)},function(l,n){l(n,1,0,e.tb(1,"",n.component.rowCount(),""),e.Bb(n,6).ngClassUntouched,e.Bb(n,6).ngClassTouched,e.Bb(n,6).ngClassPristine,e.Bb(n,6).ngClassDirty,e.Bb(n,6).ngClassValid,e.Bb(n,6).ngClassInvalid,e.Bb(n,6).ngClassPending)})}function hu(l){return e.Lb(0,[(l()(),e.ib(16777216,null,null,1,null,pu)),e.qb(1,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.record)},null)}var gu=u("taEJ"),mu=u("/xpB"),fu=u("nUl2"),vu=e.pb({encapsulation:2,styles:[],data:{}});function yu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"button",[["class","btn btn-warning"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.deleteRecord()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Delete Record"]))],null,null)}function Cu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"button",[["class","btn btn-info"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.undeleteRecord()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Undelete Record"]))],null,null)}function ku(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,yu)),e.qb(2,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Cu)),e.qb(4,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(0,null,null,0))],function(l,n){var u=n.component;l(n,2,0,!u.record.deleted),l(n,4,0,u.record.deleted)},null)}function wu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),e.Jb(-1,null,[" AngularJS MARC Editor. "]))],null,function(l,n){l(n,1,0,e.tb(1,"/eg/staff/cat/catalog/record/",n.component.record.id,"/marc_edit"))})}function Bu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"a",[["href","/eg/staff/cat/catalog/new_bib"],["target","_blank"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" AngularJS MARC Editor. "]))],null,null)}function xu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,5,"div",[["class","alert alert-info mt-3"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Enhanced MARC Editor is not yet implemented. See the "])),(l()(),e.ib(16777216,null,null,1,null,wu)),e.qb(3,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Bu)),e.qb(5,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,3,0,u.record&&u.record.id),l(n,5,0,!u.record||!u.record.id)},null)}function qu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"eg-marc-flat-editor",[],null,null,null,hu,du)),e.qb(1,114688,null,0,bu,[W.a,h.a,B.a,su],null,null)],function(l,n){l(n,1,0)},null)}function _u(l){return e.Lb(0,[e.Hb(402653184,1,{sourceSelector:0}),e.Hb(402653184,2,{confirmDelete:0}),e.Hb(402653184,3,{confirmUndelete:0}),e.Hb(402653184,4,{cannotDelete:0}),e.Hb(402653184,5,{successMsg:0}),e.Hb(402653184,6,{failMsg:0}),(l()(),e.rb(6,0,null,null,1,"eg-confirm-dialog",[["dialogTitle","Confirm Delete"]],null,null,null,f.b,f.a)),e.qb(7,114688,[[2,4],["confirmDelete",4]],0,v.a,[c.B],{dialogTitle:[0,"dialogTitle"],dialogBody:[1,"dialogBody"]},null),(l()(),e.rb(8,0,null,null,1,"eg-confirm-dialog",[["dialogTitle","Confirm Undelete"]],null,null,null,f.b,f.a)),e.qb(9,114688,[[3,4],["confirmUndelete",4]],0,v.a,[c.B],{dialogTitle:[0,"dialogTitle"],dialogBody:[1,"dialogBody"]},null),(l()(),e.rb(10,0,null,null,1,"eg-alert-dialog",[["dialogBody","Records with holdings attached cannot be deleted."]],null,null,null,gu.b,gu.a)),e.qb(11,114688,[[4,4],["cannotDelete",4]],0,mu.a,[c.B],{dialogBody:[0,"dialogBody"]},null),(l()(),e.rb(12,0,null,null,1,"eg-string",[["text","Record successfully updated"]],null,null,null,y.b,y.a)),e.qb(13,114688,[[5,4],["successMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.rb(14,0,null,null,1,"eg-string",[["text","Record failed to update"]],null,null,null,y.b,y.a)),e.qb(15,114688,[[6,4],["failMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.rb(16,0,null,null,9,"div",[["class","row d-flex p-2 m-2"]],null,null,null,null,null)),(l()(),e.rb(17,0,null,null,0,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(18,0,null,null,3,"div",[["class","mr-2"]],null,null,null,null,null)),(l()(),e.rb(19,0,null,null,2,"eg-combobox",[["placeholder","Select a Source..."]],null,null,null,fu.b,fu.a)),e.Gb(5120,null,o.n,function(l){return[l]},[cu.a]),e.qb(21,114688,[[1,4],["sourceSelector",4]],0,cu.a,[e.k,p.a,W.a,wn.a],{placeholder:[0,"placeholder"],entries:[1,"entries"]},null),(l()(),e.ib(16777216,null,null,1,null,ku)),e.qb(23,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(24,0,null,null,1,"button",[["class","btn btn-success ml-2"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.saveRecord()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Save Changes"])),(l()(),e.rb(26,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(27,0,null,null,15,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(28,0,null,null,14,"ngb-tabset",[],null,null,null,r.k,r.f)),e.qb(29,2146304,null,1,c.Y,[c.Z],{activeId:[0,"activeId"]},null),e.Hb(603979776,7,{tabs:1}),(l()(),e.rb(31,0,null,null,5,"ngb-tab",[["id","rich"],["title","Enhanced MARC Editor"]],null,null,null,null,null)),e.qb(32,2113536,[[7,4]],2,c.V,[],{id:[0,"id"],title:[1,"title"]},null),e.Hb(603979776,8,{titleTpls:1}),e.Hb(603979776,9,{contentTpls:1}),(l()(),e.ib(0,null,null,1,null,xu)),e.qb(36,16384,[[9,4]],0,c.W,[e.M],null,null),(l()(),e.rb(37,0,null,null,5,"ngb-tab",[["id","flat"],["title","Flat Text Editor"]],null,null,null,null,null)),e.qb(38,2113536,[[7,4]],2,c.V,[],{id:[0,"id"],title:[1,"title"]},null),e.Hb(603979776,10,{titleTpls:1}),e.Hb(603979776,11,{contentTpls:1}),(l()(),e.ib(0,null,null,1,null,qu)),e.qb(42,16384,[[11,4]],0,c.W,[e.M],null,null),(l()(),e.rb(43,0,null,null,2,"div",[["class","row d-flex p-2 m-2 flex-row-reverse"]],null,null,null,null,null)),(l()(),e.rb(44,0,null,null,1,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.saveRecord()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Save Changes"]))],function(l,n){var u=n.component;l(n,7,0,"Confirm Delete",e.tb(1,"Delete Record ID ",u.record?u.record.id:"","?")),l(n,9,0,"Confirm Undelete",e.tb(1,"Undelete Record ID ",u.record?u.record.id:"","?")),l(n,11,0,"Records with holdings attached cannot be deleted."),l(n,13,0,"Record successfully updated"),l(n,15,0,"Record failed to update"),l(n,21,0,"Select a Source...",u.sources),l(n,23,0,u.record&&u.record.id),l(n,29,0,u.editorTab),l(n,32,0,"rich","Enhanced MARC Editor"),l(n,38,0,"flat","Flat Text Editor")},function(l,n){var u=n.component;l(n,24,0,u.record&&u.record.deleted),l(n,44,0,u.record&&u.record.deleted)})}var Iu=u("yp+x"),Mu=u("2XLs"),Su=u("dix8"),Pu=u("ufrD"),Tu=function(){function l(l,n,u){this.net=l,this.org=n,this.auth=u,this.onShowList=new e.m}return Object.defineProperty(l.prototype,"holdId",{set:function(l){this._holdId=l,this.initDone&&this.fetchHold()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"wideHold",{set:function(l){this.hold=l},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){this.initDone=!0,this.fetchHold()},l.prototype.fetchHold=function(){var l=this;this._holdId&&this.net.request("open-ils.circ","open-ils.circ.hold.wide_hash.stream",this.auth.token(),{id:this._holdId}).subscribe(function(n){l.hold=n})},l.prototype.getOrgName=function(l){if(l)return this.org.get(l).shortname()},l.prototype.showListView=function(){this.onShowList.emit()},l}(),Du=e.pb({encapsulation:2,styles:[],data:{}});function Lu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Unknown Error"]))],null,null)}function Eu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Waiting for Item"]))],null,null)}function Ju(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Waiting for Capture"]))],null,null)}function Fu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["In Transit"]))],null,null)}function Hu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Ready for Pickup"]))],null,null)}function Au(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Hold Shelf Delay"]))],null,null)}function Nu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Canceled"]))],null,null)}function Ou(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Suspended"]))],null,null)}function Ru(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Wrong Shelf"]))],null,null)}function Gu(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Fulfilled"]))],null,null)}function Uu(l){return e.Lb(0,[e.Db(0,Vn.b,[Vn.a]),(l()(),e.rb(1,0,null,null,1,"eg-staff-banner",[],null,null,null,Su.b,Su.a)),e.qb(2,49152,null,0,Pu.a,[],{bannerText:[0,"bannerText"]},null),(l()(),e.rb(3,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,2,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(5,0,null,null,1,"button",[["class","btn btn-info"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.showListView()&&e),e},null,null)),(l()(),e.Jb(-1,null,["List View"])),(l()(),e.rb(7,0,null,null,117,"div",[["class","well-table"]],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,15,"div",[["class","well-row"]],null,null,null,null,null)),(l()(),e.rb(9,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Request Date"])),(l()(),e.rb(11,0,null,null,2,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(12,null,["",""])),e.Fb(13,2),(l()(),e.rb(14,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Capture Date"])),(l()(),e.rb(16,0,null,null,2,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(17,null,["",""])),e.Fb(18,2),(l()(),e.rb(19,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Available On"])),(l()(),e.rb(21,0,null,null,2,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(22,null,["",""])),e.Fb(23,2),(l()(),e.rb(24,0,null,null,13,"div",[["class","well-row"]],null,null,null,null,null)),(l()(),e.rb(25,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["hold Type"])),(l()(),e.rb(27,0,null,null,1,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(28,null,[" "," "])),(l()(),e.rb(29,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Current Item"])),(l()(),e.rb(31,0,null,null,2,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.rb(32,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),e.Jb(33,null,["",""])),(l()(),e.rb(34,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Call Number"])),(l()(),e.rb(36,0,null,null,1,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(37,null,["",""])),(l()(),e.rb(38,0,null,null,33,"div",[["class","well-row"]],null,null,null,null,null)),(l()(),e.rb(39,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Pickup Lib"])),(l()(),e.rb(41,0,null,null,1,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(42,null,["",""])),(l()(),e.rb(43,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Status"])),(l()(),e.rb(45,0,null,null,22,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.rb(46,0,null,null,21,null,null,null,null,null,null,null)),e.qb(47,16384,null,0,i.v,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),e.ib(16777216,null,null,1,null,Lu)),e.qb(49,278528,null,0,i.w,[e.P,e.M,i.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.ib(16777216,null,null,1,null,Eu)),e.qb(51,278528,null,0,i.w,[e.P,e.M,i.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.ib(16777216,null,null,1,null,Ju)),e.qb(53,278528,null,0,i.w,[e.P,e.M,i.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.ib(16777216,null,null,1,null,Fu)),e.qb(55,278528,null,0,i.w,[e.P,e.M,i.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.ib(16777216,null,null,1,null,Hu)),e.qb(57,278528,null,0,i.w,[e.P,e.M,i.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.ib(16777216,null,null,1,null,Au)),e.qb(59,278528,null,0,i.w,[e.P,e.M,i.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.ib(16777216,null,null,1,null,Nu)),e.qb(61,278528,null,0,i.w,[e.P,e.M,i.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.ib(16777216,null,null,1,null,Ou)),e.qb(63,278528,null,0,i.w,[e.P,e.M,i.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.ib(16777216,null,null,1,null,Ru)),e.qb(65,278528,null,0,i.w,[e.P,e.M,i.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.ib(16777216,null,null,1,null,Gu)),e.qb(67,278528,null,0,i.w,[e.P,e.M,i.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.rb(68,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Behind Desk"])),(l()(),e.rb(70,0,null,null,1,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(71,null,["",""])),(l()(),e.rb(72,0,null,null,12,"div",[["class","well-row"]],null,null,null,null,null)),(l()(),e.rb(73,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Current Shelf Lib"])),(l()(),e.rb(75,0,null,null,1,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(76,null,["",""])),(l()(),e.rb(77,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Current Shelving Location"])),(l()(),e.rb(79,0,null,null,1,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(80,null,["",""])),(l()(),e.rb(81,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Force Item Quality"])),(l()(),e.rb(83,0,null,null,1,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(84,null,["",""])),(l()(),e.rb(85,0,null,null,12,"div",[["class","well-row"]],null,null,null,null,null)),(l()(),e.rb(86,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Email Notify"])),(l()(),e.rb(88,0,null,null,1,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(89,null,["",""])),(l()(),e.rb(90,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Phone Notify"])),(l()(),e.rb(92,0,null,null,1,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(93,null,["",""])),(l()(),e.rb(94,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["SMS Notify"])),(l()(),e.rb(96,0,null,null,1,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(97,null,["",""])),(l()(),e.rb(98,0,null,null,13,"div",[["class","well-row"]],null,null,null,null,null)),(l()(),e.rb(99,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Cancel Cause"])),(l()(),e.rb(101,0,null,null,1,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(102,null,["",""])),(l()(),e.rb(103,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Cancel Time"])),(l()(),e.rb(105,0,null,null,2,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(106,null,["",""])),e.Fb(107,2),(l()(),e.rb(108,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Cancel Note"])),(l()(),e.rb(110,0,null,null,1,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.Jb(111,null,["",""])),(l()(),e.rb(112,0,null,null,12,"div",[["class","well-row"]],null,null,null,null,null)),(l()(),e.rb(113,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Patron Name"])),(l()(),e.rb(115,0,null,null,2,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.rb(116,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),e.Jb(117,null,[" "," "])),(l()(),e.rb(118,0,null,null,1,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Patron Barcode"])),(l()(),e.rb(120,0,null,null,2,"div",[["class","well-value"]],null,null,null,null,null)),(l()(),e.rb(121,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),e.Jb(122,null,[" "," "])),(l()(),e.rb(123,0,null,null,0,"div",[["class","well-label"]],null,null,null,null,null)),(l()(),e.rb(124,0,null,null,0,"div",[["class","well-label"]],null,null,null,null,null))],function(l,n){var u=n.component;l(n,2,0,e.tb(1,"Hold Details (#",u.hold.id,")")),l(n,47,0,u.hold.hold_status),l(n,49,0,-1),l(n,51,0,1),l(n,53,0,2),l(n,55,0,3),l(n,57,0,4),l(n,59,0,5),l(n,61,0,6),l(n,63,0,7),l(n,65,0,8),l(n,67,0,9)},function(l,n){var u=n.component,t=e.Kb(n,12,0,l(n,13,0,e.Bb(n,0),u.hold.request_time,"timestamp"));l(n,12,0,t);var a=e.Kb(n,17,0,l(n,18,0,e.Bb(n,0),u.hold.capture_time,"timestamp"));l(n,17,0,a);var r=e.Kb(n,22,0,l(n,23,0,e.Bb(n,0),u.hold.shelf_time,"timestamp"));l(n,22,0,r),l(n,28,0,u.hold.hold_type),l(n,32,0,e.tb(1,"/eg/staff/cat/item/",u.hold.cp_id,"")),l(n,33,0,u.hold.cp_barcode),l(n,37,0,u.hold.cn_full_label),l(n,42,0,u.hold.pl_shortname),l(n,71,0,"1"==u.hold.behind_desk),l(n,76,0,u.getOrgName(u.hold.current_shelf_lib)),l(n,80,0,u.hold.acpl_name),l(n,84,0,"1"==u.hold.mint_condition),l(n,89,0,"1"==u.hold.email_notify),l(n,93,0,u.hold.phone_notify),l(n,97,0,u.hold.sms_notify),l(n,102,0,u.hold.cancel_cause);var o=e.Kb(n,106,0,l(n,107,0,e.Bb(n,0),u.hold.cancel_time,"timestamp"));l(n,106,0,o),l(n,111,0,u.hold.cancel_note),l(n,116,0,e.tb(1,"/eg/staff/circ/patron/",u.hold.usr_id,"/checkout")),l(n,117,0,u.hold.usr_display_name),l(n,121,0,e.tb(1,"/eg/staff/circ/patron/",u.hold.usr_id,"/checkout")),l(n,122,0,u.hold.ucard_barcode)})}var ju=u("GlUJ"),Ku=u("gtj8"),$u=u("y+3C"),Vu=u("QGNW"),zu=u("Ghns"),Wu=u("KBUj"),Qu=u("XlPw"),Zu=function(l,n,u,e){return new(u||(u=Promise))(function(t,a){function r(l){try{i(e.next(l))}catch(n){a(n)}}function o(l){try{i(e.throw(l))}catch(n){a(n)}}function i(l){l.done?t(l.value):new u(function(n){n(l.value)}).then(r,o)}i((e=e.apply(l,n||[])).next())})},Xu=function(l,n){var u,e,t,a,r={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(u)throw new TypeError("Generator is already executing.");for(;r;)try{if(u=1,e&&(t=2&a[0]?e.return:a[0]?e.throw||((t=e.return)&&t.call(e),0):e.next)&&!(t=t.call(e,a[1])).done)return t;switch(e=0,t&&(a=[2&a[0],t.value]),a[0]){case 0:case 1:t=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,e=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(t=(t=r.trys).length>0&&t[t.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!t||a[1]>t[0]&&a[1]<t[3])){r.label=a[1];break}if(6===a[0]&&r.label<t[1]){r.label=t[1],t=a;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(a);break}t[2]&&r.ops.pop(),r.trys.pop();continue}a=n.call(l,r)}catch(o){a=[6,o],e=0}finally{u=t=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},Yu=function(l){function n(n,u,e,t,a,r){var o=l.call(this,n)||this;return o.modal=n,o.toast=u,o.store=e,o.net=t,o.evt=a,o.auth=r,o}return Object(w.c)(n,l),n.prototype.ngOnInit=function(){},n.prototype.open=function(n){var u=this;return this.holdIds=[].concat(this.holdIds),this.transferTarget=this.store.getLocalItem("eg.circ.hold.title_transfer_target"),this.transferTarget?l.prototype.open.call(this,n):(this.targetNeeded.current().then(function(l){return u.toast.warning(l)}),Object(Qu.a)("Transfer Target Required"))},n.prototype.transferHolds=function(){return Zu(this,void 0,void 0,function(){var l=this;return Xu(this,function(n){return[2,this.net.request("open-ils.circ","open-ils.circ.hold.change_title.specific_holds",this.auth.token(),this.transferTarget,this.holdIds).toPromise().then(function(n){return Zu(l,void 0,void 0,function(){var l,u,e,t;return Xu(this,function(a){switch(a.label){case 0:return 1!==Number(n)?[3,2]:(this.numSucceeded++,u=(l=this.toast).success,[4,this.successMsg.current()]);case 1:return u.apply(l,[a.sent()]),[3,4];case 2:return this.numFailed++,console.error("Retarget Failed",this.evt.parse(n)),t=(e=this.toast).warning,[4,this.errorMsg.current()];case 3:t.apply(e,[a.sent()]),a.label=4;case 4:return[2]}})})})]})})},n.prototype.transferBatch=function(){return Zu(this,void 0,void 0,function(){return Xu(this,function(l){switch(l.label){case 0:return this.numSucceeded=0,this.numFailed=0,[4,this.transferHolds()];case 1:return l.sent(),this.close(this.numSucceeded>0),[2]}})})},n}(x.a),le=e.pb({encapsulation:2,styles:[],data:{}});function ne(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(l()(),e.Jb(3,null,[" "," Hold(s) Failed to Transfer. "]))],null,function(l,n){l(n,3,0,n.component.numFailed)})}function ue(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.Jb(2,null,[" "," Hold(s) Successfully Transferred. "])),(l()(),e.ib(16777216,null,null,1,null,ne)),e.qb(4,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,4,0,n.component.numFailed>0)},function(l,n){l(n,2,0,n.component.numSucceeded)})}function ee(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Cancel"])),(l()(),e.rb(3,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.transferBatch()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Transfer"]))],null,null)}function te(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Transfer Hold(s) To Marked Target"])),(l()(),e.rb(4,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.rb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xd7"])),(l()(),e.rb(7,0,null,null,5,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,2,"div",[["class","row d-flex justify-content-center"]],null,null,null,null,null)),(l()(),e.rb(9,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),e.Jb(10,null,["Transfer "," Holds To Record ","?"])),(l()(),e.ib(16777216,null,null,1,null,ue)),e.qb(12,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(13,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,ee)),e.qb(15,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,12,0,u.numSucceeded>0),l(n,15,0,!u.chargeResponse)},function(l,n){var u=n.component;l(n,10,0,u.holdIds.length,u.transferTarget)})}function ae(l){return e.Lb(0,[e.Hb(402653184,1,{dialogContent:0}),e.Hb(402653184,2,{successMsg:0}),e.Hb(402653184,3,{errorMsg:0}),e.Hb(402653184,4,{targetNeeded:0}),(l()(),e.rb(4,0,null,null,1,"eg-string",[["text","Successfully Transfered Hold"]],null,null,null,y.b,y.a)),e.qb(5,114688,[[2,4],["successMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.rb(6,0,null,null,1,"eg-string",[["text","Failed To Transfer Hold"]],null,null,null,y.b,y.a)),e.qb(7,114688,[[3,4],["errorMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.rb(8,0,null,null,1,"eg-string",[["text","Transfer Target Required"]],null,null,null,y.b,y.a)),e.qb(9,114688,[[4,4],["targetNeeded",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,te))],function(l,n){l(n,5,0,"Successfully Transfered Hold"),l(n,7,0,"Failed To Transfer Hold"),l(n,9,0,"Transfer Target Required")},null)}var re=u("0/uQ"),oe=u("15JJ"),ie=function(l){function n(n,u,e,t,a,r,o,i){var c=l.call(this,n)||this;return c.modal=n,c.toast=u,c.net=e,c.evt=t,c.pcrud=a,c.org=r,c.bib=o,c.auth=i,c.billingTypes=[],c}return Object(w.c)(n,l),n.prototype.ngOnInit=function(){},n.prototype.open=function(n){var u=this;return this.reset(),this.copyId?Object(re.a)(this.getBillingTypes().then(function(l){return u.getData()})).pipe(Object(oe.a)(function(e){return l.prototype.open.call(u,n)})):Object(Qu.a)("copy ID required")},n.prototype.getBillingTypes=function(){var l=this;return this.billingTypes.length>1?Promise.resolve():this.pcrud.search("cbt",{owner:this.org.fullPath(this.auth.user().ws_ou(),!0)},{},{atomic:!0}).toPromise().then(function(n){l.billingTypes=n.sort(function(l,n){return l.name()<n.name()?-1:1}).map(function(l){return{id:l.id(),label:l.name()}})})},n.prototype.getData=function(){var l=this;return this.pcrud.retrieve("acp",this.copyId,{flesh:1,flesh_fields:{acp:["call_number"]}}).toPromise().then(function(n){return l.copy=n,l.bib.getBibSummary(n.call_number().record()).toPromise()}).then(function(n){l.bibSummary=n})},n.prototype.reset=function(){this.copy=null,this.bibSummary=null,this.chargeResponse=null,this.newCharge=null,this.newNote=null,this.amountChangeRequested=!1},n.prototype.bTypeChange=function(l){this.newBtype=l.id},n.prototype.markDamaged=function(l){var n=this;this.chargeResponse=null,l&&"apply"===l.apply_fines&&(l.override_amount=this.newCharge,l.override_btype=this.newBtype,l.override_note=this.newNote),this.net.request("open-ils.circ","open-ils.circ.mark_item_damaged",this.auth.token(),this.copyId,l).subscribe(function(l){if(console.debug("Mark damaged returned",l),1===Number(l))return n.successMsg.current().then(function(l){return n.toast.success(l)}),void n.close(!0);var u=n.evt.parse(l);"DAMAGE_CHARGE"===u.textcode&&(n.chargeResponse=u.payload,n.newCharge=n.chargeResponse.charge)},function(l){n.errorMsg.current().then(function(l){return n.toast.danger(l)}),console.error(l)})},n}(x.a),ce=e.pb({encapsulation:2,styles:[],data:{}});function se(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,31,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,7,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,1,"div",[["class","col-lg-3"],["i8n",""]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Billing Type"])),(l()(),e.rb(5,0,null,null,3,"div",[["class","col-lg-6"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,2,"eg-combobox",[["placeholder","Billing Type..."]],null,[[null,"onChange"]],function(l,n,u){var e=!0;return"onChange"===n&&(e=!1!==(l.component.newBtype=u.id)&&e),e},fu.b,fu.a)),e.Gb(5120,null,o.n,function(l){return[l]},[cu.a]),e.qb(8,114688,null,0,cu.a,[e.k,p.a,W.a,wn.a],{placeholder:[0,"placeholder"],entries:[1,"entries"]},{onChange:"onChange"}),(l()(),e.rb(9,0,null,null,11,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),e.rb(10,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(11,0,null,null,1,"div",[["class","col-lg-3"],["i8n",""]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Charge Amount"])),(l()(),e.rb(13,0,null,null,7,"div",[["class","col-lg-6"]],null,null,null,null,null)),(l()(),e.rb(14,0,null,null,6,"input",[["class","form-control"],["min","0"],["step","0.01"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,15)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,15).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,15)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,15)._compositionEnd(u.target.value)&&t),"change"===n&&(t=!1!==e.Bb(l,16).onChange(u.target.value)&&t),"input"===n&&(t=!1!==e.Bb(l,16).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,16).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.newCharge=u)&&t),t},null,null)),e.qb(15,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.qb(16,16384,null,0,o.B,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l,n){return[l,n]},[o.d,o.B]),e.qb(18,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(20,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(21,0,null,null,10,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),e.rb(22,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(23,0,null,null,1,"div",[["class","col-lg-3"],["i8n",""]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Note"])),(l()(),e.rb(25,0,null,null,6,"div",[["class","col-lg-6"]],null,null,null,null,null)),(l()(),e.rb(26,0,null,null,5,"textarea",[["class","form-control"],["rows","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,27)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,27).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,27)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,27)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(a.newNote=u)&&t),t},null,null)),e.qb(27,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(29,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(31,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){var u=n.component;l(n,8,0,"Billing Type...",u.billingTypes),l(n,18,0,u.newCharge),l(n,29,0,u.newNote)},function(l,n){l(n,14,0,e.Bb(n,20).ngClassUntouched,e.Bb(n,20).ngClassTouched,e.Bb(n,20).ngClassPristine,e.Bb(n,20).ngClassDirty,e.Bb(n,20).ngClassValid,e.Bb(n,20).ngClassInvalid,e.Bb(n,20).ngClassPending),l(n,26,0,e.Bb(n,31).ngClassUntouched,e.Bb(n,31).ngClassTouched,e.Bb(n,31).ngClassPristine,e.Bb(n,31).ngClassDirty,e.Bb(n,31).ngClassValid,e.Bb(n,31).ngClassInvalid,e.Bb(n,31).ngClassPending)})}function be(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,21,"div",[["class","card mt-3"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Item was previously checked out "])),(l()(),e.rb(3,0,null,null,18,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,17,"ul",[["class","list-group list-group-flush"]],null,null,null,null,null)),(l()(),e.rb(5,0,null,null,4,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Item was last checked out by patron "])),(l()(),e.rb(7,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),e.Jb(8,null,[" ",", "," (",") "])),(l()(),e.Jb(-1,null,[". "])),(l()(),e.rb(10,0,null,null,3,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),e.Jb(11,null,[" Item was due "," and returned ",". "])),e.Fb(12,2),e.Fb(13,2),(l()(),e.rb(14,0,null,null,5,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),e.rb(15,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Calucated fine amount is "])),(l()(),e.rb(17,0,null,null,2,"span",[["class","font-weight-bold text-danger"]],null,null,null,null,null)),(l()(),e.Jb(18,null,[" "," "])),e.Fb(19,1),(l()(),e.ib(16777216,null,null,1,null,se)),e.qb(21,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,21,0,n.component.amountChangeRequested)},function(l,n){var u=n.component;l(n,7,0,e.tb(1,"/eg/staff/circ/patron/",u.chargeResponse.circ.usr().id(),"/checkout")),l(n,8,0,u.chargeResponse.circ.usr().family_name(),u.chargeResponse.circ.usr().first_given_name(),u.chargeResponse.circ.usr().usrname());var t=e.Kb(n,11,0,l(n,12,0,e.Bb(n.parent.parent,0),u.chargeResponse.circ.due_date(),"timestamp")),a=e.Kb(n,11,1,l(n,13,0,e.Bb(n.parent.parent,1),u.chargeResponse.circ.checkin_time(),"MM/dd/yy H:mm a"));l(n,11,0,t,a);var r=e.Kb(n,18,0,l(n,19,0,e.Bb(n.parent.parent,2),u.chargeResponse.charge));l(n,18,0,r)})}function de(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close(!1)&&e),e},null,null)),(l()(),e.Jb(-1,null,["Cancel"])),(l()(),e.rb(3,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.markDamaged()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Mark Damaged"]))],null,null)}function pe(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,8,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close(!1)&&e),e},null,null)),(l()(),e.Jb(-1,null,["Cancel"])),(l()(),e.rb(3,0,null,null,1,"button",[["class","btn btn-info mr-2"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=0!=(l.component.amountChangeRequested=!0)&&e),e},null,null)),(l()(),e.Jb(-1,null,["Change Amount"])),(l()(),e.rb(5,0,null,null,1,"button",[["class","btn btn-secondary mr-2"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.markDamaged({apply_fines:"noapply"})&&e),e},null,null)),(l()(),e.Jb(-1,null,["No Charge"])),(l()(),e.rb(7,0,null,null,1,"button",[["class","btn btn-success mr-2"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.markDamaged({apply_fines:"apply"})&&e),e},null,null)),(l()(),e.Jb(-1,null,["OK"]))],null,null)}function he(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Mark Item Damaged"])),(l()(),e.rb(4,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close(!1)&&e),e},null,null)),(l()(),e.rb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xd7"])),(l()(),e.rb(7,0,null,null,17,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(9,0,null,null,1,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Barcode:"])),(l()(),e.rb(11,0,null,null,1,"div",[["class","col-lg-11 font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(12,null,["",""])),(l()(),e.rb(13,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(14,0,null,null,1,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Title:"])),(l()(),e.rb(16,0,null,null,1,"div",[["class","col-lg-11"]],null,null,null,null,null)),(l()(),e.Jb(17,null,["",""])),(l()(),e.rb(18,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(19,0,null,null,1,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Author:"])),(l()(),e.rb(21,0,null,null,1,"div",[["class","col-lg-11"]],null,null,null,null,null)),(l()(),e.Jb(22,null,["",""])),(l()(),e.ib(16777216,null,null,1,null,be)),e.qb(24,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(25,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,de)),e.qb(27,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,pe)),e.qb(29,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,24,0,u.chargeResponse),l(n,27,0,!u.chargeResponse),l(n,29,0,u.chargeResponse)},function(l,n){var u=n.component;l(n,12,0,u.copy.barcode()),l(n,17,0,u.bibSummary.display.title),l(n,22,0,u.bibSummary.display.author)})}function ge(l){return e.Lb(0,[e.Db(0,Vn.b,[Vn.a]),e.Db(0,i.f,[e.v]),e.Db(0,i.d,[e.v]),e.Hb(402653184,1,{dialogContent:0}),e.Hb(402653184,2,{successMsg:0}),e.Hb(402653184,3,{errorMsg:0}),(l()(),e.rb(6,0,null,null,1,"eg-string",[["text","Successfully Marked Item Damaged"]],null,null,null,y.b,y.a)),e.qb(7,114688,[[2,4],["successMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.rb(8,0,null,null,1,"eg-string",[["text","Failed To Mark Item Damaged"]],null,null,null,y.b,y.a)),e.qb(9,114688,[[3,4],["errorMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,he))],function(l,n){l(n,7,0,"Successfully Marked Item Damaged"),l(n,9,0,"Failed To Mark Item Damaged")},null)}var me=function(l,n,u,e){return new(u||(u=Promise))(function(t,a){function r(l){try{i(e.next(l))}catch(n){a(n)}}function o(l){try{i(e.throw(l))}catch(n){a(n)}}function i(l){l.done?t(l.value):new u(function(n){n(l.value)}).then(r,o)}i((e=e.apply(l,n||[])).next())})},fe=function(l,n){var u,e,t,a,r={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(u)throw new TypeError("Generator is already executing.");for(;r;)try{if(u=1,e&&(t=2&a[0]?e.return:a[0]?e.throw||((t=e.return)&&t.call(e),0):e.next)&&!(t=t.call(e,a[1])).done)return t;switch(e=0,t&&(a=[2&a[0],t.value]),a[0]){case 0:case 1:t=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,e=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(t=(t=r.trys).length>0&&t[t.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!t||a[1]>t[0]&&a[1]<t[3])){r.label=a[1];break}if(6===a[0]&&r.label<t[1]){r.label=t[1],t=a;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(a);break}t[2]&&r.ops.pop(),r.trys.pop();continue}a=n.call(l,r)}catch(o){a=[6,o],e=0}finally{u=t=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},ve=function(l){function n(n,u,e,t,a){var r=l.call(this,n)||this;return r.modal=n,r.toast=u,r.net=e,r.evt=t,r.auth=a,r}return Object(w.c)(n,l),n.prototype.ngOnInit=function(){},n.prototype.markOneItemMissing=function(l){return me(this,void 0,void 0,function(){var n,u=this;return fe(this,function(e){return 0===l.length?[2,Promise.resolve()]:(n=l.pop(),[2,this.net.request("open-ils.circ","open-ils.circ.mark_item_missing",this.auth.token(),n).toPromise().then(function(n){return me(u,void 0,void 0,function(){var u,e,t,a;return fe(this,function(r){switch(r.label){case 0:return 1!==Number(n)?[3,2]:(this.numSucceeded++,e=(u=this.toast).success,[4,this.successMsg.current()]);case 1:return e.apply(u,[r.sent()]),[3,4];case 2:return this.numFailed++,console.error("Mark missing failed ",this.evt.parse(n)),a=(t=this.toast).warning,[4,this.errorMsg.current()];case 3:a.apply(t,[r.sent()]),r.label=4;case 4:return[2,this.markOneItemMissing(l)]}})})})])})})},n.prototype.markItemsMissing=function(){return me(this,void 0,void 0,function(){var l;return fe(this,function(n){switch(n.label){case 0:return this.numSucceeded=0,this.numFailed=0,l=[].concat(this.copyIds),[4,this.markOneItemMissing(l)];case 1:return n.sent(),this.close(this.numSucceeded>0),[2]}})})},n}(x.a),ye=e.pb({encapsulation:2,styles:[],data:{}});function Ce(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.Jb(2,null,[" "," Items(s) Successfully Marked Missing "]))],null,function(l,n){l(n,2,0,n.component.numSucceeded)})}function ke(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(l()(),e.Jb(3,null,[" "," Items(s) Failed to be Marked Missing "]))],null,function(l,n){l(n,3,0,n.component.numFailed)})}function we(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Cancel"])),(l()(),e.rb(3,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.markItemsMissing()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Mark Missing"]))],null,null)}function Be(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Mark Item Missing"])),(l()(),e.rb(4,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.rb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xd7"])),(l()(),e.rb(7,0,null,null,7,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,2,"div",[["class","row d-flex justify-content-center"]],null,null,null,null,null)),(l()(),e.rb(9,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),e.Jb(10,null,["Mark "," Item(s) Missing?"])),(l()(),e.ib(16777216,null,null,1,null,Ce)),e.qb(12,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,ke)),e.qb(14,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(15,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,we)),e.qb(17,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,12,0,u.numSucceeded>0),l(n,14,0,u.numFailed>0),l(n,17,0,!u.chargeResponse)},function(l,n){l(n,10,0,n.component.copyIds.length)})}function xe(l){return e.Lb(0,[e.Hb(402653184,1,{dialogContent:0}),e.Hb(402653184,2,{successMsg:0}),e.Hb(402653184,3,{errorMsg:0}),(l()(),e.rb(3,0,null,null,1,"eg-string",[["text","Successfully Marked Item Missing"]],null,null,null,y.b,y.a)),e.qb(4,114688,[[2,4],["successMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.rb(5,0,null,null,1,"eg-string",[["text","Failed To Mark Item Missing"]],null,null,null,y.b,y.a)),e.qb(6,114688,[[3,4],["errorMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,Be))],function(l,n){l(n,4,0,"Successfully Marked Item Missing"),l(n,6,0,"Failed To Mark Item Missing")},null)}var qe=function(l,n,u,e){return new(u||(u=Promise))(function(t,a){function r(l){try{i(e.next(l))}catch(n){a(n)}}function o(l){try{i(e.throw(l))}catch(n){a(n)}}function i(l){l.done?t(l.value):new u(function(n){n(l.value)}).then(r,o)}i((e=e.apply(l,n||[])).next())})},_e=function(l,n){var u,e,t,a,r={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(u)throw new TypeError("Generator is already executing.");for(;r;)try{if(u=1,e&&(t=2&a[0]?e.return:a[0]?e.throw||((t=e.return)&&t.call(e),0):e.next)&&!(t=t.call(e,a[1])).done)return t;switch(e=0,t&&(a=[2&a[0],t.value]),a[0]){case 0:case 1:t=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,e=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(t=(t=r.trys).length>0&&t[t.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!t||a[1]>t[0]&&a[1]<t[3])){r.label=a[1];break}if(6===a[0]&&r.label<t[1]){r.label=t[1],t=a;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(a);break}t[2]&&r.ops.pop(),r.trys.pop();continue}a=n.call(l,r)}catch(o){a=[6,o],e=0}finally{u=t=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},Ie=function(l){function n(n,u,e,t,a){var r=l.call(this,n)||this;return r.modal=n,r.toast=u,r.net=e,r.evt=t,r.auth=a,r}return Object(w.c)(n,l),n.prototype.ngOnInit=function(){},n.prototype.open=function(n){return this.holdIds=[].concat(this.holdIds),l.prototype.open.call(this,n)},n.prototype.retargetNext=function(l){return qe(this,void 0,void 0,function(){var n=this;return _e(this,function(u){return 0===l.length?[2,Promise.resolve()]:[2,this.net.request("open-ils.circ","open-ils.circ.hold.reset",this.auth.token(),l.pop()).toPromise().then(function(u){return qe(n,void 0,void 0,function(){var n,e,t,a;return _e(this,function(r){switch(r.label){case 0:return 1!==Number(u)?[3,2]:(this.numSucceeded++,e=(n=this.toast).success,[4,this.successMsg.current()]);case 1:return e.apply(n,[r.sent()]),[3,4];case 2:return this.numFailed++,console.error(this.evt.parse(u)),a=(t=this.toast).warning,[4,this.errorMsg.current()];case 3:a.apply(t,[r.sent()]),r.label=4;case 4:return this.retargetNext(l),[2]}})})})]})})},n.prototype.retargetBatch=function(){return qe(this,void 0,void 0,function(){var l;return _e(this,function(n){switch(n.label){case 0:return this.numSucceeded=0,this.numFailed=0,l=[].concat(this.holdIds),[4,this.retargetNext(l)];case 1:return n.sent(),this.close(this.numSucceeded>0),[2]}})})},n}(x.a),Me=e.pb({encapsulation:2,styles:[],data:{}});function Se(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.Jb(2,null,[" "," Hold(s) Successfully Retargeted "]))],null,function(l,n){l(n,2,0,n.component.numSucceeded)})}function Pe(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(l()(),e.Jb(3,null,[" "," Hold(s) Failed to Retarget. "]))],null,function(l,n){l(n,3,0,n.component.numFailed)})}function Te(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Cancel"])),(l()(),e.rb(3,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.retargetBatch()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Retarget"]))],null,null)}function De(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Retarget Hold"])),(l()(),e.rb(4,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.rb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xd7"])),(l()(),e.rb(7,0,null,null,7,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,2,"div",[["class","row d-flex justify-content-center"]],null,null,null,null,null)),(l()(),e.rb(9,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),e.Jb(10,null,["Retarget "," Holds?"])),(l()(),e.ib(16777216,null,null,1,null,Se)),e.qb(12,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Pe)),e.qb(14,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(15,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Te)),e.qb(17,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,12,0,u.numSucceeded>0),l(n,14,0,u.numFailed>0),l(n,17,0,!u.chargeResponse)},function(l,n){l(n,10,0,n.component.holdIds.length)})}function Le(l){return e.Lb(0,[e.Hb(402653184,1,{dialogContent:0}),e.Hb(402653184,2,{successMsg:0}),e.Hb(402653184,3,{errorMsg:0}),(l()(),e.rb(3,0,null,null,1,"eg-string",[["text","Successfully Retargetd Hold"]],null,null,null,y.b,y.a)),e.qb(4,114688,[[2,4],["successMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.rb(5,0,null,null,1,"eg-string",[["text","Failed To Retarget Hold"]],null,null,null,y.b,y.a)),e.qb(6,114688,[[3,4],["errorMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,De))],function(l,n){l(n,4,0,"Successfully Retargetd Hold"),l(n,6,0,"Failed To Retarget Hold")},null)}var Ee=function(l,n,u,e){return new(u||(u=Promise))(function(t,a){function r(l){try{i(e.next(l))}catch(n){a(n)}}function o(l){try{i(e.throw(l))}catch(n){a(n)}}function i(l){l.done?t(l.value):new u(function(n){n(l.value)}).then(r,o)}i((e=e.apply(l,n||[])).next())})},Je=function(l,n){var u,e,t,a,r={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(u)throw new TypeError("Generator is already executing.");for(;r;)try{if(u=1,e&&(t=2&a[0]?e.return:a[0]?e.throw||((t=e.return)&&t.call(e),0):e.next)&&!(t=t.call(e,a[1])).done)return t;switch(e=0,t&&(a=[2&a[0],t.value]),a[0]){case 0:case 1:t=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,e=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(t=(t=r.trys).length>0&&t[t.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!t||a[1]>t[0]&&a[1]<t[3])){r.label=a[1];break}if(6===a[0]&&r.label<t[1]){r.label=t[1],t=a;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(a);break}t[2]&&r.ops.pop(),r.trys.pop();continue}a=n.call(l,r)}catch(o){a=[6,o],e=0}finally{u=t=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},Fe=function(l){function n(n,u,e,t,a,r){var o=l.call(this,n)||this;return o.modal=n,o.toast=u,o.net=e,o.evt=t,o.pcrud=a,o.auth=r,o.cancelReasons=[],o}return Object(w.c)(n,l),n.prototype.ngOnInit=function(){},n.prototype.open=function(n){var u=this;return 0===this.cancelReasons.length&&this.pcrud.retrieveAll("ahrcc",{},{atomic:!0}).toPromise().then(function(l){u.cancelReasons=l.map(function(l){return{id:l.id(),label:l.label()}})}),l.prototype.open.call(this,n)},n.prototype.cancelNext=function(l){return Ee(this,void 0,void 0,function(){var n=this;return Je(this,function(u){return 0===l.length?[2,Promise.resolve()]:[2,this.net.request("open-ils.circ","open-ils.circ.hold.cancel",this.auth.token(),l.pop(),this.cancelReason,this.cancelNote).toPromise().then(function(u){return Ee(n,void 0,void 0,function(){var n,e,t,a;return Je(this,function(r){switch(r.label){case 0:return 1!==Number(u)?[3,2]:(this.numSucceeded++,e=(n=this.toast).success,[4,this.successMsg.current()]);case 1:return e.apply(n,[r.sent()]),[3,4];case 2:return this.numFailed++,console.error(this.evt.parse(u)),a=(t=this.toast).warning,[4,this.errorMsg.current()];case 3:a.apply(t,[r.sent()]),r.label=4;case 4:return this.cancelNext(l),[2]}})})})]})})},n.prototype.cancelBatch=function(){return Ee(this,void 0,void 0,function(){var l;return Je(this,function(n){switch(n.label){case 0:return this.numSucceeded=0,this.numFailed=0,l=[].concat(this.holdIds),[4,this.cancelNext(l)];case 1:return n.sent(),this.close(this.numSucceeded>0),[2]}})})},n}(x.a),He=e.pb({encapsulation:2,styles:[],data:{}});function Ae(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(l()(),e.Jb(3,null,[" "," Hold(s) Failed to Cancel. "]))],null,function(l,n){l(n,3,0,n.component.numFailed)})}function Ne(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,"div",[["class","row mt-2"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.Jb(2,null,[" "," Hold(s) Successfully Canceled "])),(l()(),e.ib(16777216,null,null,1,null,Ae)),e.qb(4,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,4,0,n.component.numFailed>0)},function(l,n){l(n,2,0,n.component.numSucceeded)})}function Oe(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Cancel"])),(l()(),e.rb(3,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.cancelBatch()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Cancel Hold"]))],null,null)}function Re(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Cancel Hold"])),(l()(),e.rb(4,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.rb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xd7"])),(l()(),e.rb(7,0,null,null,24,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,2,"div",[["class","row d-flex justify-content-center"]],null,null,null,null,null)),(l()(),e.rb(9,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),e.Jb(10,null,["Cancel "," Holds?"])),(l()(),e.rb(11,0,null,null,7,"div",[["class","row mt-2"]],null,null,null,null,null)),(l()(),e.rb(12,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(13,0,null,null,1,"label",[["for","cance-reasons"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Cancel Reason"])),(l()(),e.rb(15,0,null,null,3,"div",[["class","col-lg-8"]],null,null,null,null,null)),(l()(),e.rb(16,0,null,null,2,"eg-combobox",[["id","cancel-reasons"]],null,[[null,"onChange"]],function(l,n,u){var e=!0;return"onChange"===n&&(e=!1!==(l.component.cancelReason=u?u.id:null)&&e),e},fu.b,fu.a)),e.Gb(5120,null,o.n,function(l){return[l]},[cu.a]),e.qb(18,114688,null,0,cu.a,[e.k,p.a,W.a,wn.a],{startId:[0,"startId"],entries:[1,"entries"]},{onChange:"onChange"}),(l()(),e.rb(19,0,null,null,10,"div",[["class","row mt-2"]],null,null,null,null,null)),(l()(),e.rb(20,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(21,0,null,null,1,"label",[["for","cance-note"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Cancel Note"])),(l()(),e.rb(23,0,null,null,6,"div",[["class","col-lg-8"]],null,null,null,null,null)),(l()(),e.rb(24,0,null,null,5,"textarea",[["class","form-control"],["id","cancel-note"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,25)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,25).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,25)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,25)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(a.cancelNote=u)&&t),t},null,null)),e.qb(25,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(27,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(29,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.ib(16777216,null,null,1,null,Ne)),e.qb(31,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(32,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Oe)),e.qb(34,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,18,0,5,u.cancelReasons),l(n,27,0,u.cancelNote),l(n,31,0,u.numSucceeded>0),l(n,34,0,!u.chargeResponse)},function(l,n){l(n,10,0,n.component.holdIds.length),l(n,24,0,e.Bb(n,29).ngClassUntouched,e.Bb(n,29).ngClassTouched,e.Bb(n,29).ngClassPristine,e.Bb(n,29).ngClassDirty,e.Bb(n,29).ngClassValid,e.Bb(n,29).ngClassInvalid,e.Bb(n,29).ngClassPending)})}function Ge(l){return e.Lb(0,[e.Hb(402653184,1,{dialogContent:0}),e.Hb(402653184,2,{successMsg:0}),e.Hb(402653184,3,{errorMsg:0}),(l()(),e.rb(3,0,null,null,1,"eg-string",[["text","Successfully Canceled Hold"]],null,null,null,y.b,y.a)),e.qb(4,114688,[[2,4],["successMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.rb(5,0,null,null,1,"eg-string",[["text","Failed To Cancel Hold"]],null,null,null,y.b,y.a)),e.qb(6,114688,[[3,4],["errorMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,Re))],function(l,n){l(n,4,0,"Successfully Canceled Hold"),l(n,6,0,"Failed To Cancel Hold")},null)}var Ue=u("MisT"),je=u("LTyc"),Ke=u("psW0"),$e=function(){function l(l,n,u,e){this.evt=l,this.net=n,this.auth=u,this.bib=e}return l.prototype.placeHold=function(l){var n=this,u="open-ils.circ.holds.test_and_create.batch";return l.override&&(u+=".override"),this.net.request("open-ils.circ",u,this.auth.token(),{patronid:l.recipient,pickup_lib:l.pickupLib,hold_type:l.holdType,email_notify:l.notifyEmail,phone_notify:l.notifyPhone,thaw_date:l.thawDate,frozen:l.frozen,sms_notify:l.notifySms,sms_carrier:l.smsCarrier,holdable_formats_map:l.holdableFormats},[l.holdTarget]).pipe(Object(Zn.a)(function(u){var e=u.result,t={success:!0};return Number(e)>0?(t.holdId=e,console.debug("Hold successfully placed "+e)):(t.success=!1,console.info("Hold request failed: ",e),Array.isArray(e)&&(e=e[0]),t.evt=n.evt.parse(e)?n.evt.parse(e):n.evt.parse(e.last_event)),l.result=t,l}))},l.prototype.getHoldTargetMeta=function(l,n,u){var e=this,t=[].concat(n);return this.net.request("open-ils.circ","open-ils.circ.hold.get_metadata",l,t,u).pipe(Object(Ke.a)(function(l){var n=l;return n.bibId=n.bibrecord.id(),n.callNum=l.volume,e.bib.getBibSummary(n.bibId).pipe(Object(Zn.a)(function(l){return n.bibSummary=l,n}))}))},l.prototype.updateHolds=function(l){var n=this;return this.net.request("open-ils.circ","open-ils.circ.hold.update.batch",this.auth.token(),l).pipe(Object(Zn.a)(function(l){if(Number(l)>0)return Number(l);Array.isArray(l)&&(l=l[0]);var u=n.evt.parse(l);return console.warn("Hold update returned event",u),u}))},l}(),Ve=function(){function l(l,n,u,t){this.idl=l,this.org=n,this.pcrud=u,this.holds=t,this.onComplete=new e.m,this.smsCarriers=[],this.holdIds=[],this.activeFields={}}return l.prototype.ngOnInit=function(){var l=this;this.org.settings("sms.enable").then(function(n){l.smsEnabled=n["sms.enable"],l.smsEnabled&&l.pcrud.search("csc",{active:"t"},{order_by:{csc:"name"}}).subscribe(function(n){l.smsCarriers.push({id:n.id(),label:n.name()})})}),this.fetchHold()},l.prototype.fetchHold=function(){var l=this;this.hold=null,0!==this.holdIds.length&&(this.isBatch()?this.hold=this.idl.create("ahr"):this.pcrud.retrieve("ahr",this.holdIds[0]).subscribe(function(n){return l.hold=n}))},l.prototype.toFormData=function(){},l.prototype.isBatch=function(){return this.holdIds.length>1},l.prototype.pickupLibChanged=function(l){l&&this.hold.pickup_lib(l.id())},l.prototype.save=function(){var l=this;if(this.isBatch()){var n=Object.keys(this.activeFields).filter(function(n){return l.activeFields[n]}),u=[];this.pcrud.search("ahr",{id:this.holdIds}).subscribe(function(e){n.forEach(function(n){return e[n](l.hold[n]())}),u.push(e)},function(l){},function(){l.saveBatch(u)})}else this.saveBatch([this.hold])},l.prototype.saveBatch=function(l){var n=this,u=0;this.holds.updateHolds(l).subscribe(function(l){Number(l)>0&&(u++,console.debug("hold update succeeded with ",l))},function(l){return console.error("hold update failed with ",l)},function(){u===l.length?n.onComplete.emit(!0):console.error("Some holds failed to update")})},l.prototype.exit=function(){this.onComplete.emit(!1)},l}(),ze=e.pb({encapsulation:2,styles:[],data:{}});function We(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class",""]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"input",[["class","form-check-input"],["name","active_pickup_lib"],["title","Activate Column Editing"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.activeFields.pickup_lib=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(5,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,5,0,"active_pickup_lib",n.component.activeFields.pickup_lib)},function(l,n){l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending)})}function Qe(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class",""]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"input",[["class","form-check-input"],["name","active_mint_condition"],["title","Activate Column Editing"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.activeFields.mint_condition=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(5,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,5,0,"active_mint_condition",n.component.activeFields.mint_condition)},function(l,n){l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending)})}function Ze(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class",""]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"input",[["class","form-check-input"],["name","active_frozen"],["title","Activate Column Editing"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.activeFields.frozen=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(5,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,5,0,"active_frozen",n.component.activeFields.frozen)},function(l,n){l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending)})}function Xe(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class",""]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"input",[["class","form-check-input"],["name","active_cut_in_line"],["title","Activate Column Editing"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.activeFields.cut_in_line=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(5,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,5,0,"active_cut_in_line",n.component.activeFields.cut_in_line)},function(l,n){l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending)})}function Ye(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class",""]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"input",[["class","form-check-input"],["name","active_thaw_date"],["title","Activate Column Editing"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.activeFields.thaw_date=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(5,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,5,0,"active_thaw_date",n.component.activeFields.thaw_date)},function(l,n){l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending)})}function lt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class",""]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"input",[["class","form-check-input"],["name","active_request_time"],["title","Activate Column Editing"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.activeFields.request_time=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(5,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,5,0,"active_request_time",n.component.activeFields.request_time)},function(l,n){l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending)})}function nt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class",""]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"input",[["class","form-check-input"],["name","active_expire_time"],["title","Activate Column Editing"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.activeFields.expire_time=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(5,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,5,0,"active_expire_time",n.component.activeFields.expire_time)},function(l,n){l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending)})}function ut(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class",""]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"input",[["class","form-check-input"],["name","active_shelf_expire_time"],["title","Activate Column Editing"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.activeFields.shelf_expire_time=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(5,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,5,0,"active_shelf_expire_time",n.component.activeFields.shelf_expire_time)},function(l,n){l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending)})}function et(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class",""]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"input",[["class","form-check-input"],["name","active_email_notify"],["title","Activate Column Editing"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.activeFields.email_notify=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(5,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,5,0,"active_email_notify",n.component.activeFields.email_notify)},function(l,n){l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending)})}function tt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class",""]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"input",[["class","form-check-input"],["name","active_phone_notify"],["title","Activate Column Editing"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.activeFields.phone_notify=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(5,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,5,0,"active_phone_notify",n.component.activeFields.phone_notify)},function(l,n){l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending)})}function at(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class",""]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"input",[["class","form-check-input"],["name","active_sms_notify"],["title","Activate Column Editing"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.activeFields.sms_notify=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(5,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,5,0,"active_sms_notify",n.component.activeFields.sms_notify)},function(l,n){l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending)})}function rt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class",""]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"input",[["class","form-check-input"],["name","active_sms_carrier"],["title","Activate Column Editing"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.activeFields.sms_carrier=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(5,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){l(n,5,0,"active_sms_carrier",n.component.activeFields.sms_carrier)},function(l,n){l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending)})}function ot(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,24,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,23,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"div",[["class","col-lg-2 d-flex"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,at)),e.qb(4,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(5,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,1,"label",[["for","sms_notify"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Text/SMS Number:"])),(l()(),e.rb(8,0,null,null,6,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(9,0,null,null,5,"input",[["class","form-control"],["id","sms_notify"],["name","sms_notify"],["placeholder","SMS Number..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,10)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,10).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,10)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,10)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==a.hold.sms_notify(u)&&t),t},null,null)),e.qb(10,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(12,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(14,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(15,0,null,null,5,"div",[["class","col-lg-2 d-flex"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,rt)),e.qb(17,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(18,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(19,0,null,null,1,"label",[["for","sms_carrier"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Text/SMS Number:"])),(l()(),e.rb(21,0,null,null,3,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(22,0,null,null,2,"eg-combobox",[["id","sms_carrier"],["placeholder","SMS Carrier..."]],null,[[null,"onChange"]],function(l,n,u){var e=!0;return"onChange"===n&&(e=!1!==l.component.hold.sms_carrier(u.id)&&e),e},fu.b,fu.a)),e.Gb(5120,null,o.n,function(l){return[l]},[cu.a]),e.qb(24,114688,null,0,cu.a,[e.k,p.a,W.a,wn.a],{placeholder:[0,"placeholder"],disabled:[1,"disabled"],startId:[2,"startId"],entries:[3,"entries"]},{onChange:"onChange"})],function(l,n){var u=n.component;l(n,4,0,u.isBatch()),l(n,12,0,"sms_notify",u.isBatch()&&!u.activeFields.sms_notify,u.hold.sms_notify()),l(n,17,0,u.isBatch()),l(n,24,0,"SMS Carrier...",u.isBatch()&&!u.activeFields.sms_carrier,u.hold.sms_carrier(),u.smsCarriers)},function(l,n){l(n,9,0,e.Bb(n,14).ngClassUntouched,e.Bb(n,14).ngClassTouched,e.Bb(n,14).ngClassPristine,e.Bb(n,14).ngClassDirty,e.Bb(n,14).ngClassValid,e.Bb(n,14).ngClassInvalid,e.Bb(n,14).ngClassPending)})}function it(l){return e.Lb(0,[(l()(),e.rb(0,0,[["holdManageForm",1]],null,138,"form",[["class","form-validated common-form striped-odd"],["novalidate",""],["role","form"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==e.Bb(l,2).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.Bb(l,2).onReset()&&t),t},null,null)),e.qb(1,16384,null,0,o.C,[],null,null),e.qb(2,4210688,null,0,o.r,[[8,null],[8,null]],null,null),e.Gb(2048,null,o.c,null,[o.r]),e.qb(4,16384,null,0,o.q,[[4,o.c]],null,null),(l()(),e.rb(5,0,null,null,25,"div",[["class","form-group row d-flex"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,5,"div",[["class","col-lg-2 d-flex"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,We)),e.qb(8,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(9,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(10,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Pickup Library:"])),(l()(),e.rb(12,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(13,0,null,null,1,"eg-org-select",[],null,[[null,"onChange"]],function(l,n,u){var e=!0;return"onChange"===n&&(e=!1!==l.component.pickupLibChanged(u)&&e),e},s.b,s.a)),e.qb(14,114688,null,0,b.a,[d.a,p.a,h.a,g.a],{disabled:[0,"disabled"],initialOrgId:[1,"initialOrgId"]},{onChange:"onChange"}),(l()(),e.rb(15,0,null,null,5,"div",[["class","col-lg-2 d-flex"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Qe)),e.qb(17,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(18,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(19,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Desired Item Condition:"])),(l()(),e.rb(21,0,null,null,9,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(22,0,null,null,8,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(23,0,null,null,5,"input",[["class","form-check-input"],["id","mint-condition"],["name","mint"],["type","checkbox"],["value","mint"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,24).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,24).onTouched()&&t),"ngModelChange"===n&&(t=!1!==a.hold.mint_condition(u?"t":"f")&&t),t},null,null)),e.qb(24,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(26,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(28,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(29,0,null,null,1,"label",[["class","form-check-label"],["for","mint-condition"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Good Condition Only "])),(l()(),e.rb(31,0,null,null,28,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.rb(32,0,null,null,5,"div",[["class","col-lg-2 d-flex"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Ze)),e.qb(34,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(35,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(36,0,null,null,1,"label",[["for","frozen"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Hold is Suspended:"])),(l()(),e.rb(38,0,null,null,7,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(39,0,null,null,6,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(40,0,null,null,5,"input",[["class","form-check-input"],["id","frozen"],["name","frozen"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,41).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,41).onTouched()&&t),"ngModelChange"===n&&(t=!1!==a.hold.frozen(u?"t":"f")&&t),t},null,null)),e.qb(41,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(43,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(45,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(46,0,null,null,5,"div",[["class","col-lg-2 d-flex"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Xe)),e.qb(48,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(49,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(50,0,null,null,1,"label",[["for","cut_in_line"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Top of Queue:"])),(l()(),e.rb(52,0,null,null,7,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(53,0,null,null,6,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(54,0,null,null,5,"input",[["class","form-check-input"],["id","cut_in_line"],["name","cut_in_line"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,55).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,55).onTouched()&&t),"ngModelChange"===n&&(t=!1!==a.hold.cut_in_line(u?"t":"f")&&t),t},null,null)),e.qb(55,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(57,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(59,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(60,0,null,null,42,"div",[["class","w-100 border border-primary rounded"]],null,null,null,null,null)),(l()(),e.rb(61,0,null,null,20,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.rb(62,0,null,null,5,"div",[["class","col-lg-2 d-flex"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Ye)),e.qb(64,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(65,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(66,0,null,null,1,"label",[["for","thaw_date"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Activate Date:"])),(l()(),e.rb(68,0,null,null,3,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(69,0,null,null,2,"eg-date-select",[["domId","thaw_date"]],null,[[null,"onChangeAsIso"]],function(l,n,u){var e=!0;return"onChangeAsIso"===n&&(e=!1!==l.component.hold.thaw_date(u)&&e),e},Ue.b,Ue.a)),e.Gb(5120,null,o.n,function(l){return[l]},[je.a]),e.qb(71,114688,null,0,je.a,[],{initialIso:[0,"initialIso"],domId:[1,"domId"],disabled:[2,"disabled"]},{onChangeAsIso:"onChangeAsIso"}),(l()(),e.rb(72,0,null,null,5,"div",[["class","col-lg-2 d-flex"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,lt)),e.qb(74,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(75,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(76,0,null,null,1,"label",[["for","request_time"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Request Date:"])),(l()(),e.rb(78,0,null,null,3,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(79,0,null,null,2,"eg-date-select",[["domId","request_time"]],null,[[null,"onChangeAsIso"]],function(l,n,u){var e=!0;return"onChangeAsIso"===n&&(e=!1!==l.component.hold.request_time(u)&&e),e},Ue.b,Ue.a)),e.Gb(5120,null,o.n,function(l){return[l]},[je.a]),e.qb(81,114688,null,0,je.a,[],{initialIso:[0,"initialIso"],domId:[1,"domId"],disabled:[2,"disabled"]},{onChangeAsIso:"onChangeAsIso"}),(l()(),e.rb(82,0,null,null,20,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.rb(83,0,null,null,5,"div",[["class","col-lg-2 d-flex"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,nt)),e.qb(85,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(86,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(87,0,null,null,1,"label",[["for","expire_time"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Expire Date:"])),(l()(),e.rb(89,0,null,null,3,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(90,0,null,null,2,"eg-date-select",[["domId","expire_time"]],null,[[null,"onChangeAsIso"]],function(l,n,u){var e=!0;return"onChangeAsIso"===n&&(e=!1!==l.component.hold.expire_time(u)&&e),e},Ue.b,Ue.a)),e.Gb(5120,null,o.n,function(l){return[l]},[je.a]),e.qb(92,114688,null,0,je.a,[],{initialIso:[0,"initialIso"],domId:[1,"domId"],disabled:[2,"disabled"]},{onChangeAsIso:"onChangeAsIso"}),(l()(),e.rb(93,0,null,null,5,"div",[["class","col-lg-2 d-flex"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,ut)),e.qb(95,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(96,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(97,0,null,null,1,"label",[["for","shelf_expire_time"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Shelf Expire Date:"])),(l()(),e.rb(99,0,null,null,3,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(100,0,null,null,2,"eg-date-select",[["domId","shelf_expire_time"]],null,[[null,"onChangeAsIso"]],function(l,n,u){var e=!0;return"onChangeAsIso"===n&&(e=!1!==l.component.hold.shelf_expire_time(u)&&e),e},Ue.b,Ue.a)),e.Gb(5120,null,o.n,function(l){return[l]},[je.a]),e.qb(102,114688,null,0,je.a,[],{initialIso:[0,"initialIso"],domId:[1,"domId"],disabled:[2,"disabled"]},{onChangeAsIso:"onChangeAsIso"}),(l()(),e.rb(103,0,null,null,27,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.rb(104,0,null,null,5,"div",[["class","col-lg-2 d-flex"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,et)),e.qb(106,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(107,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(108,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Send Emails:"])),(l()(),e.rb(110,0,null,null,7,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(111,0,null,null,6,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),e.rb(112,0,null,null,5,"input",[["class","form-check-input"],["id","email"],["name","email"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,113).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,113).onTouched()&&t),"ngModelChange"===n&&(t=!1!==a.hold.email_notify(u?"t":"f")&&t),t},null,null)),e.qb(113,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(115,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(117,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(118,0,null,null,5,"div",[["class","col-lg-2 d-flex"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,tt)),e.qb(120,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(121,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(122,0,null,null,1,"label",[["for","phone"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Phone Number:"])),(l()(),e.rb(124,0,null,null,6,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(125,0,null,null,5,"input",[["class","form-control"],["id","phone"],["name","phone"],["placeholder","Phone Number..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,126)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,126).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,126)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,126)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==a.hold.phone_notify(u)&&t),t},null,null)),e.qb(126,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(128,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(130,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.ib(16777216,null,null,1,null,ot)),e.qb(132,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(133,0,null,null,5,"div",[["class","row d-flex justify-content-end"]],null,null,null,null,null)),(l()(),e.rb(134,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),e.rb(135,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.exit()&&e),e},null,null)),(l()(),e.Jb(-1,null,[" Cancel "])),(l()(),e.rb(137,0,null,null,1,"button",[["class","btn btn-success ml-2"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.save()&&e),e},null,null)),(l()(),e.Jb(-1,null,[" Apply "]))],function(l,n){var u=n.component;l(n,8,0,u.isBatch()),l(n,14,0,u.isBatch()&&!u.activeFields.pickup_lib,u.hold.pickup_lib()),l(n,17,0,u.isBatch()),l(n,26,0,"mint",u.isBatch()&&!u.activeFields.mint_condition,"t"==u.hold.mint_condition()),l(n,34,0,u.isBatch()),l(n,43,0,"frozen",u.isBatch()&&!u.activeFields.frozen,"t"==u.hold.frozen()),l(n,48,0,u.isBatch()),l(n,57,0,"cut_in_line",u.isBatch()&&!u.activeFields.cut_in_line,"t"==u.hold.cut_in_line()),l(n,64,0,u.isBatch()),l(n,71,0,u.hold.thaw_date(),"thaw_date",u.isBatch()&&!u.activeFields.thaw_date),l(n,74,0,u.isBatch()),l(n,81,0,u.hold.request_time(),"request_time",u.isBatch()&&!u.activeFields.request_time),l(n,85,0,u.isBatch()),l(n,92,0,u.hold.expire_time(),"expire_time",u.isBatch()&&!u.activeFields.expire_time),l(n,95,0,u.isBatch()),l(n,102,0,u.hold.shelf_expire_time(),"shelf_expire_time",u.isBatch()&&!u.activeFields.shelf_expire_time),l(n,106,0,u.isBatch()),l(n,115,0,"email",u.isBatch()&&!u.activeFields.email_notify,"t"==u.hold.email_notify()),l(n,120,0,u.isBatch()),l(n,128,0,"phone",u.isBatch()&&!u.activeFields.phone_notify,u.hold.phone_notify()),l(n,132,0,u.smsEnabled)},function(l,n){l(n,0,0,e.Bb(n,4).ngClassUntouched,e.Bb(n,4).ngClassTouched,e.Bb(n,4).ngClassPristine,e.Bb(n,4).ngClassDirty,e.Bb(n,4).ngClassValid,e.Bb(n,4).ngClassInvalid,e.Bb(n,4).ngClassPending),l(n,23,0,e.Bb(n,28).ngClassUntouched,e.Bb(n,28).ngClassTouched,e.Bb(n,28).ngClassPristine,e.Bb(n,28).ngClassDirty,e.Bb(n,28).ngClassValid,e.Bb(n,28).ngClassInvalid,e.Bb(n,28).ngClassPending),l(n,40,0,e.Bb(n,45).ngClassUntouched,e.Bb(n,45).ngClassTouched,e.Bb(n,45).ngClassPristine,e.Bb(n,45).ngClassDirty,e.Bb(n,45).ngClassValid,e.Bb(n,45).ngClassInvalid,e.Bb(n,45).ngClassPending),l(n,54,0,e.Bb(n,59).ngClassUntouched,e.Bb(n,59).ngClassTouched,e.Bb(n,59).ngClassPristine,e.Bb(n,59).ngClassDirty,e.Bb(n,59).ngClassValid,e.Bb(n,59).ngClassInvalid,e.Bb(n,59).ngClassPending),l(n,112,0,e.Bb(n,117).ngClassUntouched,e.Bb(n,117).ngClassTouched,e.Bb(n,117).ngClassPristine,e.Bb(n,117).ngClassDirty,e.Bb(n,117).ngClassValid,e.Bb(n,117).ngClassInvalid,e.Bb(n,117).ngClassPending),l(n,125,0,e.Bb(n,130).ngClassUntouched,e.Bb(n,130).ngClassTouched,e.Bb(n,130).ngClassPristine,e.Bb(n,130).ngClassDirty,e.Bb(n,130).ngClassValid,e.Bb(n,130).ngClassInvalid,e.Bb(n,130).ngClassPending)})}function ct(l){return e.Lb(0,[(l()(),e.ib(16777216,null,null,1,null,it)),e.qb(1,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.hold)},null)}var st=function(l){function n(n){var u=l.call(this,n)||this;return u.modal=n,u}return Object(w.c)(n,l),n.prototype.open=function(n){return l.prototype.open.call(this,n)},n.prototype.onComplete=function(l){this.close(l)},n}(x.a),bt=e.pb({encapsulation:2,styles:[],data:{}});function dt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.Jb(2,null,["Modify Hold (#",")"]))],null,function(l,n){l(n,2,0,n.component.holdIds[0])})}function pt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.Jb(2,null,["Batch Modify "," Holds"]))],null,function(l,n){l(n,2,0,n.component.holdIds.length)})}function ht(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,dt)),e.qb(2,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,pt)),e.qb(4,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(5,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.rb(6,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xd7"])),(l()(),e.rb(8,0,null,null,2,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.rb(9,0,null,null,1,"eg-hold-manage",[],null,[[null,"onComplete"]],function(l,n,u){var e=!0;return"onComplete"===n&&(e=!1!==l.component.onComplete(u)&&e),e},ct,ze)),e.qb(10,114688,null,0,Ve,[W.a,h.a,wn.a,$e],{holdIds:[0,"holdIds"]},{onComplete:"onComplete"})],function(l,n){var u=n.component;l(n,2,0,1==u.holdIds.length),l(n,4,0,u.holdIds.length>1),l(n,10,0,u.holdIds)},null)}function gt(l){return e.Lb(0,[e.Hb(402653184,1,{dialogContent:0}),(l()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,ht))],null,null)}var mt=u("6blF"),ft=function(l,n,u,e){return new(u||(u=Promise))(function(t,a){function r(l){try{i(e.next(l))}catch(n){a(n)}}function o(l){try{i(e.throw(l))}catch(n){a(n)}}function i(l){l.done?t(l.value):new u(function(n){n(l.value)}).then(r,o)}i((e=e.apply(l,n||[])).next())})},vt=function(l,n){var u,e,t,a,r={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(u)throw new TypeError("Generator is already executing.");for(;r;)try{if(u=1,e&&(t=2&a[0]?e.return:a[0]?e.throw||((t=e.return)&&t.call(e),0):e.next)&&!(t=t.call(e,a[1])).done)return t;switch(e=0,t&&(a=[2&a[0],t.value]),a[0]){case 0:case 1:t=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,e=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(t=(t=r.trys).length>0&&t[t.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!t||a[1]>t[0]&&a[1]<t[3])){r.label=a[1];break}if(6===a[0]&&r.label<t[1]){r.label=t[1],t=a;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(a);break}t[2]&&r.ops.pop(),r.trys.pop();continue}a=n.call(l,r)}catch(o){a=[6,o],e=0}finally{u=t=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},yt=function(){function l(l,n,u,e,t){this.net=l,this.org=n,this.store=u,this.auth=e,this.printer=t,this.mode="list",this.initDone=!1,this.gridDataSource=new Xn.c,this.enablePreFetch=null}return Object.defineProperty(l.prototype,"recordId",{set:function(l){this._recordId=l,this.initDone&&this.holdsGrid.reload()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"userId",{set:function(l){this._userId=l,this.initDone&&this.holdsGrid.reload()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"showCanceledSince",{set:function(l){this._showCanceledSince=l,this.initDone&&this.holdsGrid.reload()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"showFulfilledSince",{set:function(l){this._showFulfilledSince=l,this.initDone&&this.holdsGrid.reload()},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var l=this;this.initDone=!0,this.pickupLib=this.org.get(this.initialPickupLib),this.preFetchSetting&&this.store.getItem(this.preFetchSetting).then(function(n){return l.enablePreFetch=Boolean(n)}),this.defaultSort||(this.defaultSort=[{name:"request_time",dir:"asc"}]),this.gridDataSource.getRows=function(n,u){return l.fetchHolds(n,u=u.length>0?u:l.defaultSort)}},l.prototype.initComplete=function(){return null!==this.enablePreFetch},l.prototype.pickupLibChanged=function(l){this.pickupLib=l,this.holdsGrid.reload()},l.prototype.preFetchHolds=function(l){var n=this;this.enablePreFetch=l,l&&setTimeout(function(){return n.holdsGrid.reload()}),this.preFetchSetting&&this.store.setItem(this.preFetchSetting,l)},l.prototype.applyFilters=function(){var l={is_staff_request:!0,fulfillment_time:this._showFulfilledSince?this._showFulfilledSince.toISOString():null,cancel_time:this._showCanceledSince?this._showCanceledSince.toISOString():null};return this.pickupLib&&(l.pickup_lib=this.org.descendants(this.pickupLib,!0)),this._recordId&&(l.record_id=this._recordId),this._userId&&(l.usr_id=this._userId),l},l.prototype.fetchHolds=function(l,n){var u=this;if(!this._recordId&&!this.pickupLib&&!this._userId)return Object(Qn.a)([]);var e=this.applyFilters(),t=[];n.length>0&&n.forEach(function(l){var n={};n[l.name]={dir:l.dir,nulls:"last"},t.push(n)});var a,r=this.enablePreFetch?null:l.limit,o=this.enablePreFetch?0:l.offset,i=new mt.a(function(l){return a=l});this.progressDialog.open(),this.progressDialog.update({value:0,max:1});var c=!0,s=0;return this.net.request("open-ils.circ","open-ils.circ.hold.wide_hash.stream",this.auth.token(),e,t,r,o).subscribe(function(l){c?(u.holdsCount=Number(l),c=!1):(u.progressDialog.update({value:++s,max:u.holdsCount}),a.next(l))},function(l){u.progressDialog.close(),a.error(l)},function(){u.progressDialog.close(),a.complete()}),i},l.prototype.showDetails=function(l){this.showDetail(l[0])},l.prototype.showDetail=function(l){l&&(this.mode="detail",this.detailHold=l)},l.prototype.showManager=function(l){l.length&&(this.mode="manage",this.editHolds=l.map(function(l){return l.id}))},l.prototype.handleModify=function(l){var n=this;this.mode="list",l&&setTimeout(function(){return n.holdsGrid.reload()})},l.prototype.showRecentCircs=function(l){l.length&&window.open("/eg/staff/cat/item/"+l[0].cp_id+"/circ_list","_blank")},l.prototype.showPatron=function(l){l.length&&window.open("/eg/staff/circ/patron/"+l[0].usr_id+"/checkout","_blank")},l.prototype.showManageDialog=function(l){var n=this,u=l.map(function(l){return l.id}).filter(function(l){return Boolean(l)});u.length>0&&(this.manageDialog.holdIds=u,this.manageDialog.open({size:"lg"}).subscribe(function(l){l&&n.holdsGrid.reload()}))},l.prototype.showTransferDialog=function(l){var n=this,u=l.map(function(l){return l.id}).filter(function(l){return Boolean(l)});u.length>0&&(this.transferDialog.holdIds=u,this.transferDialog.open({}).subscribe(function(l){l&&n.holdsGrid.reload()}))},l.prototype.showMarkDamagedDialog=function(l){return ft(this,void 0,void 0,function(){var n,u,e,t=this;return vt(this,function(a){switch(a.label){case 0:return 0===(n=l.map(function(l){return l.cp_id}).filter(function(l){return Boolean(l)})).length?[2]:(u=!1,[4,(e=function(l){return ft(t,void 0,void 0,function(){return vt(this,function(n){return 0===l.length?[2,Promise.resolve()]:(this.markDamagedDialog.copyId=l.pop(),[2,this.markDamagedDialog.open({size:"lg"}).subscribe(function(n){return n&&(u=!0),e(l)},function(n){return e(l)})])})})})(n)]);case 1:return a.sent(),u&&this.holdsGrid.reload(),[2]}})})},l.prototype.showMarkMissingDialog=function(l){var n=this,u=l.map(function(l){return l.cp_id}).filter(function(l){return Boolean(l)});u.length>0&&(this.markMissingDialog.copyIds=u,this.markMissingDialog.open({}).subscribe(function(l){l&&n.holdsGrid.reload()}))},l.prototype.showRetargetDialog=function(l){var n=this,u=l.map(function(l){return l.id}).filter(function(l){return Boolean(l)});u.length>0&&(this.retargetDialog.holdIds=u,this.retargetDialog.open({}).subscribe(function(l){l&&n.holdsGrid.reload()}))},l.prototype.showCancelDialog=function(l){var n=this,u=l.map(function(l){return l.id}).filter(function(l){return Boolean(l)});u.length>0&&(this.cancelDialog.holdIds=u,this.cancelDialog.open({}).subscribe(function(l){l&&n.holdsGrid.reload()}))},l.prototype.printHolds=function(){var l=this,n=new On.a;n.offset=0,n.limit=null,0===this.gridDataSource.sort.length&&(this.gridDataSource.sort=this.defaultSort),this.gridDataSource.requestPage(n).then(function(){l.gridDataSource.data.length>0&&l.printer.print({templateName:l.printTemplate||"holds_for_bib",contextData:l.gridDataSource.data,printContext:"default"})})},l}(),Ct=e.pb({encapsulation:2,styles:[],data:{}});function kt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"eg-hold-detail",[],null,[[null,"onShowList"]],function(l,n,u){var e=!0;return"onShowList"===n&&(e=!1!==(l.component.mode="list")&&e),e},Uu,Du)),e.qb(2,114688,null,0,Tu,[Q.b,h.a,d.a],{wideHold:[0,"wideHold"]},{onShowList:"onShowList"})],function(l,n){l(n,2,0,n.component.detailHold)},null)}function wt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,1,"div",[["class","input-group-text"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Pickup Library"])),(l()(),e.rb(6,0,null,null,1,"eg-org-select",[],null,[[null,"onChange"]],function(l,n,u){var e=!0;return"onChange"===n&&(e=!1!==l.component.pickupLibChanged(u)&&e),e},s.b,s.a)),e.qb(7,114688,null,0,b.a,[d.a,p.a,h.a,g.a],{initialOrg:[0,"initialOrg"]},{onChange:"onChange"})],function(l,n){l(n,7,0,n.component.pickupLib)},null)}function Bt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),e.Jb(1,null,[" "," "]))],null,function(l,n){l(n,0,0,e.tb(1,"/eg/staff/cat/item/",n.context.row.cp_id,"/summary")),l(n,1,0,n.context.row.cp_barcode)})}function xt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),e.Jb(1,null,[" "," "]))],null,function(l,n){l(n,0,0,e.tb(1,"/eg/staff/circ/patron/",n.context.row.usr_id,"/checkout")),l(n,1,0,n.context.row.ucard_barcode)})}function qt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"a",[["class","no-href"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,1).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.qb(1,671744,null,0,m.n,[m.l,m.a,i.m],{routerLink:[0,"routerLink"]},null),(l()(),e.Jb(2,null,[" "," "]))],function(l,n){l(n,1,0,e.tb(1,"/staff/catalog/record/",n.context.row.record_id,""))},function(l,n){l(n,0,0,e.Bb(n,1).target,e.Bb(n,1).href),l(n,2,0,n.context.row.title)})}function _t(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,291,null,null,null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,wt)),e.qb(2,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(3,0,null,null,288,"eg-grid",[],null,[[null,"onRowActivate"]],function(l,n,u){var e=!0;return"onRowActivate"===n&&(e=!1!==l.component.showDetail(u)&&e),e},Kn.b,Kn.a)),e.qb(4,4440064,[[1,4],["holdsGrid",4]],0,$n.a,[W.a,h.a,B.a,Vn.a],{dataSource:[0,"dataSource"],sortable:[1,"sortable"],multiSortable:[2,"multiSortable"],useLocalSort:[3,"useLocalSort"],persistKey:[4,"persistKey"]},{onRowActivate:"onRowActivate"}),(l()(),e.rb(5,0,null,null,1,"eg-grid-toolbar-checkbox",[["label","Pre-Fetch All Holds"]],null,[[null,"onChange"]],function(l,n,u){var e=!0;return"onChange"===n&&(e=!1!==l.component.preFetchHolds(u)&&e),e},ju.b,ju.a)),e.qb(6,114688,null,0,Ku.a,[$n.a],{label:[0,"label"],initialValue:[1,"initialValue"]},{onChange:"onChange"}),(l()(),e.rb(7,0,null,null,1,"eg-grid-toolbar-action",[["group","Hold"],["label","Show Hold Details"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.showDetails(u)&&e),e},$u.b,$u.a)),e.qb(8,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(9,0,null,null,1,"eg-grid-toolbar-action",[["group","Hold"],["label","Modify Hold(s)"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.showManageDialog(u)&&e),e},$u.b,$u.a)),e.qb(10,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(11,0,null,null,1,"eg-grid-toolbar-action",[["group","Item"],["label","Show Last Few Circulations"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.showRecentCircs(u)&&e),e},$u.b,$u.a)),e.qb(12,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(13,0,null,null,1,"eg-grid-toolbar-action",[["group","Patron"],["label","Retrieve Patron"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.showPatron(u)&&e),e},$u.b,$u.a)),e.qb(14,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(15,0,null,null,1,"eg-grid-toolbar-action",[["group","Hold"],["label","Transfer To Marked Title"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.showTransferDialog(u)&&e),e},$u.b,$u.a)),e.qb(16,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(17,0,null,null,1,"eg-grid-toolbar-action",[["group","Item"],["label","Mark Item Damaged"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.showMarkDamagedDialog(u)&&e),e},$u.b,$u.a)),e.qb(18,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(19,0,null,null,1,"eg-grid-toolbar-action",[["group","Item"],["label","Mark Item Missing"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.showMarkMissingDialog(u)&&e),e},$u.b,$u.a)),e.qb(20,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(21,0,null,null,1,"eg-grid-toolbar-action",[["group","Hold"],["label","Find Another Target"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.showRetargetDialog(u)&&e),e},$u.b,$u.a)),e.qb(22,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(23,0,null,null,1,"eg-grid-toolbar-action",[["group","Hold"],["i18-group",""],["label","Cancel Hold"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.showCancelDialog(u)&&e),e},$u.b,$u.a)),e.qb(24,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(25,0,null,null,1,"eg-grid-toolbar-action",[["group","Hold"],["i18-group",""],["label","Print Holds"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.printHolds()&&e),e},$u.b,$u.a)),e.qb(26,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(27,0,null,null,1,"eg-grid-column",[["datatype","id"],["label","Hold ID"],["path","id"]],null,null,null,zn.b,zn.a)),e.qb(28,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],index:[2,"index"],datatype:[3,"datatype"]},null),(l()(),e.ib(0,[["barcodeTmpl",2]],null,0,null,Bt)),(l()(),e.rb(30,0,null,null,1,"eg-grid-column",[["label","Current Item"],["name","cp_barcode"]],null,null,null,zn.b,zn.a)),e.qb(31,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],label:[1,"label"],cellTemplate:[2,"cellTemplate"]},null),(l()(),e.ib(0,[["userBarcodeTmpl",2]],null,0,null,xt)),(l()(),e.rb(33,0,null,null,1,"eg-grid-column",[["label","Patron Barcode"]],null,null,null,zn.b,zn.a)),e.qb(34,114688,null,0,Wn.a,[$n.a],{label:[0,"label"],hidden:[1,"hidden"],cellTemplate:[2,"cellTemplate"]},null),(l()(),e.rb(35,0,null,null,1,"eg-grid-column",[["label","Patron alias"],["path","usr_alias"]],null,null,null,zn.b,zn.a)),e.qb(36,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"]},null),(l()(),e.rb(37,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Request Date"],["path","request_time"]],null,null,null,zn.b,zn.a)),e.qb(38,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],datatype:[2,"datatype"]},null),(l()(),e.rb(39,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Capture Date"],["path","capture_time"]],null,null,null,zn.b,zn.a)),e.qb(40,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],datatype:[2,"datatype"]},null),(l()(),e.rb(41,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Available Date"],["path","shelf_time"]],null,null,null,zn.b,zn.a)),e.qb(42,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],datatype:[2,"datatype"]},null),(l()(),e.rb(43,0,null,null,1,"eg-grid-column",[["label","Hold Type"],["path","hold_type"]],null,null,null,zn.b,zn.a)),e.qb(44,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"]},null),(l()(),e.rb(45,0,null,null,1,"eg-grid-column",[["label","Pickup Library"],["path","pl_shortname"]],null,null,null,zn.b,zn.a)),e.qb(46,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"]},null),(l()(),e.ib(0,[["titleTmpl",2]],null,0,null,qt)),(l()(),e.rb(48,0,null,null,1,"eg-grid-column",[["label","Title"],["name","title"]],null,null,null,zn.b,zn.a)),e.qb(49,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],label:[1,"label"],hidden:[2,"hidden"],cellTemplate:[3,"cellTemplate"]},null),(l()(),e.rb(50,0,null,null,1,"eg-grid-column",[["label","Author"],["path","author"]],null,null,null,zn.b,zn.a)),e.qb(51,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(52,0,null,null,1,"eg-grid-column",[["datatype","int"],["label","Potential Items"],["path","potentials"]],null,null,null,zn.b,zn.a)),e.qb(53,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],datatype:[2,"datatype"]},null),(l()(),e.rb(54,0,null,null,1,"eg-grid-column",[["label","Status"],["path","status_string"]],null,null,null,zn.b,zn.a)),e.qb(55,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"]},null),(l()(),e.rb(56,0,null,null,1,"eg-grid-column",[["datatype","int"],["label","Queue Position"],["path","relative_queue_position"]],null,null,null,zn.b,zn.a)),e.qb(57,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(58,0,null,null,1,"eg-grid-column",[["label","User ID"],["path","usr_id"]],null,null,null,zn.b,zn.a)),e.qb(59,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(60,0,null,null,1,"eg-grid-column",[["label","Username"],["path","usr_usrname"]],null,null,null,zn.b,zn.a)),e.qb(61,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(62,0,null,null,1,"eg-grid-column",[["label","First Name"],["path","usr_first_given_name"]],null,null,null,zn.b,zn.a)),e.qb(63,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(64,0,null,null,1,"eg-grid-column",[["label","Last Name"],["path","usr_family_name"]],null,null,null,zn.b,zn.a)),e.qb(65,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(66,0,null,null,1,"eg-grid-column",[["label","Requestor ID"],["path","rusr_id"]],null,null,null,zn.b,zn.a)),e.qb(67,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(68,0,null,null,1,"eg-grid-column",[["label","Requestor Username"],["path","rusr_usrname"]],null,null,null,zn.b,zn.a)),e.qb(69,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(70,0,null,null,1,"eg-grid-column",[["label","Item Status"],["path","cs_name"]],null,null,null,zn.b,zn.a)),e.qb(71,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(72,0,null,null,1,"eg-grid-column",[["label","CN Prefix"],["path","acnp_label"]],null,null,null,zn.b,zn.a)),e.qb(73,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(74,0,null,null,1,"eg-grid-column",[["label","CN Suffix"],["path","acns_label"]],null,null,null,zn.b,zn.a)),e.qb(75,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(76,0,null,null,1,"eg-grid-column",[["parent-idl-class","mvr"],["path","mvr.*"]],null,null,null,zn.b,zn.a)),e.qb(77,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],hidden:[1,"hidden"]},null),(l()(),e.rb(78,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Fulfillment Date/Time"],["path","fulfillment_time"]],null,null,null,zn.b,zn.a)),e.qb(79,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(80,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Checkin Time"],["path","checkin_time"]],null,null,null,zn.b,zn.a)),e.qb(81,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(82,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Return Time"],["path","return_time"]],null,null,null,zn.b,zn.a)),e.qb(83,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(84,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Last Targeting Date/Time"],["path","prev_check_time"]],null,null,null,zn.b,zn.a)),e.qb(85,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(86,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Expire Time"],["path","expire_time"]],null,null,null,zn.b,zn.a)),e.qb(87,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(88,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Hold Cancel Date/Time"],["path","cancel_time"]],null,null,null,zn.b,zn.a)),e.qb(89,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(90,0,null,null,1,"eg-grid-column",[["label","Cancelation note"],["path","cancel_note"]],null,null,null,zn.b,zn.a)),e.qb(91,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(92,0,null,null,1,"eg-grid-column",[["label","Hold Target"],["path","target"]],null,null,null,zn.b,zn.a)),e.qb(93,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(94,0,null,null,1,"eg-grid-column",[["label","Current Item"],["path","current_copy"]],null,null,null,zn.b,zn.a)),e.qb(95,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(96,0,null,null,1,"eg-grid-column",[["label","Fulfilling Staff"],["path","fulfillment_staff"]],null,null,null,zn.b,zn.a)),e.qb(97,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(98,0,null,null,1,"eg-grid-column",[["label","Fulfilling Library"],["path","fulfillment_lib"]],null,null,null,zn.b,zn.a)),e.qb(99,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(100,0,null,null,1,"eg-grid-column",[["label","Requesting Library"],["path","request_lib"]],null,null,null,zn.b,zn.a)),e.qb(101,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(102,0,null,null,1,"eg-grid-column",[["label","Requesting User"],["path","requestor"]],null,null,null,zn.b,zn.a)),e.qb(103,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(104,0,null,null,1,"eg-grid-column",[["label","User"],["path","usr"]],null,null,null,zn.b,zn.a)),e.qb(105,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(106,0,null,null,1,"eg-grid-column",[["label","Selection Library"],["path","selection_ou"]],null,null,null,zn.b,zn.a)),e.qb(107,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(108,0,null,null,1,"eg-grid-column",[["label","Item Selection Depth"],["path","selection_depth"]],null,null,null,zn.b,zn.a)),e.qb(109,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(110,0,null,null,1,"eg-grid-column",[["label","Holdable Formats (for M-type hold)"],["path","holdable_formats"]],null,null,null,zn.b,zn.a)),e.qb(111,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(112,0,null,null,1,"eg-grid-column",[["label","Notifications Phone Number"],["path","phone_notify"]],null,null,null,zn.b,zn.a)),e.qb(113,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(114,0,null,null,1,"eg-grid-column",[["label","Notifications SMS Number"],["path","sms_notify"]],null,null,null,zn.b,zn.a)),e.qb(115,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(116,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Notify by Email?"],["path","email_notify"]],null,null,null,zn.b,zn.a)),e.qb(117,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(118,0,null,null,1,"eg-grid-column",[["label","SMS Carrier"],["path","sms_carrier"]],null,null,null,zn.b,zn.a)),e.qb(119,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(120,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Currently Frozen"],["path","frozen"]],null,null,null,zn.b,zn.a)),e.qb(121,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(122,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Activation Date"],["path","thaw_date"]],null,null,null,zn.b,zn.a)),e.qb(123,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(124,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Top of Queue"],["path","cut_in_line"]],null,null,null,zn.b,zn.a)),e.qb(125,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(126,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Is Mint Condition"],["path","mint_condition"]],null,null,null,zn.b,zn.a)),e.qb(127,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(128,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Shelf Expire Time"],["path","shelf_expire_time"]],null,null,null,zn.b,zn.a)),e.qb(129,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(130,0,null,null,1,"eg-grid-column",[["label","Current Shelf Library"],["path","current_shelf_lib"]],null,null,null,zn.b,zn.a)),e.qb(131,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(132,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Behind Desk"],["path","behind_desk"]],null,null,null,zn.b,zn.a)),e.qb(133,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(134,0,null,null,1,"eg-grid-column",[["label","Status"],["path","hold_status"]],null,null,null,zn.b,zn.a)),e.qb(135,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(136,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Clearable"],["path","clear_me"]],null,null,null,zn.b,zn.a)),e.qb(137,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(138,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Is Staff-placed Hold"],["path","is_staff_hold"]],null,null,null,zn.b,zn.a)),e.qb(139,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(140,0,null,null,1,"eg-grid-column",[["label","Cancelation Cause ID"],["path","cc_id"]],null,null,null,zn.b,zn.a)),e.qb(141,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(142,0,null,null,1,"eg-grid-column",[["label","Cancelation Cause"],["path","cc_label"]],null,null,null,zn.b,zn.a)),e.qb(143,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(144,0,null,null,1,"eg-grid-column",[["label","Pickup Library"],["path","pl_shortname"]],null,null,null,zn.b,zn.a)),e.qb(145,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"]},null),(l()(),e.rb(146,0,null,null,1,"eg-grid-column",[["label","Pickup Library Name"],["path","pl_name"]],null,null,null,zn.b,zn.a)),e.qb(147,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(148,0,null,null,1,"eg-grid-column",[["label","Pickup Library Email"],["path","pl_email"]],null,null,null,zn.b,zn.a)),e.qb(149,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(150,0,null,null,1,"eg-grid-column",[["label","Pickup Library Phone"],["path","pl_phone"]],null,null,null,zn.b,zn.a)),e.qb(151,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(152,0,null,null,1,"eg-grid-column",[["label","Pickup Library Opac Visible"],["path","pl_opac_visible"]],null,null,null,zn.b,zn.a)),e.qb(153,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(154,0,null,null,1,"eg-grid-column",[["label","Transit ID"],["path","tr_id"]],null,null,null,zn.b,zn.a)),e.qb(155,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(156,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Transit Send Time"],["path","tr_source_send_time"]],null,null,null,zn.b,zn.a)),e.qb(157,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(158,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Transit Receive Time"],["path","tr_dest_recv_time"]],null,null,null,zn.b,zn.a)),e.qb(159,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(160,0,null,null,1,"eg-grid-column",[["label","Transit Item"],["path","tr_target_copy"]],null,null,null,zn.b,zn.a)),e.qb(161,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(162,0,null,null,1,"eg-grid-column",[["label","Transit Source"],["path","tr_source"]],null,null,null,zn.b,zn.a)),e.qb(163,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(164,0,null,null,1,"eg-grid-column",[["label","Transit Destination"],["path","tr_dest"]],null,null,null,zn.b,zn.a)),e.qb(165,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(166,0,null,null,1,"eg-grid-column",[["label","Transit Item Status"],["path","tr_copy_status"]],null,null,null,zn.b,zn.a)),e.qb(167,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(168,0,null,null,1,"eg-grid-column",[["label","Transit Hold"],["path","tr_hold"]],null,null,null,zn.b,zn.a)),e.qb(169,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(170,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Transit Cancel Time"],["path","tr_cancel_time"]],null,null,null,zn.b,zn.a)),e.qb(171,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(172,0,null,null,1,"eg-grid-column",[["label","Hold Note Count"],["path","note_count"]],null,null,null,zn.b,zn.a)),e.qb(173,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(174,0,null,null,1,"eg-grid-column",[["label","User Display Name"],["path","usr_display_name"]],null,null,null,zn.b,zn.a)),e.qb(175,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(176,0,null,null,1,"eg-grid-column",[["label","Requestor Username"],["path","rusr_usrname"]],null,null,null,zn.b,zn.a)),e.qb(177,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(178,0,null,null,1,"eg-grid-column",[["label","Item ID"],["path","cp_id"]],null,null,null,zn.b,zn.a)),e.qb(179,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(180,0,null,null,1,"eg-grid-column",[["label","Item Number on Call Number"],["path","cp_copy_number"]],null,null,null,zn.b,zn.a)),e.qb(181,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(182,0,null,null,1,"eg-grid-column",[["label","Fine Level"],["path","cp_fine_level"]],null,null,null,zn.b,zn.a)),e.qb(183,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(184,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Can Circulate"],["path","cp_circulate"]],null,null,null,zn.b,zn.a)),e.qb(185,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(186,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Deposit Amount"],["path","cp_deposit_amount"]],null,null,null,zn.b,zn.a)),e.qb(187,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(188,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Is Deposit Required"],["path","cp_deposit"]],null,null,null,zn.b,zn.a)),e.qb(189,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(190,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Is Reference"],["path","cp_ref"]],null,null,null,zn.b,zn.a)),e.qb(191,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(192,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Is Holdable"],["path","cp_holdable"]],null,null,null,zn.b,zn.a)),e.qb(193,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(194,0,null,null,1,"eg-grid-column",[["label","Price"],["path","cp_price"]],null,null,null,zn.b,zn.a)),e.qb(195,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(196,0,null,null,1,"eg-grid-column",[["label","Item Barcode"],["path","cp_barcode"]],null,null,null,zn.b,zn.a)),e.qb(197,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(198,0,null,null,1,"eg-grid-column",[["label","Circulation Modifier"],["path","cp_circ_modifier"]],null,null,null,zn.b,zn.a)),e.qb(199,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(200,0,null,null,1,"eg-grid-column",[["label","Circulate as MARC Type"],["path","cp_circ_as_type"]],null,null,null,zn.b,zn.a)),e.qb(201,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(202,0,null,null,1,"eg-grid-column",[["label","Precat Dummy Title"],["path","cp_dummy_title"]],null,null,null,zn.b,zn.a)),e.qb(203,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(204,0,null,null,1,"eg-grid-column",[["label","Precat Dummy Author"],["path","cp_dummy_author"]],null,null,null,zn.b,zn.a)),e.qb(205,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(206,0,null,null,1,"eg-grid-column",[["label","Item Alert Message (deprecated)"],["path","cp_alert_message"]],null,null,null,zn.b,zn.a)),e.qb(207,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(208,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Item OPAC Visible"],["path","cp_opac_visible"]],null,null,null,zn.b,zn.a)),e.qb(209,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(210,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Item Deleted"],["path","cp_deleted"]],null,null,null,zn.b,zn.a)),e.qb(211,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(212,0,null,null,1,"eg-grid-column",[["label","Floating Group"],["path","cp_floating"]],null,null,null,zn.b,zn.a)),e.qb(213,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(214,0,null,null,1,"eg-grid-column",[["label","Precat Dummy ISBN"],["path","cp_dummy_isbn"]],null,null,null,zn.b,zn.a)),e.qb(215,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(216,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Item Status Change Time"],["path","cp_status_change_time"]],null,null,null,zn.b,zn.a)),e.qb(217,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(218,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Item Active Date"],["path","cp_active_date"]],null,null,null,zn.b,zn.a)),e.qb(219,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(220,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Item Is Mint Condition"],["path","cp_mint_condition"]],null,null,null,zn.b,zn.a)),e.qb(221,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(222,0,null,null,1,"eg-grid-column",[["label","Cost"],["path","cp_cost"]],null,null,null,zn.b,zn.a)),e.qb(223,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(224,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Status Is Holdable"],["path","cs_holdable"]],null,null,null,zn.b,zn.a)),e.qb(225,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(226,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Status Is OPAC Visible"],["path","cs_opac_visible"]],null,null,null,zn.b,zn.a)),e.qb(227,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(228,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Status Is Item-Active"],["path","cs_copy_active"]],null,null,null,zn.b,zn.a)),e.qb(229,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(230,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Status Is Deleted"],["path","cs_restrict_copy_delete"]],null,null,null,zn.b,zn.a)),e.qb(231,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(232,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Status Is Available"],["path","cs_is_available"]],null,null,null,zn.b,zn.a)),e.qb(233,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(234,0,null,null,1,"eg-grid-column",[["label","Issuance i18n-label label"],["path","issuance_label"]],null,null,null,zn.b,zn.a)),e.qb(235,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(236,0,null,null,1,"eg-grid-column",[["label","Call Number ID"],["path","cn_id"]],null,null,null,zn.b,zn.a)),e.qb(237,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(238,0,null,null,1,"eg-grid-column",[["label","CN i18n-label label"],["path","cn_label"]],null,null,null,zn.b,zn.a)),e.qb(239,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(240,0,null,null,1,"eg-grid-column",[["label","CN i18n-label label Class"],["path","cn_label_class"]],null,null,null,zn.b,zn.a)),e.qb(241,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(242,0,null,null,1,"eg-grid-column",[["label","CN Sort Key"],["path","cn_label_sortkey"]],null,null,null,zn.b,zn.a)),e.qb(243,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(244,0,null,null,1,"eg-grid-column",[["label","Part ID"],["path","p_id"]],null,null,null,zn.b,zn.a)),e.qb(245,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(246,0,null,null,1,"eg-grid-column",[["label","Part i18n-label label"],["path","p_label"]],null,null,null,zn.b,zn.a)),e.qb(247,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(248,0,null,null,1,"eg-grid-column",[["label","Part Sort Key"],["path","p_label_sortkey"]],null,null,null,zn.b,zn.a)),e.qb(249,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(250,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Part Is Deleted"],["path","p_deleted"]],null,null,null,zn.b,zn.a)),e.qb(251,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(252,0,null,null,1,"eg-grid-column",[["label","CN Full i18n-label label"],["path","cn_full_label"]],null,null,null,zn.b,zn.a)),e.qb(253,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(254,0,null,null,1,"eg-grid-column",[["label","Record ID"],["path","record_id"]],null,null,null,zn.b,zn.a)),e.qb(255,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(256,0,null,null,1,"eg-grid-column",[["label","Item Location ID"],["path","acpl_id"]],null,null,null,zn.b,zn.a)),e.qb(257,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(258,0,null,null,1,"eg-grid-column",[["label","Item Location"],["path","acpl_name"]],null,null,null,zn.b,zn.a)),e.qb(259,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(260,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Item Location Holdable"],["path","acpl_holdable"]],null,null,null,zn.b,zn.a)),e.qb(261,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(262,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Item Location Hold-Verify"],["path","acpl_hold_verify"]],null,null,null,zn.b,zn.a)),e.qb(263,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(264,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Item Location OPAC Visible"],["path","acpl_opac_visible"]],null,null,null,zn.b,zn.a)),e.qb(265,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(266,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Item Location Can Circulate"],["path","acpl_circulate"]],null,null,null,zn.b,zn.a)),e.qb(267,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(268,0,null,null,1,"eg-grid-column",[["label","Item Location Prefix"],["path","acpl_label_prefix"]],null,null,null,zn.b,zn.a)),e.qb(269,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(270,0,null,null,1,"eg-grid-column",[["label","Item Location Suffix"],["path","acpl_label_suffix"]],null,null,null,zn.b,zn.a)),e.qb(271,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(272,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Item Location Checkin Alert"],["path","acpl_checkin_alert"]],null,null,null,zn.b,zn.a)),e.qb(273,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(274,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Item Location Is Deleted"],["path","acpl_deleted"]],null,null,null,zn.b,zn.a)),e.qb(275,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null),(l()(),e.rb(276,0,null,null,1,"eg-grid-column",[["label","Item Location URL"],["path","acpl_url"]],null,null,null,zn.b,zn.a)),e.qb(277,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(278,0,null,null,1,"eg-grid-column",[["label","Item Location Order"],["path","copy_location_order_position"]],null,null,null,zn.b,zn.a)),e.qb(279,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(280,0,null,null,1,"eg-grid-column",[["label","Default Estimated Wait Time"],["path","default_estimated_wait"]],null,null,null,zn.b,zn.a)),e.qb(281,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(282,0,null,null,1,"eg-grid-column",[["label","Minimum Estimated Wait Time"],["path","min_estimated_wait"]],null,null,null,zn.b,zn.a)),e.qb(283,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(284,0,null,null,1,"eg-grid-column",[["label","Peer Hold Count"],["path","other_holds"]],null,null,null,zn.b,zn.a)),e.qb(285,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(286,0,null,null,1,"eg-grid-column",[["label","Total Wait Time"],["path","total_wait_time"]],null,null,null,zn.b,zn.a)),e.qb(287,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(288,0,null,null,1,"eg-grid-column",[["label","Notify Count"],["path","notification_count"]],null,null,null,zn.b,zn.a)),e.qb(289,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(290,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Last Notify Time"],["path","last_notification_time"]],null,null,null,zn.b,zn.a)),e.qb(291,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"],datatype:[3,"datatype"]},null)],function(l,n){var u=n.component;l(n,2,0,!u.hidePickupLibFilter),l(n,4,0,u.gridDataSource,!0,!0,u.enablePreFetch,u.persistKey),l(n,6,0,"Pre-Fetch All Holds",u.enablePreFetch),l(n,8,0,"Show Hold Details","Hold"),l(n,10,0,"Modify Hold(s)","Hold"),l(n,12,0,"Show Last Few Circulations","Item"),l(n,14,0,"Retrieve Patron","Patron"),l(n,16,0,"Transfer To Marked Title","Hold"),l(n,18,0,"Mark Item Damaged","Item"),l(n,20,0,"Mark Item Missing","Item"),l(n,22,0,"Find Another Target","Hold"),l(n,24,0,"Cancel Hold","Hold"),l(n,26,0,"Print Holds","Hold"),l(n,28,0,"id","Hold ID",!0,"id"),l(n,31,0,"cp_barcode","Current Item",e.Bb(n,29)),l(n,34,0,"Patron Barcode",!0,e.Bb(n,32)),l(n,36,0,"usr_alias","Patron alias"),l(n,38,0,"request_time","Request Date","timestamp"),l(n,40,0,"capture_time","Capture Date","timestamp"),l(n,42,0,"shelf_time","Available Date","timestamp"),l(n,44,0,"hold_type","Hold Type"),l(n,46,0,"pl_shortname","Pickup Library"),l(n,49,0,"title","Title",!0,e.Bb(n,47)),l(n,51,0,"author","Author",!0),l(n,53,0,"potentials","Potential Items","int"),l(n,55,0,"status_string","Status"),l(n,57,0,"relative_queue_position","Queue Position",!0,"int"),l(n,59,0,"usr_id","User ID",!0),l(n,61,0,"usr_usrname","Username",!0),l(n,63,0,"usr_first_given_name","First Name",!0),l(n,65,0,"usr_family_name","Last Name",!0),l(n,67,0,"rusr_id","Requestor ID",!0),l(n,69,0,"rusr_usrname","Requestor Username",!0),l(n,71,0,"cs_name","Item Status",!0),l(n,73,0,"acnp_label","CN Prefix",!0),l(n,75,0,"acns_label","CN Suffix",!0),l(n,77,0,"mvr.*",!0),l(n,79,0,"fulfillment_time","Fulfillment Date/Time",!0,"timestamp"),l(n,81,0,"checkin_time","Checkin Time",!0,"timestamp"),l(n,83,0,"return_time","Return Time",!0,"timestamp"),l(n,85,0,"prev_check_time","Last Targeting Date/Time",!0,"timestamp"),l(n,87,0,"expire_time","Expire Time",!0,"timestamp"),l(n,89,0,"cancel_time","Hold Cancel Date/Time",!0,"timestamp"),l(n,91,0,"cancel_note","Cancelation note",!0),l(n,93,0,"target","Hold Target",!0),l(n,95,0,"current_copy","Current Item",!0),l(n,97,0,"fulfillment_staff","Fulfilling Staff",!0),l(n,99,0,"fulfillment_lib","Fulfilling Library",!0),l(n,101,0,"request_lib","Requesting Library",!0),l(n,103,0,"requestor","Requesting User",!0),l(n,105,0,"usr","User",!0),l(n,107,0,"selection_ou","Selection Library",!0),l(n,109,0,"selection_depth","Item Selection Depth",!0),l(n,111,0,"holdable_formats","Holdable Formats (for M-type hold)",!0),l(n,113,0,"phone_notify","Notifications Phone Number",!0),l(n,115,0,"sms_notify","Notifications SMS Number",!0),l(n,117,0,"email_notify","Notify by Email?",!0,"bool"),l(n,119,0,"sms_carrier","SMS Carrier",!0),l(n,121,0,"frozen","Currently Frozen",!0,"bool"),l(n,123,0,"thaw_date","Activation Date",!0,"timestamp"),l(n,125,0,"cut_in_line","Top of Queue",!0,"bool"),l(n,127,0,"mint_condition","Is Mint Condition",!0,"bool"),l(n,129,0,"shelf_expire_time","Shelf Expire Time",!0,"timestamp"),l(n,131,0,"current_shelf_lib","Current Shelf Library",!0),l(n,133,0,"behind_desk","Behind Desk",!0,"bool"),l(n,135,0,"hold_status","Status",!0),l(n,137,0,"clear_me","Clearable",!0,"bool"),l(n,139,0,"is_staff_hold","Is Staff-placed Hold",!0,"bool"),l(n,141,0,"cc_id","Cancelation Cause ID",!0),l(n,143,0,"cc_label","Cancelation Cause",!0),l(n,145,0,"pl_shortname","Pickup Library"),l(n,147,0,"pl_name","Pickup Library Name",!0),l(n,149,0,"pl_email","Pickup Library Email",!0),l(n,151,0,"pl_phone","Pickup Library Phone",!0),l(n,153,0,"pl_opac_visible","Pickup Library Opac Visible",!0),l(n,155,0,"tr_id","Transit ID",!0),l(n,157,0,"tr_source_send_time","Transit Send Time",!0,"timestamp"),l(n,159,0,"tr_dest_recv_time","Transit Receive Time",!0,"timestamp"),l(n,161,0,"tr_target_copy","Transit Item",!0),l(n,163,0,"tr_source","Transit Source",!0),l(n,165,0,"tr_dest","Transit Destination",!0),l(n,167,0,"tr_copy_status","Transit Item Status",!0),l(n,169,0,"tr_hold","Transit Hold",!0),l(n,171,0,"tr_cancel_time","Transit Cancel Time",!0,"timestamp"),l(n,173,0,"note_count","Hold Note Count",!0),l(n,175,0,"usr_display_name","User Display Name",!0),l(n,177,0,"rusr_usrname","Requestor Username",!0),l(n,179,0,"cp_id","Item ID",!0),l(n,181,0,"cp_copy_number","Item Number on Call Number",!0),l(n,183,0,"cp_fine_level","Fine Level",!0),l(n,185,0,"cp_circulate","Can Circulate",!0,"bool"),l(n,187,0,"cp_deposit_amount","Deposit Amount",!0,"bool"),l(n,189,0,"cp_deposit","Is Deposit Required",!0,"bool"),l(n,191,0,"cp_ref","Is Reference",!0,"bool"),l(n,193,0,"cp_holdable","Is Holdable",!0,"bool"),l(n,195,0,"cp_price","Price",!0),l(n,197,0,"cp_barcode","Item Barcode",!0),l(n,199,0,"cp_circ_modifier","Circulation Modifier",!0),l(n,201,0,"cp_circ_as_type","Circulate as MARC Type",!0),l(n,203,0,"cp_dummy_title","Precat Dummy Title",!0),l(n,205,0,"cp_dummy_author","Precat Dummy Author",!0),l(n,207,0,"cp_alert_message","Item Alert Message (deprecated)",!0),l(n,209,0,"cp_opac_visible","Item OPAC Visible",!0,"bool"),l(n,211,0,"cp_deleted","Item Deleted",!0,"bool"),l(n,213,0,"cp_floating","Floating Group",!0),l(n,215,0,"cp_dummy_isbn","Precat Dummy ISBN",!0),l(n,217,0,"cp_status_change_time","Item Status Change Time",!0,"timestamp"),l(n,219,0,"cp_active_date","Item Active Date",!0,"timestamp"),l(n,221,0,"cp_mint_condition","Item Is Mint Condition",!0,"bool"),l(n,223,0,"cp_cost","Cost",!0),l(n,225,0,"cs_holdable","Status Is Holdable",!0,"bool"),l(n,227,0,"cs_opac_visible","Status Is OPAC Visible",!0,"bool"),l(n,229,0,"cs_copy_active","Status Is Item-Active",!0,"bool"),l(n,231,0,"cs_restrict_copy_delete","Status Is Deleted",!0,"bool"),l(n,233,0,"cs_is_available","Status Is Available",!0,"bool"),l(n,235,0,"issuance_label","Issuance i18n-label label",!0),l(n,237,0,"cn_id","Call Number ID",!0),l(n,239,0,"cn_label","CN i18n-label label",!0),l(n,241,0,"cn_label_class","CN i18n-label label Class",!0),l(n,243,0,"cn_label_sortkey","CN Sort Key",!0),l(n,245,0,"p_id","Part ID",!0),l(n,247,0,"p_label","Part i18n-label label",!0),l(n,249,0,"p_label_sortkey","Part Sort Key",!0),l(n,251,0,"p_deleted","Part Is Deleted",!0,"bool"),l(n,253,0,"cn_full_label","CN Full i18n-label label",!0),l(n,255,0,"record_id","Record ID",!0),l(n,257,0,"acpl_id","Item Location ID",!0),l(n,259,0,"acpl_name","Item Location",!0),l(n,261,0,"acpl_holdable","Item Location Holdable",!0,"bool"),l(n,263,0,"acpl_hold_verify","Item Location Hold-Verify",!0,"bool"),l(n,265,0,"acpl_opac_visible","Item Location OPAC Visible",!0,"bool"),l(n,267,0,"acpl_circulate","Item Location Can Circulate",!0,"bool"),l(n,269,0,"acpl_label_prefix","Item Location Prefix",!0),l(n,271,0,"acpl_label_suffix","Item Location Suffix",!0),l(n,273,0,"acpl_checkin_alert","Item Location Checkin Alert",!0,"bool"),l(n,275,0,"acpl_deleted","Item Location Is Deleted",!0,"bool"),l(n,277,0,"acpl_url","Item Location URL",!0),l(n,279,0,"copy_location_order_position","Item Location Order",!0),l(n,281,0,"default_estimated_wait","Default Estimated Wait Time",!0),l(n,283,0,"min_estimated_wait","Minimum Estimated Wait Time",!0),l(n,285,0,"other_holds","Peer Hold Count",!0),l(n,287,0,"total_wait_time","Total Wait Time",!0),l(n,289,0,"notification_count","Notify Count",!0),l(n,291,0,"last_notification_time","Last Notify Time",!0,"timestamp")},null)}function It(l){return e.Lb(0,[e.Hb(671088640,1,{holdsGrid:0}),e.Hb(402653184,2,{progressDialog:0}),e.Hb(402653184,3,{transferDialog:0}),e.Hb(402653184,4,{markDamagedDialog:0}),e.Hb(402653184,5,{markMissingDialog:0}),e.Hb(402653184,6,{retargetDialog:0}),e.Hb(402653184,7,{cancelDialog:0}),e.Hb(402653184,8,{manageDialog:0}),(l()(),e.rb(8,0,null,null,1,"eg-progress-dialog",[],null,null,null,zu.b,zu.a)),e.qb(9,114688,[[2,4],["progressDialog",4]],0,Wu.a,[c.B],null,null),(l()(),e.rb(10,0,null,null,1,"eg-hold-transfer-dialog",[],null,null,null,ae,le)),e.qb(11,114688,[[3,4],["transferDialog",4]],0,Yu,[c.B,z.a,p.a,Q.b,Z.a,d.a],null,null),(l()(),e.rb(12,0,null,null,1,"eg-mark-damaged-dialog",[],null,null,null,ge,ce)),e.qb(13,114688,[[4,4],["markDamagedDialog",4]],0,ie,[c.B,z.a,Q.b,Z.a,wn.a,h.a,$l.a,d.a],null,null),(l()(),e.rb(14,0,null,null,1,"eg-mark-missing-dialog",[],null,null,null,xe,ye)),e.qb(15,114688,[[5,4],["markMissingDialog",4]],0,ve,[c.B,z.a,Q.b,Z.a,d.a],null,null),(l()(),e.rb(16,0,null,null,1,"eg-hold-retarget-dialog",[],null,null,null,Le,Me)),e.qb(17,114688,[[6,4],["retargetDialog",4]],0,Ie,[c.B,z.a,Q.b,Z.a,d.a],null,null),(l()(),e.rb(18,0,null,null,1,"eg-hold-cancel-dialog",[],null,null,null,Ge,He)),e.qb(19,114688,[[7,4],["cancelDialog",4]],0,Fe,[c.B,z.a,Q.b,Z.a,wn.a,d.a],null,null),(l()(),e.rb(20,0,null,null,1,"eg-hold-manage-dialog",[],null,null,null,gt,bt)),e.qb(21,114688,[[8,4],["manageDialog",4]],0,st,[c.B],null,null),(l()(),e.rb(22,0,null,null,4,"div",[["class","eg-holds w-100 mt-3"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,kt)),e.qb(24,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,_t)),e.qb(26,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,9,0),l(n,11,0),l(n,13,0),l(n,15,0),l(n,17,0),l(n,19,0),l(n,21,0),l(n,24,0,"detail"==u.mode),l(n,26,0,"list"==u.mode&&u.initComplete())},null)}var Mt=function(l){function n(n,u,e){var t=l.call(this,e)||this;return t.idl=n,t.pcrud=u,t.modal=e,t}return Object(w.c)(n,l),n.prototype.mergeParts=function(){var l=this;if(console.log("Merging parts into lead part ",this.leadPart),this.leadPart){this.leadPart=Number(this.leadPart);var n=this.parts.filter(function(n){return Number(n.id())!==l.leadPart}).map(function(l){return Number(l.id())}),u=[];this.pcrud.search("acpm",{part:n}).subscribe(function(n){n.part(l.leadPart),n.ischanged(!0),u.push(n)},function(l){},function(){u.length>0?l.pcrud.autoApply(u).toPromise().then(function(){return l.deleteParts()}):l.deleteParts()})}},n.prototype.deleteParts=function(){var l=this,n=this.parts.filter(function(n){return Number(n.id())!==l.leadPart});n.forEach(function(l){return l.isdeleted(!0)}),this.pcrud.autoApply(n).toPromise().then(function(n){return l.close(n)})},n}(x.a),St=e.pb({encapsulation:2,styles:[],data:{}});function Pt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,10,"div",[["class","col-lg-10 offset-lg-1"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,9,"div",[["class","form-check"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,6,"input",[["class","form-check-input"],["name","lead"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,4)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,4).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,4)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,4)._compositionEnd(u.target.value)&&t),"change"===n&&(t=!1!==e.Bb(l,5).onChange()&&t),"blur"===n&&(t=!1!==e.Bb(l,5).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.leadPart=u)&&t),t},null,null)),e.qb(4,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.qb(5,212992,null,0,o.u,[e.E,e.k,o.D,e.r],{name:[0,"name"],value:[1,"value"]},null),e.Gb(1024,null,o.n,function(l,n){return[l,n]},[o.d,o.u]),e.qb(7,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(9,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(10,0,null,null,1,"label",[["class","form-check-label"]],null,null,null,null,null)),(l()(),e.Jb(11,null,["",""]))],function(l,n){var u=n.component,t=e.tb(1,"",n.context.$implicit.id(),"");l(n,5,0,"lead",t),l(n,7,0,"lead",u.leadPart)},function(l,n){l(n,3,0,e.Bb(n,9).ngClassUntouched,e.Bb(n,9).ngClassTouched,e.Bb(n,9).ngClassPristine,e.Bb(n,9).ngClassDirty,e.Bb(n,9).ngClassValid,e.Bb(n,9).ngClassInvalid,e.Bb(n,9).ngClassPending);var u=n.context.$implicit.label();l(n,11,0,u)})}function Tt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,5,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Merge Monograph Parts"])),(l()(),e.rb(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.rb(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xd7"])),(l()(),e.rb(6,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.rb(7,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Select a Lead Part"])),(l()(),e.ib(16777216,null,null,1,null,Pt)),e.qb(10,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(11,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.rb(12,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.mergeParts()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Merge"])),(l()(),e.rb(14,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Cancel"]))],function(l,n){l(n,10,0,n.component.parts)},null)}function Dt(l){return e.Lb(0,[e.Hb(402653184,1,{dialogContent:0}),(l()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,Tt))],null,null)}var Lt=u("Id+k"),Et=u("eXX1"),Jt=u("7Apk"),Ft=u("UUQ6"),Ht=function(){function l(l,n,u,e){this.idl=l,this.org=n,this.pcrud=u,this.perm=e,this.permissions={},this.gridDataSource=new Xn.c}return Object.defineProperty(l.prototype,"recordId",{set:function(l){this.recId=l,this.initDone&&this.partsGrid.reload()},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var l=this;this.initDone=!0,this.perm.hasWorkPermHere(["CREATE_MONOGRAPH_PART","UPDATE_MONOGRAPH_PART","DELETE_MONOGRAPH_PART"]).then(function(n){return l.permissions=n}),this.gridDataSource.getRows=function(n,u){var e={};return e.bmp=u.length?u[0].name+" "+u[0].dir:"label",l.pcrud.search("bmp",{record:l.recId,deleted:"f"},{offset:n.offset,limit:n.limit,order_by:e})},this.partsGrid.onRowActivate.subscribe(function(n){l.editDialog.mode="update",l.editDialog.recordId=n.id(),l.editDialog.open().subscribe(function(n){return l.partsGrid.reload()})}),this.createNew=function(){var n=l.idl.create("bmp");n.record(l.recordId),l.editDialog.record=n,l.editDialog.mode="create",l.editDialog.open().subscribe(function(n){return l.partsGrid.reload()})},this.deleteSelected=function(n){n.forEach(function(l){return l.isdeleted(!0)}),l.pcrud.autoApply(n).subscribe(function(l){return console.debug("deleted: "+l)},function(l){},function(){return l.partsGrid.reload()})},this.mergeSelected=function(n){n.length<2||(l.mergeDialog.parts=n,l.mergeDialog.open().subscribe(function(n){return l.partsGrid.reload()}))}},l}(),At=e.pb({encapsulation:2,styles:[],data:{}});function Nt(l){return e.Lb(0,[e.Hb(402653184,1,{partsGrid:0}),e.Hb(402653184,2,{editDialog:0}),e.Hb(402653184,3,{mergeDialog:0}),(l()(),e.rb(3,0,null,null,1,"eg-catalog-part-merge-dialog",[],null,null,null,Dt,St)),e.qb(4,114688,[[3,4],["mergeDialog",4]],0,Mt,[W.a,wn.a,c.B],null,null),(l()(),e.rb(5,0,null,null,10,"div",[["class","mt-3"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,7,"eg-grid",[["class","mt-3"],["idlClass","bmp"],["persistKey","catalog.record.parts"],["showFields","id,label"]],null,null,null,Kn.b,Kn.a)),e.qb(7,4440064,[[1,4],["partsGrid",4]],0,$n.a,[W.a,h.a,B.a,Vn.a],{dataSource:[0,"dataSource"],idlClass:[1,"idlClass"],sortable:[2,"sortable"],persistKey:[3,"persistKey"],showFields:[4,"showFields"]},null),(l()(),e.rb(8,0,null,null,1,"eg-grid-toolbar-button",[["label","New Monograph Part"]],null,null,null,Lt.b,Lt.a)),e.qb(9,114688,null,0,Et.a,[$n.a],{label:[0,"label"],action:[1,"action"],disabled:[2,"disabled"]},null),(l()(),e.rb(10,0,null,null,1,"eg-grid-toolbar-action",[["label","Merge Selected"]],null,null,null,$u.b,$u.a)),e.qb(11,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],action:[1,"action"]},null),(l()(),e.rb(12,0,null,null,1,"eg-grid-toolbar-action",[["label","Delete Selected"]],null,null,null,$u.b,$u.a)),e.qb(13,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],action:[1,"action"]},null),(l()(),e.rb(14,0,null,null,1,"eg-fm-record-editor",[["hiddenFields","record,label_sortkey,deleted"],["idlClass","bmp"]],null,null,null,Jt.b,Jt.a)),e.qb(15,114688,[[2,4],["editDialog",4]],0,Ft.a,[c.B,W.a,d.a,z.a,Vn.a,wn.a],{idlClass:[0,"idlClass"],hiddenFields:[1,"hiddenFields"]},null)],function(l,n){var u=n.component;l(n,4,0),l(n,7,0,u.gridDataSource,"bmp",!0,"catalog.record.parts","id,label"),l(n,9,0,"New Monograph Part",u.createNew,!u.permissions.CREATE_MONOGRAPH_PART),l(n,11,0,"Merge Selected",u.mergeSelected),l(n,13,0,"Delete Selected",u.deleteSelected),l(n,15,0,"bmp","record,label_sortkey,deleted")},null)}var Ot=u("5UYh"),Rt=u("LZHW"),Gt=function(l){function n(n,u,e,t,a,r,o){var i=l.call(this,n)||this;return i.modal=n,i.toast=u,i.net=e,i.idl=t,i.pcrud=a,i.org=r,i.auth=o,i.copyIds=[],i.copies=[],i}return Object(w.c)(n,l),Object.defineProperty(n.prototype,"copyIds",{get:function(){return this._copyIds},set:function(l){this._copyIds=[].concat(l)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mode",{get:function(){return this._mode},set:function(l){this._mode=l},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n.prototype.open=function(n){var u=this;return this.copy=null,this.copies=[],this.newAlert=this.idl.create("aca"),this.newAlert.create_staff(this.auth.user().id()),0===this.copyIds.length?Object(Qu.a)("copy ID required"):("manage"===this.mode&&this.copyIds.length>1&&(console.warn("Attempt to manage alerts for multiple copies."),this.copyIds=[this.copyIds[0]]),Object(re.a)(this.getAlertTypes().then(function(l){return u.getCopies()}).then(function(l){return"manage"===u.mode?u.getCopyAlerts():null})).pipe(Object(oe.a)(function(e){return l.prototype.open.call(u,n)})))},n.prototype.getAlertTypes=function(){var l=this;return this.alertTypes?Promise.resolve():this.pcrud.retrieveAll("ccat",{active:!0,scope_org:this.org.ancestors(this.auth.user().ws_ou(),!0)},{atomic:!0}).toPromise().then(function(n){l.alertTypes=n.map(function(l){return{id:l.id(),label:l.name()}})})},n.prototype.getCopies=function(){var l=this;return this.pcrud.search("acp",{id:this.copyIds},{},{atomic:!0}).toPromise().then(function(n){l.copies=n,n.forEach(function(l){return l.copy_alerts([])}),"manage"===l.mode&&(l.copy=n[0])})},n.prototype.getCopyAlerts=function(){var l=this,n=this.copies.map(function(l){return l.id()}),u=this.alertTypes.map(function(l){return l.id});return this.pcrud.search("aca",{copy:n,ack_time:null,alert_type:u},{},{atomic:!0}).toPromise().then(function(n){n.forEach(function(n){l.copies.filter(function(l){return l.id()===n.copy()})[0].copy_alerts().push(n)})})},n.prototype.addNew=function(){var l=this;if(this.newAlert.alert_type()){var n=[];this.copies.forEach(function(u){var e=l.idl.clone(l.newAlert);e.copy(u.id()),n.push(e)}),this.pcrud.create(n).toPromise().then(function(n){l.successMsg.current().then(function(n){return l.toast.success(n)}),l.changesMade=!0,"create"===l.mode?l.close(l.changesMade):l.copy.copy_alerts().push(n)},function(n){l.errorMsg.current().then(function(n){return l.toast.danger(n)})})}},n.prototype.applyChanges=function(){var l=this,n=this.copy.copy_alerts().filter(function(l){return l.ischanged()});0!==n.length&&this.pcrud.update(n).toPromise().then(function(n){return l.successMsg.current().then(function(n){return l.toast.success(n)})},function(n){return l.errorMsg.current().then(function(n){return l.toast.danger(n)})})},n}(x.a),Ut=e.pb({encapsulation:2,styles:[],data:{}});function jt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(2,null,["Adding alerts for "," item(s)."]))],null,function(l,n){l(n,2,0,n.component.copies.length)})}function Kt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(2,null,["Managing alerts for item ",""]))],null,function(l,n){l(n,2,0,n.component.copies[0].barcode())})}function $t(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,37,"div",[["class","row mt-2"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","col-lg-12 pb-2"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,6,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,2,"eg-combobox",[["placeholder","Alert Type..."]],null,[[null,"onChange"]],function(l,n,u){var e=!0;return"onChange"===n&&(l.context.$implicit.alert_type(u?u.id:null),e=!1!==l.context.$implicit.ischanged(!0)&&e),e},fu.b,fu.a)),e.Gb(5120,null,o.n,function(l){return[l]},[cu.a]),e.qb(6,114688,null,0,cu.a,[e.k,p.a,W.a,wn.a],{placeholder:[0,"placeholder"],required:[1,"required"],startId:[2,"startId"],entries:[3,"entries"]},{onChange:"onChange"}),(l()(),e.rb(7,0,null,null,2,"div",[["class","pl-2 pt-2"]],null,null,null,null,null)),(l()(),e.Jb(8,null,[" Added: "," "])),e.Fb(9,2),(l()(),e.rb(10,0,null,null,7,"div",[["class","col-lg-5"]],null,null,null,null,null)),(l()(),e.rb(11,0,null,null,6,"textarea",[["class","form-control"],["placeholder","Alert Note..."],["rows","2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Bb(l,12)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,12).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,12)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,12)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(l.context.$implicit.note(u),t=!1!==l.context.$implicit.ischanged(!0)&&t),t},null,null)),e.qb(12,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(14,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(16,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.Jb(-1,null,["          "])),(l()(),e.rb(18,0,null,null,19,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(19,0,null,null,18,"div",[["class","d-flex flex-column"]],null,null,null,null,null)),(l()(),e.rb(20,0,null,null,8,"div",[["class","form-check"]],null,null,null,null,null)),(l()(),e.rb(21,0,null,null,5,"input",[["class","form-check-input"],["type","checkbox"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0;return"change"===n&&(t=!1!==e.Bb(l,22).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,22).onTouched()&&t),"ngModelChange"===n&&(l.context.$implicit.temp(u?"t":"f"),t=!1!==l.context.$implicit.ischanged(!0)&&t),t},null,null)),e.qb(22,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(24,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(26,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(27,0,null,null,1,"label",[["class","form-check-label"]],[[8,"htmlFor",0]],null,null,null,null)),(l()(),e.Jb(-1,null,[" Temporary? "])),(l()(),e.rb(29,0,null,null,8,"div",[["class","form-check pt-2"]],null,null,null,null,null)),(l()(),e.rb(30,0,null,null,5,"input",[["class","form-check-input"],["type","checkbox"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0;return"change"===n&&(t=!1!==e.Bb(l,31).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,31).onTouched()&&t),"ngModelChange"===n&&(l.context.$implicit.ack_time(u?"now":null),t=!1!==l.context.$implicit.ischanged(!0)&&t),t},null,null)),e.qb(31,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(33,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(35,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(36,0,null,null,1,"label",[["class","form-check-label"]],[[8,"htmlFor",0]],null,null,null,null)),(l()(),e.Jb(-1,null,[" Clear? "]))],function(l,n){var u=n.component,e=n.context.$implicit.alert_type();l(n,6,0,"Alert Type...",!0,e,u.alertTypes);var t=n.context.$implicit.note();l(n,14,0,t);var a="t"==n.context.$implicit.temp();l(n,24,0,a);var r=null!=n.context.$implicit.ack_time();l(n,33,0,r)},function(l,n){var u=e.Kb(n,8,0,l(n,9,0,e.Bb(n.parent.parent.parent,0),n.context.$implicit.create_time(),"shortDate"));l(n,8,0,u),l(n,11,0,e.Bb(n,16).ngClassUntouched,e.Bb(n,16).ngClassTouched,e.Bb(n,16).ngClassPristine,e.Bb(n,16).ngClassDirty,e.Bb(n,16).ngClassValid,e.Bb(n,16).ngClassInvalid,e.Bb(n,16).ngClassPending);var t=e.tb(1,"alert-temporary-",n.context.$implicit.id(),"");l(n,21,0,t,e.Bb(n,26).ngClassUntouched,e.Bb(n,26).ngClassTouched,e.Bb(n,26).ngClassPristine,e.Bb(n,26).ngClassDirty,e.Bb(n,26).ngClassValid,e.Bb(n,26).ngClassInvalid,e.Bb(n,26).ngClassPending);var a=e.tb(1,"alert-temporary-",n.context.$implicit.id(),"");l(n,27,0,a);var r=e.tb(1,"alert-temporary-",n.context.$implicit.id(),"");l(n,30,0,r,e.Bb(n,35).ngClassUntouched,e.Bb(n,35).ngClassTouched,e.Bb(n,35).ngClassPristine,e.Bb(n,35).ngClassDirty,e.Bb(n,35).ngClassValid,e.Bb(n,35).ngClassInvalid,e.Bb(n,35).ngClassPending);var o=e.tb(1,"alert-temporary-",n.context.$implicit.id(),"");l(n,36,0,o)})}function Vt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,$t)),e.qb(2,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.ib(0,null,null,0))],function(l,n){l(n,2,0,n.component.copy.copy_alerts())},null)}function zt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"button",[["class","btn btn-success mr-2"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.applyChanges()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Apply Changes"]))],null,null)}function Wt(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,9,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,5,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,jt)),e.qb(3,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Kt)),e.qb(5,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(6,0,null,null,0,"span",[],null,null,null,null,null)),(l()(),e.rb(7,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.rb(8,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xd7"])),(l()(),e.rb(10,0,null,null,29,"div",[["class","modal-body p-4 form-validated"]],null,null,null,null,null)),(l()(),e.rb(11,0,null,null,26,"div",[["class","row mt-2 p-2 rounded border border-success"]],null,null,null,null,null)),(l()(),e.rb(12,0,null,null,3,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(13,0,null,null,2,"eg-combobox",[["placeholder","New Alert Type..."]],null,[[null,"onChange"]],function(l,n,u){var e=!0;return"onChange"===n&&(e=!1!==l.component.newAlert.alert_type(u?u.id:null)&&e),e},fu.b,fu.a)),e.Gb(5120,null,o.n,function(l){return[l]},[cu.a]),e.qb(15,114688,null,0,cu.a,[e.k,p.a,W.a,wn.a],{placeholder:[0,"placeholder"],required:[1,"required"],entries:[2,"entries"]},{onChange:"onChange"}),(l()(),e.rb(16,0,null,null,7,"div",[["class","col-lg-5"]],null,null,null,null,null)),(l()(),e.rb(17,0,null,null,6,"textarea",[["class","form-control"],["placeholder","New Alert Note..."],["rows","2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,18)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,18).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,18)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,18)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==a.newAlert.note(u)&&t),t},null,null)),e.qb(18,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(20,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(22,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.Jb(-1,null,["        "])),(l()(),e.rb(24,0,null,null,13,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(25,0,null,null,12,"div",[["class","d-flex flex-column"]],null,null,null,null,null)),(l()(),e.rb(26,0,null,null,8,"div",[["class","form-check"]],null,null,null,null,null)),(l()(),e.rb(27,0,null,null,5,"input",[["class","form-check-input"],["id","new-alert-temporary"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,28).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,28).onTouched()&&t),"ngModelChange"===n&&(t=!1!==a.newAlert.temp(u?"t":"f")&&t),t},null,null)),e.qb(28,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(30,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(32,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(33,0,null,null,1,"label",[["class","form-check-label"],["for","new-alert-temporary"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Temporary? "])),(l()(),e.rb(35,0,null,null,2,"div",[["class","pt-2"]],null,null,null,null,null)),(l()(),e.rb(36,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.addNew()&&e),e},null,null)),(l()(),e.Jb(-1,null,[" Add New "])),(l()(),e.ib(16777216,null,null,1,null,Vt)),e.qb(39,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(40,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.rb(41,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Close"])),(l()(),e.ib(16777216,null,null,1,null,zt)),e.qb(44,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,3,0,"create"==u.mode),l(n,5,0,"manage"==u.mode),l(n,15,0,"New Alert Type...",!0,u.alertTypes),l(n,20,0,u.newAlert.note()),l(n,30,0,"t"==u.newAlert.temp()),l(n,39,0,"manage"==u.mode),l(n,44,0,"manage"==u.mode)},function(l,n){l(n,17,0,e.Bb(n,22).ngClassUntouched,e.Bb(n,22).ngClassTouched,e.Bb(n,22).ngClassPristine,e.Bb(n,22).ngClassDirty,e.Bb(n,22).ngClassValid,e.Bb(n,22).ngClassInvalid,e.Bb(n,22).ngClassPending),l(n,27,0,e.Bb(n,32).ngClassUntouched,e.Bb(n,32).ngClassTouched,e.Bb(n,32).ngClassPristine,e.Bb(n,32).ngClassDirty,e.Bb(n,32).ngClassValid,e.Bb(n,32).ngClassInvalid,e.Bb(n,32).ngClassPending)})}function Qt(l){return e.Lb(0,[e.Db(0,i.f,[e.v]),e.Hb(402653184,1,{dialogContent:0}),e.Hb(402653184,2,{successMsg:0}),e.Hb(402653184,3,{errorMsg:0}),(l()(),e.rb(4,0,null,null,1,"eg-string",[["text","Successfully Modified Item Alerts"]],null,null,null,y.b,y.a)),e.qb(5,114688,[[2,4],["successMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.rb(6,0,null,null,1,"eg-string",[["text","Failed To Modify Item Alerts"]],null,null,null,y.b,y.a)),e.qb(7,114688,[[3,4],["errorMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,Wt))],function(l,n){l(n,5,0,"Successfully Modified Item Alerts"),l(n,7,0,"Failed To Modify Item Alerts")},null)}var Zt=u("xMyE"),Xt=function(l,n,u,e){return new(u||(u=Promise))(function(t,a){function r(l){try{i(e.next(l))}catch(n){a(n)}}function o(l){try{i(e.throw(l))}catch(n){a(n)}}function i(l){l.done?t(l.value):new u(function(n){n(l.value)}).then(r,o)}i((e=e.apply(l,n||[])).next())})},Yt=function(l,n){var u,e,t,a,r={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(u)throw new TypeError("Generator is already executing.");for(;r;)try{if(u=1,e&&(t=2&a[0]?e.return:a[0]?e.throw||((t=e.return)&&t.call(e),0):e.next)&&!(t=t.call(e,a[1])).done)return t;switch(e=0,t&&(a=[2&a[0],t.value]),a[0]){case 0:case 1:t=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,e=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(t=(t=r.trys).length>0&&t[t.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!t||a[1]>t[0]&&a[1]<t[3])){r.label=a[1];break}if(6===a[0]&&r.label<t[1]){r.label=t[1],t=a;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(a);break}t[2]&&r.ops.pop(),r.trys.pop();continue}a=n.call(l,r)}catch(o){a=[6,o],e=0}finally{u=t=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},la=function(l){function n(n,u,e,t){var a=l.call(this,n)||this;return a.modal=n,a.toast=u,a.pcrud=e,a.renderer=t,a}return Object(w.c)(n,l),n.prototype.ngOnInit=function(){},n.prototype.open=function(n){var u=this;return this.ids=[].concat(this.copyIds),this.numSucceeded=0,this.numFailed=0,this.getNextCopy().pipe(Object(oe.a)(function(){return l.prototype.open.call(u,n)}),Object(Zt.a)(function(){return u.renderer.selectRootElement("#new-barcode-input").focus()}))},n.prototype.getNextCopy=function(){var l=this;0===this.ids.length&&this.close(this.numSucceeded>0),this.newBarcode="";var n=this.ids.pop();return this.pcrud.retrieve("acp",n).pipe(Object(Zn.a)(function(n){return l.copy=n}))},n.prototype.replaceOneBarcode=function(){return Xt(this,void 0,void 0,function(){var l=this;return Yt(this,function(n){return this.barcodeExists=!1,[2,this.pcrud.search("acp",{deleted:"f",barcode:this.newBarcode}).toPromise().then(function(n){return Xt(l,void 0,void 0,function(){var l=this;return Yt(this,function(u){return n?(this.barcodeExists=!0,[2]):(this.copy.barcode(this.newBarcode),this.pcrud.update(this.copy).toPromise().then(function(n){return Xt(l,void 0,void 0,function(){var l,n;return Yt(this,function(u){switch(u.label){case 0:return this.numSucceeded++,n=(l=this.toast).success,[4,this.successMsg.current()];case 1:return n.apply(l,[u.sent()]),[2,this.getNextCopy().toPromise()]}})})},function(n){return Xt(l,void 0,void 0,function(){var l,u;return Yt(this,function(e){switch(e.label){case 0:return this.numFailed++,console.error("Replace barcode failed: ",n),u=(l=this.toast).warning,[4,this.errorMsg.current()];case 1:return u.apply(l,[e.sent()]),[2]}})})}),[2])})})})]})})},n}(x.a),na=e.pb({encapsulation:2,styles:[],data:{}});function ua(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,5,"div",[["class","row d-flex pt-2 justify-content-center"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,4,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Barcode "])),(l()(),e.rb(3,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(4,null,["",""])),(l()(),e.Jb(-1,null,[" is already in use. "]))],null,function(l,n){l(n,4,0,n.component.newBarcode)})}function ea(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Replace Item Barcode"])),(l()(),e.rb(4,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.rb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xd7"])),(l()(),e.rb(7,0,null,null,20,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(9,0,null,null,1,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Replacing barcode"])),(l()(),e.rb(11,0,null,null,1,"div",[["class","col-lg-8 font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(12,null,["",""])),(l()(),e.rb(13,0,null,null,12,"div",[["class","row pt-2 form-validated"]],null,null,null,null,null)),(l()(),e.rb(14,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(15,0,null,null,1,"label",[["for","new-barcode-intput"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["New Barcode:"])),(l()(),e.rb(17,0,null,null,8,"div",[["class","col-log-8"]],null,null,null,null,null)),(l()(),e.rb(18,0,null,null,7,"input",[["class","form-control"],["id","new-barcode-input"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,19)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,19).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,19)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,19)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(a.newBarcode=u)&&t),"keyup"===n&&(t=0!=(a.barcodeExists=!1)&&t),t},null,null)),e.qb(19,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.qb(20,16384,null,0,o.w,[],{required:[0,"required"]},null),e.Gb(1024,null,o.m,function(l){return[l]},[o.w]),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(23,671744,null,0,o.s,[[8,null],[6,o.m],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(25,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.ib(16777216,null,null,1,null,ua)),e.qb(27,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(28,0,null,null,5,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.rb(29,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.rb(30,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Cancel"])),(l()(),e.rb(32,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.replaceOneBarcode()&&e),e},null,null)),(l()(),e.Jb(-1,null,[" Replace Barcode "]))],function(l,n){var u=n.component;l(n,20,0,!0),l(n,23,0,u.newBarcode),l(n,27,0,u.barcodeExists)},function(l,n){var u=n.component;l(n,12,0,u.copy.barcode()),l(n,18,0,e.Bb(n,20).required?"":null,e.Bb(n,25).ngClassUntouched,e.Bb(n,25).ngClassTouched,e.Bb(n,25).ngClassPristine,e.Bb(n,25).ngClassDirty,e.Bb(n,25).ngClassValid,e.Bb(n,25).ngClassInvalid,e.Bb(n,25).ngClassPending),l(n,32,0,!u.newBarcode)})}function ta(l){return e.Lb(0,[e.Hb(402653184,1,{dialogContent:0}),e.Hb(402653184,2,{successMsg:0}),e.Hb(402653184,3,{errorMsg:0}),(l()(),e.rb(3,0,null,null,1,"eg-string",[["text","Successfully Replaced Barcode"]],null,null,null,y.b,y.a)),e.qb(4,114688,[[2,4],["successMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.rb(5,0,null,null,1,"eg-string",[["text","Failed To Replace Barcode"]],null,null,null,y.b,y.a)),e.qb(6,114688,[[3,4],["errorMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,ea))],function(l,n){l(n,4,0,"Successfully Replaced Barcode"),l(n,6,0,"Failed To Replace Barcode")},null)}var aa=function(l){function n(n,u,e,t,a,r,o){var i=l.call(this,n)||this;return i.modal=n,i.toast=u,i.net=e,i.pcrud=t,i.evt=a,i.renderer=r,i.auth=o,i}return Object(w.c)(n,l),n.prototype.ngOnInit=function(){},n.prototype.open=function(n){var u=this;return this.numCallNums=0,this.numCopies=0,this.numSucceeded=0,this.numFailed=0,this.callNums.forEach(function(l){l.isdeleted()&&u.numCallNums++,Array.isArray(l.copies())&&l.copies().forEach(function(l){(l.isdeleted()||u.forceDeleteCopies)&&(l.isdeleted(!0),u.numCopies++)})}),0===this.numCallNums&&0===this.numCopies?(console.debug("Holdings delete called with no usable data"),Object(Qu.a)(!1)):l.prototype.open.call(this,n)},n.prototype.deleteHoldings=function(){var l=this,n={force_delete_copies:this.forceDeleteCopies};this.net.request("open-ils.cat","open-ils.cat.asset.volume.fleshed.batch.update.override",this.auth.token(),this.callNums,1,n).toPromise().then(function(n){var u=l.evt.parse(n);u?(console.warn(u),l.errorMsg.current().then(function(n){return l.toast.warning(n)}),l.numFailed++):(l.numSucceeded++,l.close(l.numSucceeded>0))},function(n){console.warn(n),l.errorMsg.current().then(function(n){return l.toast.warning(n)}),l.numFailed++})},n}(x.a),ra=e.pb({encapsulation:2,styles:[],data:{}});function oa(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Delete Holdings"])),(l()(),e.rb(4,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.rb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xd7"])),(l()(),e.rb(7,0,null,null,2,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Jb(9,null,["Delete "," call numbers and "," copies?"])),(l()(),e.rb(10,0,null,null,5,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.rb(11,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.rb(12,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Cancel"])),(l()(),e.rb(14,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.deleteHoldings()&&e),e},null,null)),(l()(),e.Jb(-1,null,[" Delete Holdings "]))],null,function(l,n){var u=n.component;l(n,9,0,u.numCallNums,u.numCopies)})}function ia(l){return e.Lb(0,[e.Hb(402653184,1,{dialogContent:0}),e.Hb(402653184,2,{successMsg:0}),e.Hb(402653184,3,{errorMsg:0}),(l()(),e.rb(3,0,null,null,1,"eg-string",[["text","Successfully Holdings"]],null,null,null,y.b,y.a)),e.qb(4,114688,[[2,4],["successMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.rb(5,0,null,null,1,"eg-string",[["text","Failed To Delete Holdings"]],null,null,null,y.b,y.a)),e.qb(6,114688,[[3,4],["errorMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,oa))],function(l,n){l(n,4,0,"Successfully Holdings"),l(n,6,0,"Failed To Delete Holdings")},null)}var ca=function(l){function n(n,u,e,t,a){var r=l.call(this,n)||this;return r.modal=n,r.toast=u,r.idl=e,r.pcrud=t,r.localStore=a,r.peerTypes=[],r.copyIds=[],r}return Object(w.c)(n,l),n.prototype.ngOnInit=function(){var l=this;this.onOpenSub=this.onOpen$.subscribe(function(){l.modifyAll&&(l.copyIds=[]),l.numSucceeded=0,l.numFailed=0,l.peerRecord||(l.peerRecord=l.localStore.getLocalItem("eg.cat.marked_conjoined_record"),l.peerRecord||l.close(!1)),0===l.peerTypes.length&&l.getPeerTypes(),l.fetchExistingMaps()})},n.prototype.ngOnDestroy=function(){this.onOpenSub.unsubscribe()},n.prototype.fetchExistingMaps=function(){var l=this;this.existingMaps={};var n={peer_record:this.peerRecord};this.modifyAll||(n.target_copy=this.copyIds),this.pcrud.search("bpbcm",n).subscribe(function(n){l.existingMaps[n.target_copy()]=n,l.modifyAll&&l.copyIds.push(n.target_copy())})},n.prototype.getPeerTypes=function(){var l=this;return this.pcrud.retrieveAll("bpt",{},{atomic:!0}).toPromise().then(function(n){return l.peerTypes=n.map(function(l){return{id:l.id(),label:l.name()}})})},n.prototype.peerTypeChanged=function(l){this.peerType=l?l.id:null},n.prototype.linkCopies=function(){var l=this,n=[];return this.copyIds.forEach(function(u){var e;l.existingMaps[u]?(e=l.existingMaps[u]).ischanged(!0):(e=l.idl.create("bpbcm")).isnew(!0),e.peer_record(l.peerRecord),e.target_copy(u),e.peer_type(l.peerType),n.push(e)}),this.pcrud.autoApply(n).subscribe(function(n){return l.numSucceeded++},function(n){l.numFailed++,console.error(n),l.errorMsg.current().then(function(n){return l.toast.warning(n)})},function(){l.successMsg.current().then(function(n){return l.toast.success(n)}),l.close(l.numSucceeded>0)})},n}(x.a),sa=e.pb({encapsulation:2,styles:[],data:{}});function ba(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(3,null,["Attach/Modify "," Conjoined Item(s)"])),(l()(),e.rb(4,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.rb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xd7"])),(l()(),e.rb(7,0,null,null,8,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,7,"div",[["class","row form-validated"]],null,null,null,null,null)),(l()(),e.rb(9,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(10,0,null,null,1,"label",[["for","cbox-peer-types"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Peer Type:"])),(l()(),e.rb(12,0,null,null,3,"div",[["class","col-lg-8"]],null,null,null,null,null)),(l()(),e.rb(13,0,null,null,2,"eg-combobox",[["id","cbox-peer-types"],["placeholder","Peer Type..."]],null,[[null,"onChange"]],function(l,n,u){var e=!0;return"onChange"===n&&(e=!1!==l.component.peerTypeChanged(u)&&e),e},fu.b,fu.a)),e.Gb(5120,null,o.n,function(l){return[l]},[cu.a]),e.qb(15,114688,null,0,cu.a,[e.k,p.a,W.a,wn.a],{placeholder:[0,"placeholder"],required:[1,"required"],entries:[2,"entries"]},{onChange:"onChange"}),(l()(),e.rb(16,0,null,null,5,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.rb(17,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.rb(18,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Cancel"])),(l()(),e.rb(20,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.linkCopies()&&e),e},null,null)),(l()(),e.Jb(-1,null,[" Attach/Modify "]))],function(l,n){l(n,15,0,"Peer Type...",!0,n.component.peerTypes)},function(l,n){var u=n.component;l(n,3,0,u.copyIds.length),l(n,20,0,!u.peerType)})}function da(l){return e.Lb(0,[e.Hb(402653184,1,{dialogContent:0}),e.Hb(402653184,2,{successMsg:0}),e.Hb(402653184,3,{errorMsg:0}),(l()(),e.rb(3,0,null,null,1,"eg-string",[["text","Successfully Attached/Modified Conjoined Item(s)"]],null,null,null,y.b,y.a)),e.qb(4,114688,[[2,4],["successMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.rb(5,0,null,null,1,"eg-string",[["text","Failed To Attach/Modify Conjoined Item(s)"]],null,null,null,y.b,y.a)),e.qb(6,114688,[[3,4],["errorMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,ba))],function(l,n){l(n,4,0,"Successfully Attached/Modified Conjoined Item(s)"),l(n,6,0,"Failed To Attach/Modify Conjoined Item(s)")},null)}var pa=function(l){function n(n,u,e,t,a,r){var o=l.call(this,n)||this;return o.modal=n,o.toast=u,o.net=e,o.pcrud=t,o.evt=a,o.auth=r,o}return Object(w.c)(n,l),n.prototype.ngOnInit=function(){var l=this;this.onOpenSub=this.onOpen$.subscribe(function(){return n=l,void 0,e=function(){return function(l,n){var u,e,t,a,r={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(u)throw new TypeError("Generator is already executing.");for(;r;)try{if(u=1,e&&(t=2&a[0]?e.return:a[0]?e.throw||((t=e.return)&&t.call(e),0):e.next)&&!(t=t.call(e,a[1])).done)return t;switch(e=0,t&&(a=[2&a[0],t.value]),a[0]){case 0:case 1:t=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,e=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(t=(t=r.trys).length>0&&t[t.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!t||a[1]>t[0]&&a[1]<t[3])){r.label=a[1];break}if(6===a[0]&&r.label<t[1]){r.label=t[1],t=a;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(a);break}t[2]&&r.ops.pop(),r.trys.pop();continue}a=n.call(l,r)}catch(o){a=[6,o],e=0}finally{u=t=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}(this,function(l){return this.numSucceeded=0,this.numFailed=0,this.updateComplete=!1,[2]})},new((u=void 0)||(u=Promise))(function(l,t){function a(l){try{o(e.next(l))}catch(n){t(n)}}function r(l){try{o(e.throw(l))}catch(n){t(n)}}function o(n){n.done?l(n.value):new u(function(l){l(n.value)}).then(a,r)}o((e=e.apply(n,[])).next())});var n,u,e})},n.prototype.ngOnDestroy=function(){this.onOpenSub.unsubscribe()},n.prototype.manageUrlParams=function(){if(this.newResourceOrg)return{gridFilters:JSON.stringify({type:this.newResourceType}),contextOrg:this.newResourceOrg}},n.prototype.makeBookable=function(){var l=this;this.newResourceType=null,this.net.request("open-ils.booking","open-ils.booking.resources.create_from_copies",this.auth.token(),this.copyIds).toPromise().then(function(n){var u=l.evt.parse(n);if(u)return Promise.reject(u);l.numSucceeded=n.brsrc.length,l.newResourceType=n.brt[0][0],l.updateComplete=!0,l.successMsg.current().then(function(n){return l.toast.success(n)})},function(l){return Promise.reject(l)}).then(function(n){l.pcrud.retrieve("acp",l.copyIds[0],{flesh:1,flesh_fields:{acp:["call_number"]}}).toPromise().then(function(n){l.newResourceOrg=n.call_number().owning_lib(),l.updateComplete=!0})},function(n){console.error(n),l.numFailed++,l.errorMsg.current().then(function(n){return l.toast.danger(n)}),l.updateComplete=!0})},n}(x.a),ha=e.pb({encapsulation:2,styles:[],data:{}});function ga(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(3,null,["Make "," Item(s) Bookable?"]))],null,function(l,n){l(n,3,0,n.component.copyIds.length)})}function ma(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"div",[["class","col-lg-12 d-flex flex-column"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e.Jb(3,null,[""," Item(s) Made Bookable."])),(l()(),e.rb(4,0,null,null,3,"div",[["class","mt-2"]],null,null,null,null,null)),(l()(),e.rb(5,0,null,null,2,"a",[["routerLink","/staff/admin/booking/resource"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,6).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.qb(6,671744,null,0,m.n,[m.l,m.a,i.m],{target:[0,"target"],queryParams:[1,"queryParams"],routerLink:[2,"routerLink"]},null),(l()(),e.Jb(-1,null,[" Manage Bookable Resources "]))],function(l,n){l(n,6,0,"_blank",n.component.manageUrlParams(),"/staff/admin/booking/resource")},function(l,n){l(n,3,0,n.component.numSucceeded),l(n,5,0,e.Bb(n,6).target,e.Bb(n,6).href)})}function fa(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.makeBookable()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Make Bookable"]))],null,null)}function va(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0,t=l.component;return"click"===n&&(e=!1!==t.close(t.numSucceeded>0)&&e),e},null,null)),(l()(),e.Jb(-1,null,["Done"]))],null,null)}function ya(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Make Items Bookable"])),(l()(),e.rb(4,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.rb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xd7"])),(l()(),e.rb(7,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,ga)),e.qb(9,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,ma)),e.qb(11,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(12,0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.rb(13,0,null,null,6,null,null,null,null,null,null,null)),(l()(),e.rb(14,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.close()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Cancel"])),(l()(),e.ib(16777216,null,null,1,null,fa)),e.qb(17,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,va)),e.qb(19,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,9,0,!u.updateComplete),l(n,11,0,u.updateComplete),l(n,17,0,!u.updateComplete),l(n,19,0,u.updateComplete)},null)}function Ca(l){return e.Lb(0,[e.Hb(402653184,1,{dialogContent:0}),e.Hb(402653184,2,{successMsg:0}),e.Hb(402653184,3,{errorMsg:0}),(l()(),e.rb(3,0,null,null,1,"eg-string",[["text","Successfully Made Item(s) Bookable"]],null,null,null,y.b,y.a)),e.qb(4,114688,[[2,4],["successMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.rb(5,0,null,null,1,"eg-string",[["text","Failed To Make Item(s) Bookable"]],null,null,null,y.b,y.a)),e.qb(6,114688,[[3,4],["errorMsg",4]],0,C.a,[e.k,k.a],{text:[0,"text"]},null),(l()(),e.ib(0,[[1,2],["dialogContent",2]],null,0,null,ya))],function(l,n){l(n,4,0,"Successfully Made Item(s) Bookable"),l(n,6,0,"Failed To Make Item(s) Bookable")},null)}var ka=function(){function l(l,n,u,e){this.net=l,this.auth=n,this.evt=u,this.anonCache=e}return l.prototype.spawnAddHoldingsUi=function(l,n,u,e){var t=[];n?n.forEach(function(l){return t.push({callnumber:l})}):u&&u.forEach(function(l){return t.push(l)}),0===t.length&&t.push({}),this.anonCache.setItem(null,"edit-these-copies",{record_id:l,raw:t,hide_vols:!1,hide_copies:!!e}).then(function(l){l?setTimeout(function(){window.open("/eg/staff/cat/volcopy/"+l,"_blank")}):console.error("Could not create holds cache key!")})},l}(),wa=function(l,n,u,e){return new(u||(u=Promise))(function(t,a){function r(l){try{i(e.next(l))}catch(n){a(n)}}function o(l){try{i(e.throw(l))}catch(n){a(n)}}function i(l){l.done?t(l.value):new u(function(n){n(l.value)}).then(r,o)}i((e=e.apply(l,n||[])).next())})},Ba=function(l,n){var u,e,t,a,r={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(u)throw new TypeError("Generator is already executing.");for(;r;)try{if(u=1,e&&(t=2&a[0]?e.return:a[0]?e.throw||((t=e.return)&&t.call(e),0):e.next)&&!(t=t.call(e,a[1])).done)return t;switch(e=0,t&&(a=[2&a[0],t.value]),a[0]){case 0:case 1:t=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,e=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(t=(t=r.trys).length>0&&t[t.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!t||a[1]>t[0]&&a[1]<t[3])){r.label=a[1];break}if(6===a[0]&&r.label<t[1]){r.label=t[1],t=a;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(a);break}t[2]&&r.ops.pop(),r.trys.pop();continue}a=n.call(l,r)}catch(o){a=[6,o],e=0}finally{u=t=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},xa=function(){return function(){this.children=[]}}(),qa=function(){return function(){this.root=new xa}}(),_a=function(){return function(){}}(),Ia=function(){function l(l,n,u,e,t,a,r,o,i,c){var s=this;this.router=l,this.org=n,this.idl=u,this.pcrud=e,this.auth=t,this.staffCat=a,this.store=r,this.localStore=o,this.holdings=i,this.anonCache=c,this.initDone=!1,this.gridDataSource=new Xn.c,this.refreshHoldings=!0,this.renderFromPrefs=!0,this.contextOrg=this.staffCat.searchContext.searchOrg,this.rowClassCallback=function(l){return l.callNum?l.copy?"holdings-copy-row":"holdings-callNum-row":"holdings-org-row holdings-org-row-"+l.treeNode.target.ou_type().depth()},this.gridTemplateContext={toggleExpandRow:function(l){if(l.treeNode.expanded=!l.treeNode.expanded,!l.treeNode.expanded){var n=function(l){l.expanded=!1,l.children.forEach(n)};n(l.treeNode)}s.holdingsGrid.reload()},copyIsHoldable:function(l){return"t"===l.holdable()&&"t"===l.location().holdable()&&"t"===l.status().holdable()}}}return Object.defineProperty(l.prototype,"recordId",{get:function(){return this._recId},set:function(l){this._recId=l,this.initDone&&this.hardRefresh()},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var l=this;this.initDone=!0;var n=this.store.getItemBatchCached(["cat.holdings_show_empty_org","cat.holdings_show_empty","cat.holdings_show_copies","cat.holdings_show_vols"]),u=n["cat.holdings_show_vols"];null===u&&(u=!0),this.callNumsCheckbox.checked(u),this.copiesCheckbox.checked(n["cat.holdings_show_copies"]),this.emptyCallNumsCheckbox.checked(n["cat.holdings_show_empty"]),this.emptyLibsCheckbox.checked(n["cat.holdings_show_empty_org"]),this.initHoldingsTree(),this.gridDataSource.getRows=function(n,u){return l.fetchHoldings(n)}},l.prototype.contextOrgChanged=function(l){this.contextOrg=l,this.hardRefresh()},l.prototype.hardRefresh=function(){this.renderFromPrefs=!0,this.refreshHoldings=!0,this.initHoldingsTree(),this.holdingsGrid.reload()},l.prototype.toggleShowCopies=function(l){this.store.setItem("cat.holdings_show_copies",l),l&&this.callNumsCheckbox.checked(!0),this.renderFromPrefs=!0,this.holdingsGrid.reload()},l.prototype.toggleShowCallNums=function(l){this.store.setItem("cat.holdings_show_vols",l),l||(this.copiesCheckbox.checked(!1),this.emptyCallNumsCheckbox.checked(!1)),this.renderFromPrefs=!0,this.holdingsGrid.reload()},l.prototype.toggleShowEmptyCallNums=function(l){this.store.setItem("cat.holdings_show_empty",l),l&&this.callNumsCheckbox.checked(!0),this.renderFromPrefs=!0,this.holdingsGrid.reload()},l.prototype.toggleShowEmptyLibs=function(l){this.store.setItem("cat.holdings_show_empty_org",l),this.renderFromPrefs=!0,this.holdingsGrid.reload()},l.prototype.onRowActivate=function(l){l.copy||this.gridTemplateContext.toggleExpandRow(l)},l.prototype.initHoldingsTree=function(){var l=this,n=this.org.fullPath(this.contextOrg,!0),u=function(e){e.target.children().forEach(function(t){if(-1!==n.indexOf(t.id())){var a=new xa;a.nodeType="org",a.target=t,a.parentNode=e,e.children.push(a),l.treeNodeCache.org[t.id()]=a,u(a)}})};this.treeNodeCache={org:{},callNum:{},copy:{}},this.holdingsTree=new qa,this.holdingsTree.root.nodeType="org",this.holdingsTree.root.target=this.org.root(),this.treeNodeCache.org[this.org.root().id()]=this.holdingsTree.root,u(this.holdingsTree.root)},l.prototype.sortOrgNodeChildren=function(l){l.children=l.children.sort(function(l,n){return"org"===l.nodeType?"org"===n.nodeType?l.target.shortname()<n.target.shortname()?-1:1:-1:"org"===n.nodeType?1:l.target._label<n.target._label?-1:1})},l.prototype.setTreeCounts=function(l){var n=this;"org"===l.nodeType?(l.copyCount=0,l.callNumCount=0):"callNum"===l.nodeType&&(l.copyCount=0);var u=!1,e=!1;l.children.forEach(function(t){n.setTreeCounts(t),"org"===l.nodeType?(l.copyCount+=t.copyCount,"callNum"===t.nodeType?l.callNumCount++:(u=t.callNumCount>0,e=0===t.callNumCount,l.callNumCount+=t.callNumCount)):"callNum"===l.nodeType&&(l.copyCount=l.children.length,n.renderFromPrefs&&(l.expanded=n.copiesCheckbox.checked()))}),this.renderFromPrefs&&"org"===l.nodeType&&(l.expanded=!!(l.copyCount>0&&this.callNumsCheckbox.checked()||l.callNumCount>0&&this.emptyCallNumsCheckbox.checked()||u||e&&this.emptyLibsCheckbox.checked()))},l.prototype.propagateTreeEntries=function(l,n){var u=this,e=new _a;switch(e.treeNode=n,e.index=this.gridIndex++,n.nodeType){case"org":if(0===n.callNumCount&&!this.emptyLibsCheckbox.checked())return;e.locationLabel=n.target.shortname(),e.locationDepth=n.target.ou_type().depth(),e.copyCount=n.copyCount,e.callNumCount=n.callNumCount,this.sortOrgNodeChildren(n);break;case"callNum":if(this.renderFromPrefs){if(!this.callNumsCheckbox.checked())return;if(0===n.copyCount&&!this.emptyCallNumsCheckbox.checked())return}e.locationLabel=n.target._label,e.locationDepth=n.parentNode.target.ou_type().depth()+1,e.callNumberLabel=e.locationLabel,e.callNum=n.target,e.copyCount=n.copyCount;break;case"copy":e.locationLabel=n.target.barcode(),e.locationDepth=n.parentNode.parentNode.target.ou_type().depth()+2,e.callNumberLabel=n.parentNode.target.label(),e.callNum=n.parentNode.target,e.copy=n.target,e.circ=n.target._circ}l.next(e),n.expanded&&n.children.forEach(function(n){return u.propagateTreeEntries(l,n)})},l.prototype.flattenHoldingsTree=function(l){this.gridIndex=0,this.setTreeCounts(this.holdingsTree.root),this.propagateTreeEntries(l,this.holdingsTree.root),l.complete(),this.renderFromPrefs=!1},l.prototype.fetchHoldings=function(l){var n=this;return this.recordId?new mt.a(function(l){n.refreshHoldings?(n.itemCircsNeeded=[],n.pcrud.search("acn",{record:n.recordId,owning_lib:n.org.fullPath(n.contextOrg,!0),deleted:"f",label:{"!=":"##URI##"}},{flesh:3,flesh_fields:{acp:["status","location","circ_lib","parts","age_protect","copy_alerts","latest_inventory"],acn:["prefix","suffix","copies"],acli:["inventory_workstation"]}},{authoritative:!0}).subscribe(function(l){return n.appendCallNum(l)},function(l){},function(){n.refreshHoldings=!1,n.fetchCircs().then(function(u){return n.flattenHoldingsTree(l)})})):n.flattenHoldingsTree(l)}):Object(Qn.a)([])},l.prototype.fetchCircs=function(){var l=this,n=this.itemCircsNeeded.map(function(l){return l.id()});return 0===n.length?Promise.resolve():this.pcrud.search("circ",{target_copy:n,checkin_time:null}).pipe(Object(Zn.a)(function(n){l.itemCircsNeeded.filter(function(l){return Number(l.id())===Number(n.target_copy())})[0]._circ=n})).toPromise()},l.prototype.setCallNumLabel=function(l){var n=l.prefix()?l.prefix().label():"",u=l.suffix()?l.suffix().label():"";l._label=n?n+" ":"",l._label+=l.label(),l._label+=u?" "+u:""},l.prototype.appendCallNum=function(l){var n=this,u=this.treeNodeCache.callNum[l.id()];if(this.setCallNumLabel(l),u){var e=this.treeNodeCache.org[l.owning_lib()];u.parentNode.target.id()!==e.target.id()&&(u.parentNode=e,u.parentNode.children.push(u))}else(u=new xa).nodeType="callNum",u.parentNode=this.treeNodeCache.org[l.owning_lib()],u.parentNode.children.push(u),this.treeNodeCache.callNum[l.id()]=u;u.target=l,l.copies().filter(function(l){return"t"!==l.deleted()}).sort(function(l,n){return l.barcode()<n.barcode()?-1:1}).forEach(function(l){return n.appendCopy(u,l)})},l.prototype.appendCopy=function(l,n){var u=this.treeNodeCache.copy[n.id()];u?u.parentNode.target.id()!==l.target.id()&&(u.parentNode=l,l.children.push(u)):((u=new xa).nodeType="copy",l.children.push(u),u.parentNode=l,this.treeNodeCache.copy[n.id()]=u),u.target=n;var e=Number(n.status().id());1!==e&&16!==e||this.itemCircsNeeded.push(n)},l.prototype.selectedCopyIds=function(l,n){var u=l.filter(function(l){return Boolean(l.copy)}).map(function(l){return l.copy});return n&&(u=u.filter(function(l){return Number(l.status().id())!==Number(n)})),u.map(function(l){return Number(l.id())})},l.prototype.selectedCallNumIds=function(l){return l.filter(function(l){return"callNum"===l.treeNode.nodeType}).map(function(l){return Number(l.callNum.id())})},l.prototype.showMarkDamagedDialog=function(l){return wa(this,void 0,void 0,function(){var n,u,e,t=this;return Ba(this,function(a){switch(a.label){case 0:return 0===(n=this.selectedCopyIds(l,14)).length?[2]:(u=!1,[4,(e=function(l){return wa(t,void 0,void 0,function(){return Ba(this,function(n){return 0===l.length?[2,Promise.resolve()]:(this.markDamagedDialog.copyId=l.pop(),[2,this.markDamagedDialog.open({size:"lg"}).subscribe(function(n){return n&&(u=!0),e(l)},function(n){return e(l)})])})})})(n)]);case 1:return a.sent(),u&&(this.refreshHoldings=!0,this.holdingsGrid.reload()),[2]}})})},l.prototype.showMarkMissingDialog=function(l){var n=this,u=this.selectedCopyIds(l,4);u.length>0&&(this.markMissingDialog.copyIds=u,this.markMissingDialog.open({}).subscribe(function(l){l&&(n.refreshHoldings=!0,n.holdingsGrid.reload())},function(l){}))},l.prototype.markLibCnForTransfer=function(l){if(0!==l.length){var n,u=l[0].treeNode;"copy"!==u.nodeType&&("org"===u.nodeType?(n=u.target.id(),this.localStore.removeLocalItem("eg.cat.transfer_target_vol")):"callNum"===u.nodeType&&(n=u.parentNode.target.id(),this.localStore.setLocalItem("eg.cat.transfer_target_vol",u.target.id())),this.localStore.setLocalItem("eg.cat.transfer_target_record",this.recordId),this.localStore.setLocalItem("eg.cat.transfer_target_lib",n))}},l.prototype.openAngJsWindow=function(l){window.open("/eg/staff/"+l,"_blank")},l.prototype.openItemHolds=function(l){l.length>0&&l[0].copy&&this.openAngJsWindow("cat/item/"+l[0].copy.id()+"/holds")},l.prototype.openItemStatusList=function(l){var n=this.selectedCopyIds(l);if(n.length>0)return this.openAngJsWindow("cat/item/search/"+n.join(","))},l.prototype.openItemStatus=function(l){if(l.length>0&&l[0].copy)return this.openAngJsWindow("cat/item/"+l[0].copy.id())},l.prototype.openItemTriggeredEvents=function(l){if(l.length>0&&l[0].copy)return this.openAngJsWindow("cat/item/"+l[0].copy.id()+"/triggered_events")},l.prototype.openItemPrintLabels=function(l){var n=this,u=this.selectedCopyIds(l);0!==u.length&&this.anonCache.setItem(null,"print-labels-these-copies",{copies:u}).then(function(l){return n.openAngJsWindow("cat/printlabels/"+l)})},l.prototype.openHoldingEdit=function(l,n,u){var e=[];if(l.forEach(function(l){"callNum"===l.treeNode.nodeType?e.push(l.callNum):"copy"===l.treeNode.nodeType&&e.push(l.treeNode.parentNode.target)}),u&&!n){if(e.length>0){var t=e.map(function(l){return Number(l.id())});this.holdings.spawnAddHoldingsUi(this.recordId,t)}}else if(n){var a=[];e.length>0?e.forEach(function(l){return a.push({label:l.label(),owner:l.owning_lib()})}):a.push({owner:this.auth.user().ws_ou()}),this.holdings.spawnAddHoldingsUi(this.recordId,null,a,!u)}},l.prototype.openItemNotes=function(l,n){var u=this,e=this.selectedCopyIds(l);0!==e.length&&(this.copyAlertsDialog.copyIds=e,this.copyAlertsDialog.mode=n,this.copyAlertsDialog.open({size:"lg"}).subscribe(function(l){l&&u.hardRefresh()}))},l.prototype.openReplaceBarcodeDialog=function(l){var n=this,u=this.selectedCopyIds(l);0!==u.length&&(this.replaceBarcode.copyIds=u,this.replaceBarcode.open({}).subscribe(function(l){l&&n.hardRefresh()}))},l.prototype.deleteHoldings=function(l,n){var u=this,e={};"callNums"!==n&&"both"!==n||l.filter(function(l){return"callNum"===l.treeNode.nodeType}).forEach(function(l){var t=u.idl.clone(l.callNum);if("callNums"===n){if(t.copies().length>0)return}else t.copies().forEach(function(l){return l.isdeleted(!0)});t.isdeleted(!0),e[t.id()]=t}),"copies"!==n&&"both"!==n||l.filter(function(l){return"copy"===l.treeNode.nodeType}).forEach(function(l){var n=l.treeNode.parentNode.target;e[n.id()]||(e[n.id()]=u.idl.clone(n),e[n.id()].copies([]));var t=u.idl.clone(l.copy);t.isdeleted(!0),e[n.id()].copies().push(t)}),0!==Object.keys(e).length&&(this.deleteHolding.forceDeleteCopies="both"===n,this.deleteHolding.callNums=Object.values(e),this.deleteHolding.open({size:"sm"}).subscribe(function(l){l&&u.hardRefresh()}))},l.prototype.requestItems=function(l){var n=this.selectedCopyIds(l);0!==n.length&&this.router.navigate(["/staff/catalog/hold/C"],{queryParams:{target:n,holdFor:"staff"}})},l.prototype.openBucketDialog=function(l){var n=this.selectedCopyIds(l);n.length>0&&(this.bucketDialog.bucketClass="copy",this.bucketDialog.itemIds=n,this.bucketDialog.open({size:"lg"}))},l.prototype.openConjoinedDialog=function(l){var n=this.selectedCopyIds(l);n.length>0&&(this.conjoinedDialog.copyIds=n,this.conjoinedDialog.open({size:"sm"}))},l.prototype.bookItems=function(l){this.selectedCopyIds(l).length>0&&this.router.navigate(["staff","booking","create_reservation","for_resource",l.filter(function(l){return Boolean(l.copy)})[0].copy.barcode()])},l.prototype.makeBookable=function(l){var n=this.selectedCopyIds(l);n.length>0&&(this.makeBookableDialog.copyIds=n,this.makeBookableDialog.open({}))},l.prototype.manageReservations=function(l){this.selectedCopyIds(l).length>0&&this.router.navigate(["staff","booking","manage_reservations","by_resource",l.filter(function(l){return Boolean(l.copy)})[0].copy.barcode()])},l}(),Ma=e.pb({encapsulation:2,styles:[[".holdings-callNum-row{background-color:#c9efe4}.holdings-org-row{color:rgba(0,0,0,.8);background-color:#e1efeb}"]],data:{}});function Sa(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"span",[["class","material-icons p-0 m-0"]],null,null,null,null,null)),e.qb(1,278528,null,0,i.n,[e.t,e.u,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(2,{invisible:0}),(l()(),e.Jb(-1,null,["arrow_drop_down"]))],function(l,n){var u=l(n,2,0,n.parent.context.row.copy||0==n.parent.context.row.treeNode.children.length);l(n,1,0,"material-icons p-0 m-0",u)},null)}function Pa(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"span",[["class","material-icons p-0 m-0"]],null,null,null,null,null)),e.qb(1,278528,null,0,i.n,[e.t,e.u,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(2,{invisible:0}),(l()(),e.Jb(-1,null,["arrow_right"]))],function(l,n){var u=l(n,2,0,n.parent.context.row.copy||0==n.parent.context.row.treeNode.children.length);l(n,1,0,"material-icons p-0 m-0",u)},null)}function Ta(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,8,"div",[],[[8,"className",0]],null,null,null,null)),(l()(),e.rb(1,0,null,null,7,"span",[],[[8,"className",0]],null,null,null,null)),(l()(),e.rb(2,0,null,null,6,"a",[["class","label-with-material-icon"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.context.userContext.toggleExpandRow(l.context.row)&&e),e},null,null)),(l()(),e.ib(16777216,null,null,1,null,Sa)),e.qb(4,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Pa)),e.qb(6,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(7,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(8,null,["",""]))],function(l,n){l(n,4,0,n.context.row.treeNode.expanded),l(n,6,0,!n.context.row.treeNode.expanded)},function(l,n){l(n,0,0,e.tb(1,"pl-",n.context.row.locationDepth,"")),l(n,1,0,e.tb(1,"pl-",n.context.row.locationDepth,"")),l(n,8,0,n.context.row.locationLabel)})}function Da(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"eg-bool",[],null,null,null,Ot.b,Ot.a)),e.qb(2,49152,null,0,Rt.a,[],{value:[0,"value"]},null)],function(l,n){var u=n.parent.context.userContext.copyIsHoldable(n.parent.context.row.copy);l(n,2,0,u)},null)}function La(l){return e.Lb(0,[(l()(),e.ib(16777216,null,null,1,null,Da)),e.qb(1,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(0,null,null,0))],function(l,n){l(n,1,0,n.context.row.copy)},null)}function Ea(l){return e.Lb(0,[e.Hb(402653184,1,{holdingsGrid:0}),e.Hb(402653184,2,{callNumsCheckbox:0}),e.Hb(402653184,3,{copiesCheckbox:0}),e.Hb(402653184,4,{emptyCallNumsCheckbox:0}),e.Hb(402653184,5,{emptyLibsCheckbox:0}),e.Hb(402653184,6,{markDamagedDialog:0}),e.Hb(402653184,7,{markMissingDialog:0}),e.Hb(402653184,8,{copyAlertsDialog:0}),e.Hb(402653184,9,{replaceBarcode:0}),e.Hb(402653184,10,{deleteHolding:0}),e.Hb(402653184,11,{bucketDialog:0}),e.Hb(402653184,12,{conjoinedDialog:0}),e.Hb(402653184,13,{makeBookableDialog:0}),(l()(),e.rb(13,0,null,null,7,"div",[["class","row mt-3"]],null,null,null,null,null)),(l()(),e.rb(14,0,null,null,6,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(15,0,null,null,5,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),e.rb(16,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),e.rb(17,0,null,null,1,"div",[["class","input-group-text"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Holdings Maintenance"])),(l()(),e.rb(19,0,null,null,1,"eg-org-select",[],null,[[null,"onChange"]],function(l,n,u){var e=!0;return"onChange"===n&&(e=!1!==l.component.contextOrgChanged(u)&&e),e},s.b,s.a)),e.qb(20,114688,null,0,b.a,[d.a,p.a,h.a,g.a],{initialOrg:[0,"initialOrg"]},{onChange:"onChange"}),(l()(),e.ib(0,[["locationTemplate",2]],null,0,null,Ta)),(l()(),e.ib(0,[["holdableTemplate",2]],null,0,null,La)),(l()(),e.rb(23,0,null,null,1,"eg-mark-damaged-dialog",[],null,null,null,ge,ce)),e.qb(24,114688,[[6,4],["markDamagedDialog",4]],0,ie,[c.B,z.a,Q.b,Z.a,wn.a,h.a,$l.a,d.a],null,null),(l()(),e.rb(25,0,null,null,1,"eg-mark-missing-dialog",[],null,null,null,xe,ye)),e.qb(26,114688,[[7,4],["markMissingDialog",4]],0,ve,[c.B,z.a,Q.b,Z.a,d.a],null,null),(l()(),e.rb(27,0,null,null,1,"eg-copy-alerts-dialog",[],null,null,null,Qt,Ut)),e.qb(28,114688,[[8,4],["copyAlertsDialog",4]],0,Gt,[c.B,z.a,Q.b,W.a,wn.a,h.a,d.a],null,null),(l()(),e.rb(29,0,null,null,1,"eg-replace-barcode-dialog",[],null,null,null,ta,na)),e.qb(30,114688,[[9,4],["replaceBarcode",4]],0,la,[c.B,z.a,wn.a,e.E],null,null),(l()(),e.rb(31,0,null,null,1,"eg-delete-holding-dialog",[],null,null,null,ia,ra)),e.qb(32,114688,[[10,4],["deleteHolding",4]],0,aa,[c.B,z.a,Q.b,wn.a,Z.a,e.E,d.a],null,null),(l()(),e.rb(33,0,null,null,1,"eg-bucket-dialog",[],null,null,null,$.b,$.a)),e.qb(34,114688,[[11,4],["bucketDialog",4]],0,V.a,[c.B,e.E,z.a,W.a,Q.b,Z.a,d.a],null,null),(l()(),e.rb(35,0,null,null,1,"eg-conjoined-items-dialog",[],null,null,null,da,sa)),e.qb(36,245760,[[12,4],["conjoinedDialog",4]],0,ca,[c.B,z.a,W.a,wn.a,p.a],null,null),(l()(),e.rb(37,0,null,null,1,"eg-make-bookable-dialog",[],null,null,null,Ca,ha)),e.qb(38,245760,[[13,4],["makeBookableDialog",4]],0,pa,[c.B,z.a,Q.b,wn.a,Z.a,d.a],null,null),(l()(),e.rb(39,0,null,null,116,"div",[["class","eg-copies w-100 mt-3"]],null,null,null,null,null)),(l()(),e.rb(40,0,null,null,115,"eg-grid",[["persistKey","cat.holdings"]],null,[[null,"onRowActivate"]],function(l,n,u){var e=!0;return"onRowActivate"===n&&(e=!1!==l.component.onRowActivate(u)&&e),e},Kn.b,Kn.a)),e.qb(41,4440064,[[1,4],["holdingsGrid",4]],0,$n.a,[W.a,h.a,B.a,Vn.a],{dataSource:[0,"dataSource"],sortable:[1,"sortable"],persistKey:[2,"persistKey"],rowClassCallback:[3,"rowClassCallback"],disablePaging:[4,"disablePaging"]},{onRowActivate:"onRowActivate"}),(l()(),e.rb(42,0,null,null,1,"eg-grid-toolbar-checkbox",[["label","Show Call Numbers"]],null,[[null,"onChange"]],function(l,n,u){var e=!0;return"onChange"===n&&(e=!1!==l.component.toggleShowCallNums(u)&&e),e},ju.b,ju.a)),e.qb(43,114688,[[2,4],["callNumsCheckbox",4]],0,Ku.a,[$n.a],{label:[0,"label"]},{onChange:"onChange"}),(l()(),e.rb(44,0,null,null,1,"eg-grid-toolbar-checkbox",[["label","Show Copies"]],null,[[null,"onChange"]],function(l,n,u){var e=!0;return"onChange"===n&&(e=!1!==l.component.toggleShowCopies(u)&&e),e},ju.b,ju.a)),e.qb(45,114688,[[3,4],["copiesCheckbox",4]],0,Ku.a,[$n.a],{label:[0,"label"]},{onChange:"onChange"}),(l()(),e.rb(46,0,null,null,1,"eg-grid-toolbar-checkbox",[["label","Show Empty Call Numbers"]],null,[[null,"onChange"]],function(l,n,u){var e=!0;return"onChange"===n&&(e=!1!==l.component.toggleShowEmptyCallNums(u)&&e),e},ju.b,ju.a)),e.qb(47,114688,[[4,4],["emptyCallNumsCheckbox",4]],0,Ku.a,[$n.a],{label:[0,"label"]},{onChange:"onChange"}),(l()(),e.rb(48,0,null,null,1,"eg-grid-toolbar-checkbox",[["label","Show Empty Libs"]],null,[[null,"onChange"]],function(l,n,u){var e=!0;return"onChange"===n&&(e=!1!==l.component.toggleShowEmptyLibs(u)&&e),e},ju.b,ju.a)),e.qb(49,114688,[[5,4],["emptyLibsCheckbox",4]],0,Ku.a,[$n.a],{label:[0,"label"]},{onChange:"onChange"}),(l()(),e.rb(50,0,null,null,1,"eg-grid-toolbar-action",[["label","Print Labels"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openItemPrintLabels(u)&&e),e},$u.b,$u.a)),e.qb(51,114688,null,0,Vu.a,[$n.a],{label:[0,"label"]},{onClick:"onClick"}),(l()(),e.rb(52,0,null,null,1,"eg-grid-toolbar-action",[["label","Request Items"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.requestItems(u)&&e),e},$u.b,$u.a)),e.qb(53,114688,null,0,Vu.a,[$n.a],{label:[0,"label"]},{onClick:"onClick"}),(l()(),e.rb(54,0,null,null,1,"eg-grid-toolbar-action",[["label","Link as Conjoined to Marked Bib Record"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openConjoinedDialog(u)&&e),e},$u.b,$u.a)),e.qb(55,114688,null,0,Vu.a,[$n.a],{label:[0,"label"]},{onClick:"onClick"}),(l()(),e.rb(56,0,null,null,1,"eg-grid-toolbar-action",[["group","Add"],["label","Add Call Numbers"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openHoldingEdit(u,!0,!1)&&e),e},$u.b,$u.a)),e.qb(57,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(58,0,null,null,1,"eg-grid-toolbar-action",[["group","Add"],["label","Add Items"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openHoldingEdit(u,!1,!0)&&e),e},$u.b,$u.a)),e.qb(59,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(60,0,null,null,1,"eg-grid-toolbar-action",[["group","Add"],["label","Add Call Numbers and Items"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openHoldingEdit(u,!0,!0)&&e),e},$u.b,$u.a)),e.qb(61,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(62,0,null,null,1,"eg-grid-toolbar-action",[["group","Add"],["label","Add Item Alerts"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openItemNotes(u,"create")&&e),e},$u.b,$u.a)),e.qb(63,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(64,0,null,null,1,"eg-grid-toolbar-action",[["group","Add"],["label","Add Items To Bucket"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openBucketDialog(u)&&e),e},$u.b,$u.a)),e.qb(65,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(66,0,null,null,1,"eg-grid-toolbar-action",[["group","Booking"],["label","Book Item Now"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.bookItems(u)&&e),e},$u.b,$u.a)),e.qb(67,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(68,0,null,null,1,"eg-grid-toolbar-action",[["group","Booking"],["label","Make Items Bookable"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.makeBookable(u)&&e),e},$u.b,$u.a)),e.qb(69,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(70,0,null,null,1,"eg-grid-toolbar-action",[["group","Booking"],["label","Manage Reservations"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.manageReservations(u)&&e),e},$u.b,$u.a)),e.qb(71,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(72,0,null,null,1,"eg-grid-toolbar-action",[["group","Edit"],["label","Edit Call Numbers"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openHoldingEdit(u,!0,!1)&&e),e},$u.b,$u.a)),e.qb(73,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(74,0,null,null,1,"eg-grid-toolbar-action",[["group","Edit"],["label","Edit Call Numbers And Items"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openHoldingEdit(u,!0,!0)&&e),e},$u.b,$u.a)),e.qb(75,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(76,0,null,null,1,"eg-grid-toolbar-action",[["group","Edit"],["label","Edit Items"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openHoldingEdit(u,!1,!0)&&e),e},$u.b,$u.a)),e.qb(77,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(78,0,null,null,1,"eg-grid-toolbar-action",[["group","Edit"],["label","Edit Item Alerts"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openItemNotes(u,"manage")&&e),e},$u.b,$u.a)),e.qb(79,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(80,0,null,null,1,"eg-grid-toolbar-action",[["group","Edit"],["label","Replace Barcodes"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openReplaceBarcodeDialog(u)&&e),e},$u.b,$u.a)),e.qb(81,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(82,0,null,null,1,"eg-grid-toolbar-action",[["group","Delete"],["label","Delete Empty Call Numbers"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.deleteHoldings(u,"callNums")&&e),e},$u.b,$u.a)),e.qb(83,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(84,0,null,null,1,"eg-grid-toolbar-action",[["group","Delete"],["label","Delete Items"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.deleteHoldings(u,"copies")&&e),e},$u.b,$u.a)),e.qb(85,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(86,0,null,null,1,"eg-grid-toolbar-action",[["group","Delete"],["label","Delete Call Numbers and Items"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.deleteHoldings(u,"both")&&e),e},$u.b,$u.a)),e.qb(87,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(88,0,null,null,1,"eg-grid-toolbar-action",[["group","Show"],["label","Show Item Status (list)"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openItemStatusList(u)&&e),e},$u.b,$u.a)),e.qb(89,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(90,0,null,null,1,"eg-grid-toolbar-action",[["group","Show"],["label","Show Item Status (detail)"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openItemStatus(u)&&e),e},$u.b,$u.a)),e.qb(91,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(92,0,null,null,1,"eg-grid-toolbar-action",[["group","Show"],["label","Show Item Holds"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openItemHolds(u)&&e),e},$u.b,$u.a)),e.qb(93,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(94,0,null,null,1,"eg-grid-toolbar-action",[["group","Show"],["label","Show Triggered Events"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openItemTriggeredEvents(u)&&e),e},$u.b,$u.a)),e.qb(95,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(96,0,null,null,1,"eg-grid-toolbar-action",[["group","Mark"],["label","Mark Item Damaged"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.showMarkDamagedDialog(u)&&e),e},$u.b,$u.a)),e.qb(97,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(98,0,null,null,1,"eg-grid-toolbar-action",[["group","Mark"],["label","Mark Item Missing"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.showMarkMissingDialog(u)&&e),e},$u.b,$u.a)),e.qb(99,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(100,0,null,null,1,"eg-grid-toolbar-action",[["group","Mark"],["label","Mark Library/Call Number as Transfer Destination"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.markLibCnForTransfer(u)&&e),e},$u.b,$u.a)),e.qb(101,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],group:[1,"group"]},{onClick:"onClick"}),(l()(),e.rb(102,0,null,null,1,"eg-grid-column",[["path","index"]],null,null,null,zn.b,zn.a)),e.qb(103,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],index:[1,"index"],hidden:[2,"hidden"]},null),(l()(),e.rb(104,0,null,null,1,"eg-grid-column",[["label","Item ID"],["name","id"],["path","copy.id"]],null,null,null,zn.b,zn.a)),e.qb(105,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"],hidden:[3,"hidden"]},null),(l()(),e.rb(106,0,null,null,1,"eg-grid-column",[["label","Call Number ID"],["path","callNum.id"]],null,null,null,zn.b,zn.a)),e.qb(107,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],hidden:[2,"hidden"]},null),(l()(),e.rb(108,0,null,null,1,"eg-grid-column",[["label","Location/Barcode"],["name","owner_label"]],null,null,null,zn.b,zn.a)),e.qb(109,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],label:[1,"label"],flex:[2,"flex"],cellContext:[3,"cellContext"],cellTemplate:[4,"cellTemplate"],disableTooltip:[5,"disableTooltip"]},null),(l()(),e.rb(110,0,null,null,1,"eg-grid-column",[["datatype","number"],["label","Call Numbers"],["path","callNumCount"]],null,null,null,zn.b,zn.a)),e.qb(111,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],datatype:[2,"datatype"]},null),(l()(),e.rb(112,0,null,null,1,"eg-grid-column",[["datatype","number"],["label","Copies"],["path","copyCount"]],null,null,null,zn.b,zn.a)),e.qb(113,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],datatype:[2,"datatype"]},null),(l()(),e.rb(114,0,null,null,1,"eg-grid-column",[["label","Call Number"],["name","call_number.label"],["path","callNum._label"]],null,null,null,zn.b,zn.a)),e.qb(115,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"]},null),(l()(),e.rb(116,0,null,null,1,"eg-grid-column",[["label","Barcode"],["name","barcode"],["path","copy.barcode"]],null,null,null,zn.b,zn.a)),e.qb(117,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"]},null),(l()(),e.rb(118,0,null,null,1,"eg-grid-column",[["datatype","org_unit"],["label","Circ Library"],["name","circ_lib.name"],["path","copy.circ_lib"]],null,null,null,zn.b,zn.a)),e.qb(119,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"],datatype:[3,"datatype"]},null),(l()(),e.rb(120,0,null,null,1,"eg-grid-column",[["datatype","org_unit"],["label","Owning Library"],["path","callNum.owning_lib"]],null,null,null,zn.b,zn.a)),e.qb(121,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],datatype:[2,"datatype"]},null),(l()(),e.rb(122,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Due Date"],["path","circ.due_date"]],null,null,null,zn.b,zn.a)),e.qb(123,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],datatype:[2,"datatype"]},null),(l()(),e.rb(124,0,null,null,1,"eg-grid-column",[["label","Shelving Location"],["name","location.name"],["path","copy.location.name"]],null,null,null,zn.b,zn.a)),e.qb(125,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"]},null),(l()(),e.rb(126,0,null,null,1,"eg-grid-column",[["label","Circulation Modifier"],["name","circ_modifier"],["path","copy.circ_modifier"]],null,null,null,zn.b,zn.a)),e.qb(127,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"]},null),(l()(),e.rb(128,0,null,null,1,"eg-grid-column",[["label","Item Number"],["name","copy_number"],["path","copy.copy_number"]],null,null,null,zn.b,zn.a)),e.qb(129,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"],hidden:[3,"hidden"]},null),(l()(),e.rb(130,0,null,null,1,"eg-grid-column",[["label","Status"],["name","status_name"],["path","copy.status.name"]],null,null,null,zn.b,zn.a)),e.qb(131,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"]},null),(l()(),e.rb(132,0,null,null,1,"eg-grid-column",[["label","Call Number Prefix"],["name","call_number.prefix.label"],["path","callNum.prefix.label"]],null,null,null,zn.b,zn.a)),e.qb(133,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"],hidden:[3,"hidden"]},null),(l()(),e.rb(134,0,null,null,1,"eg-grid-column",[["label","Call Number Suffix"],["name","call_number.suffix.label"],["path","callNum.suffix.label"]],null,null,null,zn.b,zn.a)),e.qb(135,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"],hidden:[3,"hidden"]},null),(l()(),e.rb(136,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Active/Create Date"],["path","copy.active_date"]],null,null,null,zn.b,zn.a)),e.qb(137,114688,null,0,Wn.a,[$n.a],{path:[0,"path"],label:[1,"label"],datatype:[2,"datatype"]},null),(l()(),e.rb(138,0,null,null,1,"eg-grid-column",[["label","Age Hold Protection"],["name","age_protect.name"],["path","copy.age_protect.name"]],null,null,null,zn.b,zn.a)),e.qb(139,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"]},null),(l()(),e.rb(140,0,null,null,1,"eg-grid-column",[["label","Item Price"],["name","price"],["path","copy.price"]],null,null,null,zn.b,zn.a)),e.qb(141,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"],hidden:[3,"hidden"]},null),(l()(),e.rb(142,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Circulate"],["name","circulate"],["path","copy.circulate"]],null,null,null,zn.b,zn.a)),e.qb(143,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"],hidden:[3,"hidden"],datatype:[4,"datatype"]},null),(l()(),e.rb(144,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Deposit"],["name","deposit"],["path","copy.deposit"]],null,null,null,zn.b,zn.a)),e.qb(145,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"],hidden:[3,"hidden"],datatype:[4,"datatype"]},null),(l()(),e.rb(146,0,null,null,1,"eg-grid-column",[["datatype","money"],["label","Deposit Amount"],["name","deposit_amount"],["path","copy.deposit_amount"]],null,null,null,zn.b,zn.a)),e.qb(147,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"],hidden:[3,"hidden"],datatype:[4,"datatype"]},null),(l()(),e.rb(148,0,null,null,1,"eg-grid-column",[["label","Holdable?"],["name","holdable"]],null,null,null,zn.b,zn.a)),e.qb(149,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],label:[1,"label"],cellContext:[2,"cellContext"],cellTemplate:[3,"cellTemplate"]},null),(l()(),e.rb(150,0,null,null,1,"eg-grid-column",[["datatype","bool"],["label","Reference?"],["name","ref"],["path","copy.ref"]],null,null,null,zn.b,zn.a)),e.qb(151,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"],hidden:[3,"hidden"],datatype:[4,"datatype"]},null),(l()(),e.rb(152,0,null,null,1,"eg-grid-column",[["datatype","timestamp"],["label","Last Inventory Date"],["name","latest_inventory.inventory_date"],["path","copy.latest_inventory.inventory_date"]],null,null,null,zn.b,zn.a)),e.qb(153,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"],hidden:[3,"hidden"],datatype:[4,"datatype"]},null),(l()(),e.rb(154,0,null,null,1,"eg-grid-column",[["label","Last Inventory Workstation"],["name","latest_inventory.inventory_workstation.name"],["path","copy.latest_inventory.inventory_workstation.name"]],null,null,null,zn.b,zn.a)),e.qb(155,114688,null,0,Wn.a,[$n.a],{name:[0,"name"],path:[1,"path"],label:[2,"label"],hidden:[3,"hidden"]},null)],function(l,n){var u=n.component;l(n,20,0,u.contextOrg),l(n,24,0),l(n,26,0),l(n,28,0),l(n,30,0),l(n,32,0),l(n,34,0),l(n,36,0),l(n,38,0),l(n,41,0,u.gridDataSource,!1,"cat.holdings",u.rowClassCallback,!0),l(n,43,0,"Show Call Numbers"),l(n,45,0,"Show Copies"),l(n,47,0,"Show Empty Call Numbers"),l(n,49,0,"Show Empty Libs"),l(n,51,0,"Print Labels"),l(n,53,0,"Request Items"),l(n,55,0,"Link as Conjoined to Marked Bib Record"),l(n,57,0,"Add Call Numbers","Add"),l(n,59,0,"Add Items","Add"),l(n,61,0,"Add Call Numbers and Items","Add"),l(n,63,0,"Add Item Alerts","Add"),l(n,65,0,"Add Items To Bucket","Add"),l(n,67,0,"Book Item Now","Booking"),l(n,69,0,"Make Items Bookable","Booking"),l(n,71,0,"Manage Reservations","Booking"),l(n,73,0,"Edit Call Numbers","Edit"),l(n,75,0,"Edit Call Numbers And Items","Edit"),l(n,77,0,"Edit Items","Edit"),l(n,79,0,"Edit Item Alerts","Edit"),l(n,81,0,"Replace Barcodes","Edit"),l(n,83,0,"Delete Empty Call Numbers","Delete"),l(n,85,0,"Delete Items","Delete"),l(n,87,0,"Delete Call Numbers and Items","Delete"),l(n,89,0,"Show Item Status (list)","Show"),l(n,91,0,"Show Item Status (detail)","Show"),l(n,93,0,"Show Item Holds","Show"),l(n,95,0,"Show Triggered Events","Show"),l(n,97,0,"Mark Item Damaged","Mark"),l(n,99,0,"Mark Item Missing","Mark"),l(n,101,0,"Mark Library/Call Number as Transfer Destination","Mark"),l(n,103,0,"index",!0,!0),l(n,105,0,"id","copy.id","Item ID",!0),l(n,107,0,"callNum.id","Call Number ID",!0),l(n,109,0,"owner_label","Location/Barcode",4,u.gridTemplateContext,e.Bb(n,21),!0),l(n,111,0,"callNumCount","Call Numbers","number"),l(n,113,0,"copyCount","Copies","number"),l(n,115,0,"call_number.label","callNum._label","Call Number"),l(n,117,0,"barcode","copy.barcode","Barcode"),l(n,119,0,"circ_lib.name","copy.circ_lib","Circ Library","org_unit"),l(n,121,0,"callNum.owning_lib","Owning Library","org_unit"),l(n,123,0,"circ.due_date","Due Date","timestamp"),l(n,125,0,"location.name","copy.location.name","Shelving Location"),l(n,127,0,"circ_modifier","copy.circ_modifier","Circulation Modifier"),l(n,129,0,"copy_number","copy.copy_number","Item Number",!0),l(n,131,0,"status_name","copy.status.name","Status"),l(n,133,0,"call_number.prefix.label","callNum.prefix.label","Call Number Prefix",!0),l(n,135,0,"call_number.suffix.label","callNum.suffix.label","Call Number Suffix",!0),l(n,137,0,"copy.active_date","Active/Create Date","timestamp"),l(n,139,0,"age_protect.name","copy.age_protect.name","Age Hold Protection"),l(n,141,0,"price","copy.price","Item Price",!0),l(n,143,0,"circulate","copy.circulate","Circulate",!0,"bool"),l(n,145,0,"deposit","copy.deposit","Deposit",!0,"bool"),l(n,147,0,"deposit_amount","copy.deposit_amount","Deposit Amount",!0,"money"),l(n,149,0,"holdable","Holdable?",u.gridTemplateContext,e.Bb(n,22)),l(n,151,0,"ref","copy.ref","Reference?",!0,"bool"),l(n,153,0,"latest_inventory.inventory_date","copy.latest_inventory.inventory_date","Last Inventory Date",!0,"timestamp"),l(n,155,0,"latest_inventory.inventory_workstation.name","copy.latest_inventory.inventory_workstation.name","Last Inventory Workstation",!0)},null)}var Ja=function(){function l(l,n,u,e){this.idl=l,this.org=n,this.pcrud=u,this.perm=e,this.gridDataSource=new Xn.c,this.idsToUnlink=[]}return l.prototype.ngOnInit=function(){var l=this;this.perm.hasWorkPermHere(["UPDATE_COPY"]).then(function(n){return l.hasPerm=n.UPDATE_COPY}),this.gridDataSource.getRows=function(n,u){var e={};return e.bmp=u.length?u[0].name+" "+u[0].dir:"id",l.pcrud.search("bpbcm",{peer_record:l.recordId},{offset:n.offset,limit:n.limit,order_by:e},{fleshSelectors:!0})}},l.prototype.unlink=function(l){return n=this,void 0,e=function(){var n=this;return function(l,n){var u,e,t,a,r={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(u)throw new TypeError("Generator is already executing.");for(;r;)try{if(u=1,e&&(t=2&a[0]?e.return:a[0]?e.throw||((t=e.return)&&t.call(e),0):e.next)&&!(t=t.call(e,a[1])).done)return t;switch(e=0,t&&(a=[2&a[0],t.value]),a[0]){case 0:case 1:t=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,e=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(t=(t=r.trys).length>0&&t[t.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!t||a[1]>t[0]&&a[1]<t[3])){r.label=a[1];break}if(6===a[0]&&r.label<t[1]){r.label=t[1],t=a;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(a);break}t[2]&&r.ops.pop(),r.trys.pop();continue}a=n.call(l,r)}catch(o){a=[6,o],e=0}finally{u=t=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}(this,function(u){return this.idsToUnlink=l.map(function(l){return l.target_copy().id()}),0===this.idsToUnlink.length?[2]:(this.confirmUnlink.open({size:"sm"}).subscribe(function(l){if(l){var u=[];n.pcrud.search("bpbcm",{target_copy:n.idsToUnlink,peer_record:n.recordId}).subscribe(function(l){return u.push(l)},function(l){},function(){n.pcrud.remove(u).subscribe(function(l){return console.debug("deleted map ",l)},function(l){return console.error(l)},function(){n.idsToUnlink=[],n.grid.reload()})})}}),[2])})},new((u=void 0)||(u=Promise))(function(l,t){function a(l){try{o(e.next(l))}catch(n){t(n)}}function r(l){try{o(e.throw(l))}catch(n){t(n)}}function o(n){n.done?l(n.value):new u(function(l){l(n.value)}).then(a,r)}o((e=e.apply(n,[])).next())});var n,u,e},l.prototype.openConjoinedDialog=function(){var l=this;this.conjoinedDialog.open({size:"sm"}).subscribe(function(n){n&&l.grid.reload()})},l}(),Fa=e.pb({encapsulation:2,styles:[],data:{}});function Ha(l){return e.Lb(0,[e.Hb(402653184,1,{grid:0}),e.Hb(402653184,2,{conjoinedDialog:0}),e.Hb(402653184,3,{confirmUnlink:0}),(l()(),e.rb(3,0,null,null,1,"eg-conjoined-items-dialog",[],null,null,null,da,sa)),e.qb(4,245760,[[2,4],["conjoinedDialog",4]],0,ca,[c.B,z.a,W.a,wn.a,p.a],{modifyAll:[0,"modifyAll"],peerRecord:[1,"peerRecord"]},null),(l()(),e.rb(5,0,null,null,1,"eg-confirm-dialog",[["dialogTitle","Confirm Unlink"]],null,null,null,f.b,f.a)),e.qb(6,114688,[[3,4],["confirmUnlink",4]],0,v.a,[c.B],{dialogTitle:[0,"dialogTitle"],dialogBody:[1,"dialogBody"]},null),(l()(),e.rb(7,0,null,null,6,"div",[["class","mt-3"]],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,5,"eg-grid",[["class","mt-3"],["idlClass","bpbcm"],["persistKey","catalog.record.conjoined"]],null,null,null,Kn.b,Kn.a)),e.qb(9,4440064,[[1,4],["conjoinedGrid",4]],0,$n.a,[W.a,h.a,B.a,Vn.a],{dataSource:[0,"dataSource"],idlClass:[1,"idlClass"],sortable:[2,"sortable"],persistKey:[3,"persistKey"]},null),(l()(),e.rb(10,0,null,null,1,"eg-grid-toolbar-button",[["label","Change Type"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.openConjoinedDialog()&&e),e},Lt.b,Lt.a)),e.qb(11,114688,null,0,Et.a,[$n.a],{label:[0,"label"],disabled:[1,"disabled"]},{onClick:"onClick"}),(l()(),e.rb(12,0,null,null,1,"eg-grid-toolbar-action",[["label","Unlink"]],null,[[null,"onClick"]],function(l,n,u){var e=!0;return"onClick"===n&&(e=!1!==l.component.unlink(u)&&e),e},$u.b,$u.a)),e.qb(13,114688,null,0,Vu.a,[$n.a],{label:[0,"label"],disabled:[1,"disabled"]},{onClick:"onClick"})],function(l,n){var u=n.component;l(n,4,0,!0,u.recordId),l(n,6,0,"Confirm Unlink",e.tb(1,"Unlink ",u.idsToUnlink.length," Items?")),l(n,9,0,u.gridDataSource,"bpbcm",!0,"catalog.record.conjoined"),l(n,11,0,"Change Type",!u.hasPerm),l(n,13,0,"Unlink",!u.hasPerm)},null)}var Aa=function(){function l(l,n,u,e,t,a,r,o){this.router=l,this.store=n,this.strings=u,this.toast=e,this.cat=t,this.catUrl=a,this.staffCat=r,this.holdings=o,this.initDone=!1,this.targets={conjoined:{key:"eg.cat.marked_conjoined_record",current:null},overlay:{key:"eg.cat.marked_overlay_record",current:null},holdTransfer:{key:"eg.circ.hold.title_transfer_target",current:null},holdingTransfer:{key:"eg.cat.marked_holding_transfer_record",current:null}}}return Object.defineProperty(l.prototype,"recordId",{set:function(l){this.recId=l},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var l=this;this.initDone=!0,Object.keys(this.targets).forEach(function(n){var u=l.targets[n];u.current=l.store.getLocalItem(u.key)})},l.prototype.mark=function(l){var n=this,u=this.targets[l];u.current=this.recId,this.store.setLocalItem(u.key,this.recId),this.strings.interpolate("catalog.record.toast."+l).then(function(l){return n.toast.success(l)})},l.prototype.clearMarks=function(){var l=this;Object.keys(this.targets).forEach(function(n){var u=l.targets[n];u.current=null,l.store.removeLocalItem(u.key)}),this.strings.interpolate("catalog.record.toast.cleared").then(function(n){return l.toast.success(n)})},l.prototype.addHoldings=function(){this.holdings.spawnAddHoldingsUi(this.recId)},l}(),Na=e.pb({encapsulation:2,styles:[],data:{}});function Oa(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(1,null,[" (Currently ",")"]))],null,function(l,n){l(n,1,0,n.component.targets.conjoined.current)})}function Ra(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(1,null,[" (Currently ",")"]))],null,function(l,n){l(n,1,0,n.component.targets.overlay.current)})}function Ga(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(1,null,[" (Currently ",")"]))],null,function(l,n){l(n,1,0,n.component.targets.holdTransfer.current)})}function Ua(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(1,null,[" (Currently ",")"]))],null,function(l,n){l(n,1,0,n.component.targets.holdingTransfer.current)})}function ja(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"eg-string",[["key","catalog.record.toast.conjoined"],["text","Conjoined Record Target Set"]],null,null,null,y.b,y.a)),e.qb(1,114688,null,0,C.a,[e.k,k.a],{key:[0,"key"],text:[1,"text"]},null),(l()(),e.rb(2,0,null,null,1,"eg-string",[["key","catalog.record.toast.overlay"],["text","Record Overlay Target Set"]],null,null,null,y.b,y.a)),e.qb(3,114688,null,0,C.a,[e.k,k.a],{key:[0,"key"],text:[1,"text"]},null),(l()(),e.rb(4,0,null,null,1,"eg-string",[["key","catalog.record.toast.holdTransfer"],["text","Hold Transfer Target Set"]],null,null,null,y.b,y.a)),e.qb(5,114688,null,0,C.a,[e.k,k.a],{key:[0,"key"],text:[1,"text"]},null),(l()(),e.rb(6,0,null,null,1,"eg-string",[["key","catalog.record.toast.holdingTransfer"],["text","Holding Transfer Target Set"]],null,null,null,y.b,y.a)),e.qb(7,114688,null,0,C.a,[e.k,k.a],{key:[0,"key"],text:[1,"text"]},null),(l()(),e.rb(8,0,null,null,1,"eg-string",[["key","catalog.record.toast.cleared"],["text","Record Marks Cleared"]],null,null,null,y.b,y.a)),e.qb(9,114688,null,0,C.a,[e.k,k.a],{key:[0,"key"],text:[1,"text"]},null),(l()(),e.rb(10,0,null,null,2,"eg-bucket-dialog",[["bucketClass","biblio"]],null,null,null,$.b,$.a)),e.qb(11,114688,[["recordBucketDialog",4]],0,V.a,[c.B,e.E,z.a,W.a,Q.b,Z.a,d.a],{bucketClass:[0,"bucketClass"],itemIds:[1,"itemIds"]},null),e.Cb(12,1),(l()(),e.rb(13,0,null,null,79,"div",[["class","row ml-0 mr-0"]],null,null,null,null,null)),(l()(),e.rb(14,0,null,null,2,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),e.rb(15,0,null,null,1,"button",[["class","btn btn-outline-primary ml-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["View in Catalog"])),(l()(),e.rb(17,0,null,null,4,"a",[["routerLink","/staff/catalog/hold/T"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,18).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.qb(18,671744,null,0,m.n,[m.l,m.a,i.m],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),e.Eb(19,{target:0}),(l()(),e.rb(20,0,null,null,1,"button",[["class","btn btn-outline-primary ml-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Place Hold"])),(l()(),e.rb(22,0,null,null,1,"button",[["class","btn btn-outline-primary ml-1"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.addHoldings()&&e),e},null,null)),(l()(),e.Jb(-1,null,[" Add Holdings "])),(l()(),e.rb(24,0,null,null,15,"div",[["class","ml-1"],["ngbDropdown",""],["placement","bottom-right"]],[[2,"show",null]],null,null,null,null)),e.qb(25,737280,null,3,c.t,[e.h,c.v,i.e,e.A,e.k,e.E,[2,c.qb]],{placement:[0,"placement"]},null),e.Hb(335544320,1,{_menu:0}),e.Hb(335544320,2,{_menuElement:0}),e.Hb(335544320,3,{_anchor:0}),(l()(),e.rb(29,0,null,null,3,"button",[["aria-haspopup","true"],["class","btn btn-outline-primary dropdown-toggle"],["id","actionsForSerials"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,30).dropdown.toggle()&&t),"keydown.ArrowUp"===n&&(t=!1!==e.Bb(l,30).dropdown.onKeyDown(u)&&t),"keydown.ArrowDown"===n&&(t=!1!==e.Bb(l,30).dropdown.onKeyDown(u)&&t),"keydown.Home"===n&&(t=!1!==e.Bb(l,30).dropdown.onKeyDown(u)&&t),"keydown.End"===n&&(t=!1!==e.Bb(l,30).dropdown.onKeyDown(u)&&t),t},null,null)),e.qb(30,16384,null,0,c.y,[c.t,e.k],null,null),e.Gb(2048,[[3,4]],c.u,null,[c.y]),(l()(),e.Jb(-1,null,["Serials"])),(l()(),e.rb(33,0,[[2,0]],null,6,"div",[["aria-labelledby","actionsForSerials"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],function(l,n,u){var t=!0;return"keydown.ArrowUp"===n&&(t=!1!==e.Bb(l,34).dropdown.onKeyDown(u)&&t),"keydown.ArrowDown"===n&&(t=!1!==e.Bb(l,34).dropdown.onKeyDown(u)&&t),"keydown.Home"===n&&(t=!1!==e.Bb(l,34).dropdown.onKeyDown(u)&&t),"keydown.End"===n&&(t=!1!==e.Bb(l,34).dropdown.onKeyDown(u)&&t),"keydown.Enter"===n&&(t=!1!==e.Bb(l,34).dropdown.onKeyDown(u)&&t),"keydown.Space"===n&&(t=!1!==e.Bb(l,34).dropdown.onKeyDown(u)&&t),t},null,null)),e.qb(34,16384,[[1,4]],1,c.w,[c.t],null,null),e.Hb(603979776,4,{menuItems:1}),(l()(),e.rb(36,0,null,null,1,"a",[["class","dropdown-item"]],[[8,"href",4]],null,null,null,null)),(l()(),e.Jb(-1,null,[" Manage Subscriptions "])),(l()(),e.rb(38,0,null,null,1,"a",[["class","dropdown-item"]],[[8,"href",4]],null,null,null,null)),(l()(),e.Jb(-1,null,[" Manage MFHDs "])),(l()(),e.rb(40,0,null,null,34,"div",[["class","ml-1"],["ngbDropdown",""],["placement","bottom-right"]],[[2,"show",null]],null,null,null,null)),e.qb(41,737280,null,3,c.t,[e.h,c.v,i.e,e.A,e.k,e.E,[2,c.qb]],{placement:[0,"placement"]},null),e.Hb(335544320,5,{_menu:0}),e.Hb(335544320,6,{_menuElement:0}),e.Hb(335544320,7,{_anchor:0}),(l()(),e.rb(45,0,null,null,3,"button",[["aria-haspopup","true"],["class","btn btn-outline-primary dropdown-toggle"],["id","actionsForDd"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,46).dropdown.toggle()&&t),"keydown.ArrowUp"===n&&(t=!1!==e.Bb(l,46).dropdown.onKeyDown(u)&&t),"keydown.ArrowDown"===n&&(t=!1!==e.Bb(l,46).dropdown.onKeyDown(u)&&t),"keydown.Home"===n&&(t=!1!==e.Bb(l,46).dropdown.onKeyDown(u)&&t),"keydown.End"===n&&(t=!1!==e.Bb(l,46).dropdown.onKeyDown(u)&&t),t},null,null)),e.qb(46,16384,null,0,c.y,[c.t,e.k],null,null),e.Gb(2048,[[7,4]],c.u,null,[c.y]),(l()(),e.Jb(-1,null,["Mark For..."])),(l()(),e.rb(49,0,[[6,0]],null,25,"div",[["aria-labelledby","actionsForDd"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],function(l,n,u){var t=!0;return"keydown.ArrowUp"===n&&(t=!1!==e.Bb(l,50).dropdown.onKeyDown(u)&&t),"keydown.ArrowDown"===n&&(t=!1!==e.Bb(l,50).dropdown.onKeyDown(u)&&t),"keydown.Home"===n&&(t=!1!==e.Bb(l,50).dropdown.onKeyDown(u)&&t),"keydown.End"===n&&(t=!1!==e.Bb(l,50).dropdown.onKeyDown(u)&&t),"keydown.Enter"===n&&(t=!1!==e.Bb(l,50).dropdown.onKeyDown(u)&&t),"keydown.Space"===n&&(t=!1!==e.Bb(l,50).dropdown.onKeyDown(u)&&t),t},null,null)),e.qb(50,16384,[[5,4]],1,c.w,[c.t],null,null),e.Hb(603979776,8,{menuItems:1}),(l()(),e.rb(52,0,null,null,4,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.mark("conjoined")&&e),e},null,null)),(l()(),e.rb(53,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Conjoined Items"])),(l()(),e.ib(16777216,null,null,1,null,Oa)),e.qb(56,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(57,0,null,null,4,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.mark("overlay")&&e),e},null,null)),(l()(),e.rb(58,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Overlay Target"])),(l()(),e.ib(16777216,null,null,1,null,Ra)),e.qb(61,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(62,0,null,null,4,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.mark("holdTransfer")&&e),e},null,null)),(l()(),e.rb(63,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Title Hold Transfer"])),(l()(),e.ib(16777216,null,null,1,null,Ga)),e.qb(66,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(67,0,null,null,4,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.mark("holdingTransfer")&&e),e},null,null)),(l()(),e.rb(68,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Holding Transfer"])),(l()(),e.ib(16777216,null,null,1,null,Ua)),e.qb(71,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(72,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.clearMarks()&&e),e},null,null)),(l()(),e.rb(73,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Reset Record Marks"])),(l()(),e.rb(75,0,null,null,17,"div",[["class","ml-1"],["ngbDropdown",""],["placement","bottom-right"]],[[2,"show",null]],null,null,null,null)),e.qb(76,737280,null,3,c.t,[e.h,c.v,i.e,e.A,e.k,e.E,[2,c.qb]],{placement:[0,"placement"]},null),e.Hb(335544320,9,{_menu:0}),e.Hb(335544320,10,{_menuElement:0}),e.Hb(335544320,11,{_anchor:0}),(l()(),e.rb(80,0,null,null,3,"button",[["aria-haspopup","true"],["class","btn btn-outline-primary dropdown-toggle"],["id","otherActionsForDd"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,81).dropdown.toggle()&&t),"keydown.ArrowUp"===n&&(t=!1!==e.Bb(l,81).dropdown.onKeyDown(u)&&t),"keydown.ArrowDown"===n&&(t=!1!==e.Bb(l,81).dropdown.onKeyDown(u)&&t),"keydown.Home"===n&&(t=!1!==e.Bb(l,81).dropdown.onKeyDown(u)&&t),"keydown.End"===n&&(t=!1!==e.Bb(l,81).dropdown.onKeyDown(u)&&t),t},null,null)),e.qb(81,16384,null,0,c.y,[c.t,e.k],null,null),e.Gb(2048,[[11,4]],c.u,null,[c.y]),(l()(),e.Jb(-1,null,["Other Actions"])),(l()(),e.rb(84,0,[[10,0]],null,8,"div",[["aria-labelledby","otherActionsForDd"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],function(l,n,u){var t=!0;return"keydown.ArrowUp"===n&&(t=!1!==e.Bb(l,85).dropdown.onKeyDown(u)&&t),"keydown.ArrowDown"===n&&(t=!1!==e.Bb(l,85).dropdown.onKeyDown(u)&&t),"keydown.Home"===n&&(t=!1!==e.Bb(l,85).dropdown.onKeyDown(u)&&t),"keydown.End"===n&&(t=!1!==e.Bb(l,85).dropdown.onKeyDown(u)&&t),"keydown.Enter"===n&&(t=!1!==e.Bb(l,85).dropdown.onKeyDown(u)&&t),"keydown.Space"===n&&(t=!1!==e.Bb(l,85).dropdown.onKeyDown(u)&&t),t},null,null)),e.qb(85,16384,[[9,4]],1,c.w,[c.t],null,null),e.Hb(603979776,12,{menuItems:1}),(l()(),e.rb(87,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,11).open({size:"lg"})&&t),t},null,null)),(l()(),e.rb(88,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Add To Bucket"])),(l()(),e.rb(90,0,null,null,2,"a",[["class","dropdown-item"]],[[8,"href",4]],null,null,null,null)),(l()(),e.rb(91,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["View/Place Orders"]))],function(l,n){var u=n.component;l(n,1,0,"catalog.record.toast.conjoined","Conjoined Record Target Set"),l(n,3,0,"catalog.record.toast.overlay","Record Overlay Target Set"),l(n,5,0,"catalog.record.toast.holdTransfer","Hold Transfer Target Set"),l(n,7,0,"catalog.record.toast.holdingTransfer","Holding Transfer Target Set"),l(n,9,0,"catalog.record.toast.cleared","Record Marks Cleared");var e=l(n,12,0,u.recId);l(n,11,0,"biblio",e);var t=l(n,19,0,u.recId);l(n,18,0,t,"/staff/catalog/hold/T"),l(n,25,0,"bottom-right"),l(n,41,0,"bottom-right"),l(n,56,0,u.targets.conjoined.current),l(n,61,0,u.targets.overlay.current),l(n,66,0,u.targets.holdTransfer.current),l(n,71,0,u.targets.holdingTransfer.current),l(n,76,0,"bottom-right")},function(l,n){var u=n.component;l(n,14,0,e.tb(1,"/eg/opac/record/",u.recId,"")),l(n,17,0,e.Bb(n,18).target,e.Bb(n,18).href),l(n,24,0,e.Bb(n,25).isOpen()),l(n,29,0,e.Bb(n,30).dropdown.isOpen()),l(n,33,0,!0,e.Bb(n,34).dropdown.isOpen(),e.Bb(n,34).placement),l(n,36,0,e.tb(1,"/eg/staff/serials/",u.recId,"")),l(n,38,0,e.tb(1,"/eg/staff/serials/",u.recId,"/manage-mfhds")),l(n,40,0,e.Bb(n,41).isOpen()),l(n,45,0,e.Bb(n,46).dropdown.isOpen()),l(n,49,0,!0,e.Bb(n,50).dropdown.isOpen(),e.Bb(n,50).placement),l(n,75,0,e.Bb(n,76).isOpen()),l(n,80,0,e.Bb(n,81).dropdown.isOpen()),l(n,84,0,!0,e.Bb(n,85).dropdown.isOpen(),e.Bb(n,85).placement),l(n,90,0,e.tb(1,"/eg/staff/acq/legacy/lineitem/related/",u.recId,"?target=bib"))})}var Ka=function(){function l(l,n,u,e){this.bib=l,this.org=n,this.store=u,this.cat=e,this.initDone=!1}return Object.defineProperty(l.prototype,"expand",{get:function(){return this._exp},set:function(l){this._exp=l,this.initDone&&this.saveExpandState()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"bibSummary",{set:function(l){this.summary=l,this.initDone&&this.summary&&this.summary.getBibCallNumber()},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var l=this;this.summary?this.summary.getBibCallNumber():this.recordId&&this.loadSummary(),this.store.getItem("eg.cat.record.summary.collapse").then(function(n){return l.expand=!n}).then(function(){return l.initDone=!0})},l.prototype.saveExpandState=function(){this.store.setItem("eg.cat.record.summary.collapse",!this.expand)},l.prototype.loadSummary=function(){var l=this;this.bib.getBibSummary(this.recordId).toPromise().then(function(n){n.getBibCallNumber(),l.bib.fleshBibUsers([n.record]),l.summary=n})},l.prototype.orgName=function(l){if(l)return this.org.get(l).shortname()},l.prototype.iconFormatLabel=function(l){return this.cat.iconFormatLabel(l)},l}(),$a=e.pb({encapsulation:0,styles:[[".eg-bib-summary[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.25rem .5rem}.jacket[_ngcontent-%COMP%]{padding:3px;width:100%}"]],data:{}});function Va(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,3,"span",[["class","pr-1 pl-2"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,0,"img",[["class","pr-1"]],[[8,"src",4]],null,null,null,null)),(l()(),e.rb(3,0,null,null,1,"span",[["class","font-weight-normal"]],null,null,null,null,null)),(l()(),e.Jb(4,null,["",""]))],null,function(l,n){var u=n.component;l(n,2,0,e.tb(1,"/images/format_icons/icon_format/",n.context.$implicit,".png")),l(n,4,0,u.iconFormatLabel(n.context.$implicit))})}function za(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Va)),e.qb(2,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.ib(0,null,null,0))],function(l,n){l(n,2,0,n.component.summary.attributes.icon_format)},null)}function Wa(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"a",[["class","with-material-icon no-href text-primary"],["title","Show More"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=0!=(l.component.expand=!0)&&e),e},null,null)),(l()(),e.rb(1,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["expand_more"]))],null,null)}function Qa(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"a",[["class","with-material-icon no-href text-primary"],["title","Show Less"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=0!=(l.component.expand=!1)&&e),e},null,null)),(l()(),e.rb(1,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["expand_less"]))],null,null)}function Za(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"div",[["class","col-lg-1 pr-0"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),e.rb(3,0,null,null,0,"img",[["alt","Jacket Image"],["class","jacket jacket-medium"]],[[8,"src",4]],null,null,null,null))],null,function(l,n){var u=n.component;l(n,2,0,e.tb(1,"/opac/extras/ac/jacket/large/r/",u.summary.id,"")),l(n,3,0,e.tb(1,"/opac/extras/ac/jacket/medium/r/",u.summary.id,""))})}function Xa(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),e.Jb(2,null,[" "," "]))],null,function(l,n){var u=n.component;l(n,1,0,e.tb(1,"/eg/staff/circ/patron/",u.summary.record.creator().id(),"/checkout")),l(n,2,0,u.summary.record.creator().usrname())})}function Ya(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),e.Jb(2,null,[" "," "]))],null,function(l,n){var u=n.component;l(n,1,0,e.tb(1,"/eg/staff/circ/patron/",u.summary.record.editor().id(),"/checkout")),l(n,2,0,u.summary.record.editor().usrname())})}function lr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,17,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,16,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"div",[["class","flex-1 font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Author:"])),(l()(),e.rb(4,0,null,null,1,"div",[["class","flex-3"]],null,null,null,null,null)),(l()(),e.Jb(5,null,["",""])),(l()(),e.rb(6,0,null,null,1,"div",[["class","flex-1 font-weight-bold pl-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Pubdate:"])),(l()(),e.rb(8,0,null,null,1,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.Jb(9,null,["",""])),(l()(),e.rb(10,0,null,null,1,"div",[["class","flex-1 font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Database ID:"])),(l()(),e.rb(12,0,null,null,1,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.Jb(13,null,["",""])),(l()(),e.rb(14,0,null,null,1,"div",[["class","flex-1 font-weight-bold pl-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Last Edited By:"])),(l()(),e.ib(16777216,null,null,1,null,Ya)),e.qb(17,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,17,0,n.component.summary.record.editor().usrname)},function(l,n){var u=n.component;l(n,5,0,u.summary.display.author),l(n,9,0,u.summary.display.pubdate),l(n,13,0,u.summary.id)})}function nr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,19,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,18,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"div",[["class","flex-1 font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Bib Call #:"])),(l()(),e.rb(4,0,null,null,1,"div",[["class","flex-3"]],null,null,null,null,null)),(l()(),e.Jb(5,null,["",""])),(l()(),e.rb(6,0,null,null,1,"div",[["class","flex-1 font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Record Owner:"])),(l()(),e.rb(8,0,null,null,1,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.Jb(9,null,["",""])),(l()(),e.rb(10,0,null,null,1,"div",[["class","flex-1 font-weight-bold pl-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Created On:"])),(l()(),e.rb(12,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.Jb(13,null,["",""])),e.Fb(14,2),(l()(),e.rb(15,0,null,null,1,"div",[["class","flex-1 font-weight-bold pl-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Last Edited On:"])),(l()(),e.rb(17,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.Jb(18,null,["",""])),e.Fb(19,2)],null,function(l,n){var u=n.component;l(n,5,0,u.summary.bibCallNumber),l(n,9,0,u.orgName(u.summary.record.owner()));var t=e.Kb(n,13,0,l(n,14,0,e.Bb(n.parent.parent,0),u.summary.record.create_date(),"short"));l(n,13,0,t);var a=e.Kb(n,18,0,l(n,19,0,e.Bb(n.parent.parent,0),u.summary.record.edit_date(),"short"));l(n,18,0,a)})}function ur(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,41,"div",[["class","eg-bib-summary card tight-card w-100"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,10,"div",[["class","card-header d-flex"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,3,"div",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Record Summary "])),(l()(),e.ib(16777216,null,null,1,null,za)),e.qb(5,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(6,0,null,null,0,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(7,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Wa)),e.qb(9,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Qa)),e.qb(11,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(12,0,null,null,29,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Za)),e.qb(14,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(15,0,null,null,26,"div",[],null,null,null,null,null)),e.qb(16,278528,null,0,i.n,[e.t,e.u,e.k,e.E],{ngClass:[0,"ngClass"]},null),e.Eb(17,{"col-lg-11 pl-0":0,"col-lg-12":1}),(l()(),e.rb(18,0,null,null,23,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.rb(19,0,null,null,22,"ul",[["class","list-group list-group-flush"]],null,null,null,null,null)),(l()(),e.rb(20,0,null,null,17,"li",[["class","list-group-item"]],null,null,null,null,null)),(l()(),e.rb(21,0,null,null,16,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),e.rb(22,0,null,null,1,"div",[["class","flex-1 font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Title:"])),(l()(),e.rb(24,0,null,null,1,"div",[["class","flex-3"]],null,null,null,null,null)),(l()(),e.Jb(25,null,["",""])),(l()(),e.rb(26,0,null,null,1,"div",[["class","flex-1 font-weight-bold pl-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Edition:"])),(l()(),e.rb(28,0,null,null,1,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.Jb(29,null,["",""])),(l()(),e.rb(30,0,null,null,1,"div",[["class","flex-1 font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["TCN:"])),(l()(),e.rb(32,0,null,null,1,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.Jb(33,null,["",""])),(l()(),e.rb(34,0,null,null,1,"div",[["class","flex-1 font-weight-bold pl-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Created By:"])),(l()(),e.ib(16777216,null,null,1,null,Xa)),e.qb(37,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,lr)),e.qb(39,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,nr)),e.qb(41,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,5,0,u.summary.attributes.icon_format&&u.summary.attributes.icon_format[0]),l(n,9,0,!u.expand),l(n,11,0,u.expand),l(n,14,0,u.expand);var e=l(n,17,0,u.expand,!u.expand);l(n,16,0,e),l(n,37,0,u.summary.record.creator().usrname),l(n,39,0,u.expand),l(n,41,0,u.expand)},function(l,n){var u=n.component;l(n,25,0,u.summary.display.title),l(n,29,0,u.summary.display.edition),l(n,33,0,u.summary.record.tcn_value())})}function er(l){return e.Lb(0,[e.Db(0,i.f,[e.v]),(l()(),e.ib(16777216,null,null,1,null,ur)),e.qb(2,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.summary)},null)}var tr=function(){function l(l,n,u,e,t,a,r){this.router=l,this.route=n,this.pcrud=u,this.bib=e,this.cat=t,this.staffCat=a,this.store=r}return l.prototype.ngOnInit=function(){var l=this;this.searchContext=this.staffCat.searchContext,this.defaultTab=this.store.getLocalItem("eg.cat.default_record_tab")||"catalog",this.route.paramMap.subscribe(function(n){l.recordTab=n.get("tab"),l.recordId=+n.get("id"),l.searchContext=l.staffCat.searchContext,l.recordTab||(l.recordTab=l.defaultTab||"catalog"),l.loadRecord()})},l.prototype.setDefaultTab=function(){this.defaultTab=this.recordTab,this.store.setLocalItem("eg.cat.default_record_tab",this.recordTab)},l.prototype.onTabChange=function(l){this.recordTab=l.nextId,l.preventDefault(),this.routeToTab()},l.prototype.routeToTab=function(){this.router.navigate(["/staff/catalog/record/"+this.recordId+"/"+this.recordTab],{queryParamsHandling:"merge"})},l.prototype.loadRecord=function(){var l=this;this.staffCat.currentDetailRecordSummary&&this.recordId===this.staffCat.currentDetailRecordSummary.id?this.summary=this.staffCat.currentDetailRecordSummary:(this.summary=null,this.bib.getBibSummary(this.recordId,this.searchContext.searchOrg.id(),this.searchContext.searchOrg.ou_type().depth()).toPromise().then(function(n){l.summary=l.staffCat.currentDetailRecordSummary=n,l.bib.fleshBibUsers([n.record])}))},l.prototype.currentSearchOrg=function(){return this.staffCat&&this.staffCat.searchContext?this.staffCat.searchContext.searchOrg:null},l.prototype.handleMarcRecordSaved=function(){this.staffCat.currentDetailRecordSummary=null,this.loadRecord()},l}(),ar=e.pb({encapsulation:2,styles:[],data:{}});function rr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"eg-catalog-record-pagination",[],null,null,null,jn,Gn)),e.qb(2,114688,null,0,Rn,[m.l,q.a,_.a,M],{recordTab:[0,"recordTab"],recordId:[1,"recordId"]},null)],function(l,n){var u=n.component;l(n,2,0,u.recordTab,u.recordId)},null)}function or(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"eg-catalog-copies",[],null,null,null,ru,lu)),e.qb(1,114688,null,0,Yn,[Q.b,h.a,M],{recordId:[0,"recordId"]},null)],function(l,n){l(n,1,0,n.component.recordId)},null)}function ir(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[["class","mt-3"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"eg-marc-editor",[],null,[[null,"recordSaved"]],function(l,n,u){var e=!0;return"recordSaved"===n&&(e=!1!==l.component.handleMarcRecordSaved()&&e),e},_u,vu)),e.qb(2,114688,null,0,su,[Z.a,W.a,Q.b,d.a,h.a,wn.a,z.a],{recordId:[0,"recordId"]},{recordSaved:"recordSaved"})],function(l,n){l(n,2,0,n.component.recordId)},null)}function cr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"eg-marc-html",[["recordType","bib"]],null,null,null,Iu.b,Iu.a)),e.qb(1,114688,null,0,Mu.a,[e.k,Q.b,d.a],{recordId:[0,"recordId"],recordType:[1,"recordType"]},null)],function(l,n){l(n,1,0,n.component.recordId,"bib")},null)}function sr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"eg-holds-grid",[["persistKey","cat.catalog.wide_holds"],["preFetchSetting","catalog.record.holds.prefetch"],["printTemplate","holds_for_bib"]],null,null,null,It,Ct)),e.qb(1,114688,null,0,yt,[Q.b,h.a,B.a,d.a,Y.a],{initialPickupLib:[0,"initialPickupLib"],persistKey:[1,"persistKey"],preFetchSetting:[2,"preFetchSetting"],printTemplate:[3,"printTemplate"],defaultSort:[4,"defaultSort"],recordId:[5,"recordId"]},null),e.Eb(2,{name:0,dir:1}),e.Cb(3,1)],function(l,n){var u=n.component,e=u.currentSearchOrg(),t=l(n,3,0,l(n,2,0,"request_time","asc"));l(n,1,0,e,"cat.catalog.wide_holds","catalog.record.holds.prefetch","holds_for_bib",t,u.recordId)},null)}function br(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"eg-catalog-record-parts",[],null,null,null,Nt,At)),e.qb(1,114688,null,0,Ht,[W.a,h.a,wn.a,g.a],{recordId:[0,"recordId"]},null)],function(l,n){l(n,1,0,n.component.recordId)},null)}function dr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"eg-holdings-maintenance",[],null,null,null,Ea,Ma)),e.qb(1,114688,null,0,Ia,[m.l,h.a,W.a,wn.a,d.a,M,B.a,p.a,ka,S.a],{recordId:[0,"recordId"]},null)],function(l,n){l(n,1,0,n.component.recordId)},null)}function pr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"eg-catalog-record-conjoined",[],null,null,null,Ha,Fa)),e.qb(1,114688,null,0,Ja,[W.a,h.a,wn.a,g.a],{recordId:[0,"recordId"]},null)],function(l,n){l(n,1,0,n.component.recordId)},null)}function hr(l){return e.Lb(0,[e.Hb(402653184,1,{recordTabs:0}),(l()(),e.rb(1,0,null,null,61,"div",[["id","staff-catalog-record-container"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,7,"div",[["class","row ml-0 mr-0"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,2,"div",[["id","staff-catalog-bib-navigation"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,rr)),e.qb(5,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(6,0,null,null,0,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(7,0,null,null,2,"div",[["id","staff-catalog-bib-navigation"]],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,1,"eg-catalog-record-actions",[],null,null,null,ja,Na)),e.qb(9,114688,null,0,Aa,[m.l,p.a,k.a,z.a,q.a,_.a,M,ka],{recordId:[0,"recordId"]},null),(l()(),e.rb(10,0,null,null,2,"div",[["class","mt-1"],["id","staff-catalog-bib-summary-container"]],null,null,null,null,null)),(l()(),e.rb(11,0,null,null,1,"eg-bib-summary",[],null,null,null,er,$a)),e.qb(12,114688,null,0,Ka,[$l.a,h.a,B.a,q.a],{bibSummary:[0,"bibSummary"]},null),(l()(),e.rb(13,0,null,null,49,"div",[["class","mt-3"],["id","staff-catalog-bib-tabs-container"]],null,null,null,null,null)),(l()(),e.rb(14,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(15,0,null,null,2,"div",[["class","col-lg-12 text-right"]],null,null,null,null,null)),(l()(),e.rb(16,0,null,null,1,"button",[["class","btn btn-secondary btn-sm"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.setDefaultTab()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Set Default View"])),(l()(),e.rb(18,0,null,null,44,"ngb-tabset",[],null,[[null,"tabChange"]],function(l,n,u){var e=!0;return"tabChange"===n&&(e=!1!==l.component.onTabChange(u)&&e),e},r.k,r.f)),e.qb(19,2146304,[[1,4],["recordTabs",4]],1,c.Y,[c.Z],{activeId:[0,"activeId"]},{tabChange:"tabChange"}),e.Hb(603979776,2,{tabs:1}),(l()(),e.rb(21,0,null,null,5,"ngb-tab",[["id","catalog"],["title","Item Table"]],null,null,null,null,null)),e.qb(22,2113536,[[2,4]],2,c.V,[],{id:[0,"id"],title:[1,"title"]},null),e.Hb(603979776,3,{titleTpls:1}),e.Hb(603979776,4,{contentTpls:1}),(l()(),e.ib(0,null,null,1,null,or)),e.qb(26,16384,[[4,4]],0,c.W,[e.M],null,null),(l()(),e.rb(27,0,null,null,5,"ngb-tab",[["id","marc_edit"],["title","MARC Edit"]],null,null,null,null,null)),e.qb(28,2113536,[[2,4]],2,c.V,[],{id:[0,"id"],title:[1,"title"]},null),e.Hb(603979776,5,{titleTpls:1}),e.Hb(603979776,6,{contentTpls:1}),(l()(),e.ib(0,null,null,1,null,ir)),e.qb(32,16384,[[6,4]],0,c.W,[e.M],null,null),(l()(),e.rb(33,0,null,null,5,"ngb-tab",[["id","marc_html"],["title","MARC View"]],null,null,null,null,null)),e.qb(34,2113536,[[2,4]],2,c.V,[],{id:[0,"id"],title:[1,"title"]},null),e.Hb(603979776,7,{titleTpls:1}),e.Hb(603979776,8,{contentTpls:1}),(l()(),e.ib(0,null,null,1,null,cr)),e.qb(38,16384,[[8,4]],0,c.W,[e.M],null,null),(l()(),e.rb(39,0,null,null,5,"ngb-tab",[["id","holds"],["title","View Holds"]],null,null,null,null,null)),e.qb(40,2113536,[[2,4]],2,c.V,[],{id:[0,"id"],title:[1,"title"]},null),e.Hb(603979776,9,{titleTpls:1}),e.Hb(603979776,10,{contentTpls:1}),(l()(),e.ib(0,null,null,1,null,sr)),e.qb(44,16384,[[10,4]],0,c.W,[e.M],null,null),(l()(),e.rb(45,0,null,null,5,"ngb-tab",[["id","monoparts"],["title","Monograph Parts"]],null,null,null,null,null)),e.qb(46,2113536,[[2,4]],2,c.V,[],{id:[0,"id"],title:[1,"title"]},null),e.Hb(603979776,11,{titleTpls:1}),e.Hb(603979776,12,{contentTpls:1}),(l()(),e.ib(0,null,null,1,null,br)),e.qb(50,16384,[[12,4]],0,c.W,[e.M],null,null),(l()(),e.rb(51,0,null,null,5,"ngb-tab",[["id","holdings"],["title","Holdings View"]],null,null,null,null,null)),e.qb(52,2113536,[[2,4]],2,c.V,[],{id:[0,"id"],title:[1,"title"]},null),e.Hb(603979776,13,{titleTpls:1}),e.Hb(603979776,14,{contentTpls:1}),(l()(),e.ib(0,null,null,1,null,dr)),e.qb(56,16384,[[14,4]],0,c.W,[e.M],null,null),(l()(),e.rb(57,0,null,null,5,"ngb-tab",[["id","conjoined"],["title","Conjoined Items"]],null,null,null,null,null)),e.qb(58,2113536,[[2,4]],2,c.V,[],{id:[0,"id"],title:[1,"title"]},null),e.Hb(603979776,15,{titleTpls:1}),e.Hb(603979776,16,{contentTpls:1}),(l()(),e.ib(0,null,null,1,null,pr)),e.qb(62,16384,[[16,4]],0,c.W,[e.M],null,null)],function(l,n){var u=n.component;l(n,5,0,u.searchContext.isSearchable()),l(n,9,0,u.recordId),l(n,12,0,u.summary),l(n,19,0,u.recordTab),l(n,22,0,"catalog","Item Table"),l(n,28,0,"marc_edit","MARC Edit"),l(n,34,0,"marc_html","MARC View"),l(n,40,0,"holds","View Holds"),l(n,46,0,"monoparts","Monograph Parts"),l(n,52,0,"holdings","Holdings View"),l(n,58,0,"conjoined","Conjoined Items")},function(l,n){var u=n.component;l(n,16,0,u.recordTab==u.defaultTab)})}function gr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"eg-catalog-record",[],null,null,null,hr,ar)),e.qb(1,114688,null,0,tr,[m.l,m.a,wn.a,$l.a,q.a,M,p.a],null,null)],function(l,n){l(n,1,0)},null)}var mr=e.nb("eg-catalog-record",tr,gr,{},{},[]),fr=function(){return function(l){this.holdTarget=l,this.processing=!1,this.selectedFormats={formats:{},langs:{}}}}(),vr=function(){function l(l,n,u,e,t,a,r,o,i,c,s,b,d){this.router=l,this.route=n,this.renderer=u,this.evt=e,this.net=t,this.org=a,this.auth=r,this.pcrud=o,this.bib=i,this.cat=c,this.staffCat=s,this.holds=b,this.perm=d,this.holdContexts=[],this.smsCarriers=[]}return l.prototype.ngOnInit=function(){var l=this;this.holdType=this.route.snapshot.params.type,this.holdTargets=this.route.snapshot.queryParams.target,this.holdFor=this.route.snapshot.queryParams.holdFor||"patron",Array.isArray(this.holdTargets)||(this.holdTargets=[this.holdTargets]),this.holdTargets=this.holdTargets.map(function(l){return Number(l)}),this.requestor=this.auth.user(),this.pickupLib=this.auth.user().ws_ou(),this.holdContexts=this.holdTargets.map(function(l){return new fr(l)}),"staff"===this.holdFor&&this.holdForChanged(),this.getTargetMeta(),this.org.settings("sms.enable").then(function(n){l.smsEnabled=n["sms.enable"],l.smsEnabled&&l.pcrud.search("csc",{active:"t"},{order_by:{csc:"name"}}).subscribe(function(n){l.smsCarriers.push({id:n.id(),label:n.name()})})}),setTimeout(function(){return l.renderer.selectRootElement("#patron-barcode").focus()})},l.prototype.getTargetMeta=function(){var l=this;this.holds.getHoldTargetMeta(this.holdType,this.holdTargets).subscribe(function(n){l.holdContexts.filter(function(l){return l.holdTarget===n.target}).forEach(function(u){u.holdMeta=n,l.mrFiltersToSelectors(u)})})},l.prototype.mrFiltersToSelectors=function(l){if("M"===this.holdType){var n=l.holdMeta;n.metarecord_filters&&(n.metarecord_filters.formats&&n.metarecord_filters.formats.forEach(function(n){return l.selectedFormats.formats[n.code()]=!0}),n.metarecord_filters.langs&&n.metarecord_filters.langs.forEach(function(n){return l.selectedFormats.langs[n.code()]=!0}))}},l.prototype.mrSelectorsToFilters=function(l){var n=l.holdMeta,u=l.selectedFormats,e=Object.keys(u.formats).filter(function(l){return Boolean(u.formats[l])}),t=Object.keys(u.langs).filter(function(l){return Boolean(u.langs[l])}),a={};if(e.length>0&&(a[0]=[],e.forEach(function(l){var u=n.metarecord_filters.formats.filter(function(n){return n.code()===l})[0];a[0].push({_attr:u.ctype(),_val:u.code()})})),t.length>0&&(a[1]=[],t.forEach(function(l){var u=n.metarecord_filters.langs.filter(function(n){return n.code()===l})[0];a[1].push({_attr:u.ctype(),_val:u.code()})})),Object.keys(a).length>0){var r={};return r[l.holdTarget]=JSON.stringify(a),r}return null},l.prototype.holdForChanged=function(){this.user=null,"patron"===this.holdFor?this.userBarcode&&this.userBarcodeChanged():(this.currentUserBarcode="_"+this.requestor.id(),this.getUser(this.requestor.id()))},l.prototype.activeDateSelected=function(l){this.activeDate=l},l.prototype.userBarcodeChanged=function(){var l=this;this.userBarcode!==this.currentUserBarcode&&(this.resetForm(),this.userBarcode?(this.user=null,this.currentUserBarcode=this.userBarcode,this.net.request("open-ils.actor","open-ils.actor.get_barcodes",this.auth.token(),this.auth.user().ws_ou(),"actor",this.userBarcode).subscribe(function(n){for(var u=0;u<n.length;u++){var e=n[u];if(!l.evt.parse(e)){l.getUser(e.id);break}}})):this.user=null)},l.prototype.resetForm=function(){this.notifyEmail=!0,this.notifyPhone=!0,this.phoneValue="",this.pickupLib=this.requestor.ws_ou()},l.prototype.getUser=function(l){var n=this;this.pcrud.retrieve("au",l,{flesh:1,flesh_fields:{au:["settings"]}}).subscribe(function(l){n.user=l,n.applyUserSettings()})},l.prototype.applyUserSettings=function(){var l=this;this.user&&this.user.settings()&&(this.phoneValue=this.user.day_phone()||this.user.evening_phone(),this.user.id()!==this.requestor.id()&&(this.pickupLib=this.user.home_ou()),this.user.settings().forEach(function(n){var u=n.name(),e=n.value();if(""!==e&&null!==e)switch(u){case"opac.hold_notify":l.notifyPhone=Boolean(e.match(/phone/)),l.notifyEmail=Boolean(e.match(/email/)),l.notifySms=Boolean(e.match(/sms/));break;case"opac.default_pickup_location":l.pickupLib=e}}),this.user.email()||(this.notifyEmail=!1),this.phoneValue||(this.notifyPhone=!1))},l.prototype.placeHolds=function(l){var n=this;if(l||(l=0),this.holdTargets[l]){this.placeHoldsClicked=!0;var u=this.holdTargets[l],e=this.holdContexts.filter(function(l){return l.holdTarget===u})[0];this.placeOneHold(e).then(function(){return n.placeHolds(l+1)})}},l.prototype.placeOneHold=function(l,n){var u=this;l.processing=!0;var e=this.mrSelectorsToFilters(l);return this.holds.placeHold({holdTarget:l.holdTarget,holdType:this.holdType,recipient:this.user.id(),requestor:this.requestor.id(),pickupLib:this.pickupLib,override:n,notifyEmail:this.notifyEmail,notifyPhone:this.notifyPhone?this.phoneValue:null,notifySms:this.notifySms?this.smsValue:null,smsCarrier:this.notifySms?this.smsCarrier:null,thawDate:this.suspend?this.activeDate:null,frozen:this.suspend,holdableFormats:e}).toPromise().then(function(n){if(console.log("hold returned: ",n),l.lastRequest=n,l.processing=!1,!n.override&&!n.result.success&&n.result.evt){var e=n.result.evt.textcode+".override";return u.perm.hasWorkPermHere(e).then(function(n){return l.canOverride=n[e]})}},function(n){l.processing=!1,console.error(n)})},l.prototype.override=function(l){this.placeOneHold(l,!0)},l.prototype.canOverride=function(l){return l.lastRequest&&!l.lastRequest.result.success&&l.canOverride},l.prototype.iconFormatLabel=function(l){return this.cat.iconFormatLabel(l)},l.prototype.hasMetaFilters=function(l){return"M"===this.holdType&&l.holdMeta.metarecord_filters&&(l.holdMeta.metarecord_filters.langs.length>1||l.holdMeta.metarecord_filters.formats.length>1)},l}(),yr=e.pb({encapsulation:2,styles:[],data:{}});function Cr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),e.Jb(1,null,[" (",", ",") "]))],null,function(l,n){var u=n.component;l(n,1,0,u.user.family_name(),u.user.first_given_name())})}function kr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,21,"li",[["class","list-group-item d-flex"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,9,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,8,"div",[["class","form-check"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,5,"input",[["class","form-check-input"],["name","notifySms"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,4).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,4).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.notifySms=u)&&t),t},null,null)),e.qb(4,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(6,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(8,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(9,0,null,null,1,"label",[["class","form-check-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Notify by SMS"])),(l()(),e.rb(11,0,null,null,10,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(12,0,null,null,9,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),e.rb(13,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),e.rb(14,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["SMS Number"])),(l()(),e.rb(16,0,null,null,5,"input",[["class","form-control"],["name","smsValue"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,17)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,17).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,17)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,17)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(a.smsValue=u)&&t),t},null,null)),e.qb(17,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(19,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(21,16384,null,0,o.p,[[4,o.o]],null,null)],function(l,n){var u=n.component;l(n,6,0,"notifySms",u.notifySms),l(n,19,0,"smsValue",!u.notifySms,u.smsValue)},function(l,n){l(n,3,0,e.Bb(n,8).ngClassUntouched,e.Bb(n,8).ngClassTouched,e.Bb(n,8).ngClassPristine,e.Bb(n,8).ngClassDirty,e.Bb(n,8).ngClassValid,e.Bb(n,8).ngClassInvalid,e.Bb(n,8).ngClassPending),l(n,16,0,e.Bb(n,21).ngClassUntouched,e.Bb(n,21).ngClassTouched,e.Bb(n,21).ngClassPristine,e.Bb(n,21).ngClassDirty,e.Bb(n,21).ngClassValid,e.Bb(n,21).ngClassInvalid,e.Bb(n,21).ngClassPending)})}function wr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"li",[["class","list-group-item d-flex"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["SMS Carrier"])),(l()(),e.rb(4,0,null,null,3,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(5,0,null,null,2,"eg-combobox",[["placeholder","SMS Carriers"]],null,null,null,fu.b,fu.a)),e.Gb(5120,null,o.n,function(l){return[l]},[cu.a]),e.qb(7,114688,null,0,cu.a,[e.k,p.a,W.a,wn.a],{placeholder:[0,"placeholder"],disabled:[1,"disabled"],entries:[2,"entries"]},null)],function(l,n){var u=n.component;l(n,7,0,"SMS Carriers",!u.notifySms,u.smsCarriers)},null)}function Br(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(-1,null,["METARECORD"]))],null,null)}function xr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(-1,null,["TITLE"]))],null,null)}function qr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(-1,null,["CALL NUMBER"]))],null,null)}function _r(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(-1,null,["FORCE COPY"]))],null,null)}function Ir(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(-1,null,["COPY"]))],null,null)}function Mr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(-1,null,["RECALL"]))],null,null)}function Sr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(-1,null,["ISSUANCE"]))],null,null)}function Pr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(-1,null,["PARTS"]))],null,null)}function Tr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"span",[["class","font-italic"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["ANY"]))],null,null)}function Dr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,0,"img",[["class","pr-1"]],[[8,"alt",0],[8,"title",0],[8,"src",4]],null,null,null,null))],null,function(l,n){var u=n.component;l(n,1,0,e.tb(1,"",u.iconFormatLabel(n.context.$implicit),""),e.tb(1,"",u.iconFormatLabel(n.context.$implicit),""),e.tb(1,"/images/format_icons/icon_format/",n.context.$implicit,".png"))})}function Lr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(1,null,[" "," "]))],null,function(l,n){var u=n.parent.parent.context.$implicit.holdMeta.callNum.label();l(n,1,0,u)})}function Er(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(1,null,[" "," "]))],null,function(l,n){var u=n.parent.parent.context.$implicit.holdMeta.copy.barcode();l(n,1,0,u)})}function Jr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","alert alert-info"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Hold Pending"]))],null,null)}function Fr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","alert alert-primary"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Hold Processing..."]))],null,null)}function Hr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","alert alert-success"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Hold Succeeded"]))],null,null)}function Ar(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),e.Jb(2,null,[" "," "]))],null,function(l,n){l(n,2,0,n.parent.parent.parent.context.$implicit.lastRequest.result.evt.textcode)})}function Nr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Hr)),e.qb(2,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Ar)),e.qb(4,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(0,null,null,0))],function(l,n){l(n,2,0,n.parent.parent.context.$implicit.lastRequest.result.success),l(n,4,0,!n.parent.parent.context.$implicit.lastRequest.result.success)},null)}function Or(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"button",[["class","btn btn-info"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.override(l.parent.parent.context.$implicit)&&e),e},null,null)),(l()(),e.Jb(-1,null,["Override"]))],null,null)}function Rr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,10,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,9,"div",[["class","form-check ml-3"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"input",[["class","form-check-input"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(l.parent.parent.parent.context.$implicit.selectedFormats.formats[l.context.$implicit.code()]=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(5,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(8,0,null,null,0,"img",[["class","ml-1"]],[[8,"alt",0],[8,"title",0],[8,"src",4]],null,null,null,null)),(l()(),e.rb(9,0,null,null,1,"label",[["class","form-check-label ml-1"]],null,null,null,null,null)),(l()(),e.Jb(10,null,[" "," "]))],function(l,n){var u=1==n.parent.parent.parent.context.$implicit.holdMeta.metarecord_filters.formats.length,e=n.parent.parent.parent.context.$implicit.selectedFormats.formats[n.context.$implicit.code()];l(n,5,0,u,e)},function(l,n){var u=n.component;l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending);var t=e.tb(1,"",u.iconFormatLabel(n.context.$implicit.code()),""),a=e.tb(1,"",u.iconFormatLabel(n.context.$implicit.code()),""),r=e.tb(1,"/images/format_icons/icon_format/",n.context.$implicit.code(),".png");l(n,8,0,t,a,r);var o=n.context.$implicit.search_label()||n.context.$implicit.value();l(n,10,0,o)})}function Gr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"div",[["class","row"],["style","background-color:inherit; border:none"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Formats: "])),(l()(),e.rb(4,0,null,null,2,"div",[["class","col-lg-11 d-flex"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Rr)),e.qb(6,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,6,0,n.parent.parent.context.$implicit.holdMeta.metarecord_filters.formats)},null)}function Ur(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,9,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,8,"div",[["class","form-check ml-3"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,5,"input",[["class","form-check-input"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0;return"change"===n&&(t=!1!==e.Bb(l,3).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(l.parent.parent.parent.context.$implicit.selectedFormats.langs[l.context.$implicit.code()]=u)&&t),t},null,null)),e.qb(3,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(5,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(7,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(8,0,null,null,1,"label",[["class","form-check-label ml-1"]],null,null,null,null,null)),(l()(),e.Jb(9,null,[" "," "]))],function(l,n){var u=1==n.parent.parent.parent.context.$implicit.holdMeta.metarecord_filters.langs.length,e=n.parent.parent.parent.context.$implicit.selectedFormats.langs[n.context.$implicit.code()];l(n,5,0,u,e)},function(l,n){l(n,2,0,e.Bb(n,7).ngClassUntouched,e.Bb(n,7).ngClassTouched,e.Bb(n,7).ngClassPristine,e.Bb(n,7).ngClassDirty,e.Bb(n,7).ngClassValid,e.Bb(n,7).ngClassInvalid,e.Bb(n,7).ngClassPending);var u=n.context.$implicit.search_label()||n.context.$implicit.value();l(n,9,0,u)})}function jr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"div",[["class","row"],["style","background-color:inherit; border:none"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Languages: "])),(l()(),e.rb(4,0,null,null,2,"div",[["class","col-lg-11 d-flex"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Ur)),e.qb(6,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,6,0,n.parent.parent.context.$implicit.holdMeta.metarecord_filters.langs)},null)}function Kr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,30,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,2,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Dr)),e.qb(4,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(5,0,null,null,3,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,7).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.qb(7,671744,null,0,m.n,[m.l,m.a,i.m],{routerLink:[0,"routerLink"]},null),(l()(),e.Jb(8,null,[" "," "])),(l()(),e.rb(9,0,null,null,1,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),e.Jb(10,null,["",""])),(l()(),e.rb(11,0,null,null,2,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Lr)),e.qb(13,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),e.rb(14,0,null,null,2,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Er)),e.qb(16,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),e.rb(17,0,null,null,6,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Jr)),e.qb(19,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Fr)),e.qb(21,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Nr)),e.qb(23,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(24,0,null,null,2,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Or)),e.qb(26,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Gr)),e.qb(28,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,jr)),e.qb(30,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,4,0,n.parent.context.$implicit.holdMeta.bibSummary.attributes.icon_format),l(n,7,0,e.tb(1,"/staff/catalog/record/",n.parent.context.$implicit.holdMeta.bibId,"")),l(n,13,0,n.parent.context.$implicit.holdMeta.callNum,e.Bb(n.parent.parent,154)),l(n,16,0,n.parent.context.$implicit.holdMeta.copy,e.Bb(n.parent.parent,154)),l(n,19,0,!n.parent.context.$implicit.lastRequest&&!n.parent.context.$implicit.processing),l(n,21,0,n.parent.context.$implicit.processing),l(n,23,0,n.parent.context.$implicit.lastRequest),l(n,26,0,u.canOverride(n.parent.context.$implicit)),l(n,28,0,u.hasMetaFilters(n.parent.context.$implicit)),l(n,30,0,u.hasMetaFilters(n.parent.context.$implicit))},function(l,n){l(n,6,0,e.Bb(n,7).target,e.Bb(n,7).href),l(n,8,0,n.parent.context.$implicit.holdMeta.bibSummary.display.title),l(n,10,0,n.parent.context.$implicit.holdMeta.bibSummary.display.author)})}function $r(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[["class","row mt-1 ml-1 mr-1"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Kr)),e.qb(2,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.context.$implicit.holdMeta)},null)}function Vr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,4,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,3,"h3",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Place Hold "])),(l()(),e.ib(16777216,null,null,1,null,Cr)),e.qb(5,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(6,0,null,null,5,"div",[["class","col-lg-2 text-right"]],null,null,null,null,null)),(l()(),e.rb(7,0,null,null,4,"button",[["class","btn btn-outline-dark btn-sm"]],[[8,"disabled",0]],null,null,null,null)),(l()(),e.rb(8,0,null,null,1,"span",[["class","material-icons mat-icon-in-button align-middle"],["title","Search for Patron"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["search"])),(l()(),e.rb(10,0,null,null,1,"span",[["class","align-middle"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Search for Patron"])),(l()(),e.rb(12,0,null,null,118,"form",[["autocomplete","off"],["class","form form-validated common-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown.enter"],[null,"submit"],[null,"reset"]],function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==e.Bb(l,14).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.Bb(l,14).onReset()&&t),"keydown.enter"===n&&(t=!1!==u.preventDefault()&&t),t},null,null)),e.qb(13,16384,null,0,o.C,[],null,null),e.qb(14,4210688,null,0,o.r,[[8,null],[8,null]],null,null),e.Gb(2048,null,o.c,null,[o.r]),e.qb(16,16384,null,0,o.q,[[4,o.c]],null,null),(l()(),e.rb(17,0,null,null,109,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(18,0,null,null,59,"div",[["class","col-lg-6 common-form striped-odd"]],null,null,null,null,null)),(l()(),e.rb(19,0,null,null,22,"div",[["class","row mt-2"]],null,null,null,null,null)),(l()(),e.rb(20,0,null,null,10,"div",[["class","col-lg-6"]],null,null,null,null,null)),(l()(),e.rb(21,0,null,null,9,"div",[["class","form-check"]],null,null,null,null,null)),(l()(),e.rb(22,0,null,null,6,"input",[["class","form-check-input"],["name","holdFor"],["type","radio"],["value","patron"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,23)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,23).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,23)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,23)._compositionEnd(u.target.value)&&t),"change"===n&&(t=!1!==e.Bb(l,24).onChange()&&t),"blur"===n&&(t=!1!==e.Bb(l,24).onTouched()&&t),"change"===n&&(t=!1!==a.holdForChanged()&&t),"ngModelChange"===n&&(t=!1!==(a.holdFor=u)&&t),t},null,null)),e.qb(23,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.qb(24,212992,null,0,o.u,[e.E,e.k,o.D,e.r],{name:[0,"name"],value:[1,"value"]},null),e.Gb(1024,null,o.n,function(l,n){return[l,n]},[o.d,o.u]),e.qb(26,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(28,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(29,0,null,null,1,"label",[["class","form-check-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Place hold for patron by barcode: "])),(l()(),e.rb(31,0,null,null,10,"div",[["class","col-lg-6"]],null,null,null,null,null)),(l()(),e.rb(32,0,null,null,9,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),e.rb(33,0,null,null,5,"input",[["class","form-control"],["id","patron-barcode"],["name","userBarcode"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,34)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,34).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,34)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,34)._compositionEnd(u.target.value)&&t),"keyup.enter"===n&&(t=!1!==a.userBarcodeChanged()&&t),"ngModelChange"===n&&(t=!1!==(a.userBarcode=u)&&t),"change"===n&&(t=!1!==a.userBarcodeChanged()&&t),t},null,null)),e.qb(34,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(36,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(38,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(39,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),e.rb(40,0,null,null,1,"button",[["class","btn btn-outline-dark"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.userBarcodeChanged()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Submit"])),(l()(),e.rb(42,0,null,null,13,"div",[["class","row mt-2"]],null,null,null,null,null)),(l()(),e.rb(43,0,null,null,10,"div",[["class","col-lg-6"]],null,null,null,null,null)),(l()(),e.rb(44,0,null,null,9,"div",[["class","form-check"]],null,null,null,null,null)),(l()(),e.rb(45,0,null,null,6,"input",[["class","form-check-input"],["name","holdFor"],["type","radio"],["value","staff"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,46)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,46).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,46)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,46)._compositionEnd(u.target.value)&&t),"change"===n&&(t=!1!==e.Bb(l,47).onChange()&&t),"blur"===n&&(t=!1!==e.Bb(l,47).onTouched()&&t),"change"===n&&(t=!1!==a.holdForChanged()&&t),"ngModelChange"===n&&(t=!1!==(a.holdFor=u)&&t),t},null,null)),e.qb(46,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.qb(47,212992,null,0,o.u,[e.E,e.k,o.D,e.r],{name:[0,"name"],value:[1,"value"]},null),e.Gb(1024,null,o.n,function(l,n){return[l,n]},[o.d,o.u]),e.qb(49,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(51,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(52,0,null,null,1,"label",[["class","form-check-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Place hold for this staff account: "])),(l()(),e.rb(54,0,null,null,1,"div",[["class","col-lg-6 font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(55,null,["",""])),(l()(),e.rb(56,0,null,null,6,"div",[["class","row mt-2"]],null,null,null,null,null)),(l()(),e.rb(57,0,null,null,2,"div",[["class","col-lg-6"]],null,null,null,null,null)),(l()(),e.rb(58,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Pickup Location: "])),(l()(),e.rb(60,0,null,null,2,"div",[["class","col-lg-6"]],null,null,null,null,null)),(l()(),e.rb(61,0,null,null,1,"eg-org-select",[],null,null,null,s.b,s.a)),e.qb(62,114688,null,0,b.a,[d.a,p.a,h.a,g.a],{applyOrgId:[0,"applyOrgId"]},null),(l()(),e.rb(63,0,null,null,14,"div",[["class","row mt-2"]],null,null,null,null,null)),(l()(),e.rb(64,0,null,null,9,"div",[["class","col-lg-6"]],null,null,null,null,null)),(l()(),e.rb(65,0,null,null,8,"div",[["class","form-check"]],null,null,null,null,null)),(l()(),e.rb(66,0,null,null,5,"input",[["class","form-check-input"],["name","suspend"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,67).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,67).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.suspend=u)&&t),t},null,null)),e.qb(67,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(69,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(71,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(72,0,null,null,1,"label",[["class","form-check-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Suspend Hold"])),(l()(),e.rb(74,0,null,null,3,"div",[["class","col-lg-6"]],null,null,null,null,null)),(l()(),e.rb(75,0,null,null,2,"eg-date-select",[],null,[[null,"onChangeAsISO"]],function(l,n,u){var e=!0;return"onChangeAsISO"===n&&(e=!1!==l.component.activeDateSelected(u)&&e),e},Ue.b,Ue.a)),e.Gb(5120,null,o.n,function(l){return[l]},[je.a]),e.qb(77,114688,null,0,je.a,[],{disabled:[0,"disabled"]},null),(l()(),e.rb(78,0,null,null,48,"div",[["class","col-lg-6"]],null,null,null,null,null)),(l()(),e.rb(79,0,null,null,47,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.rb(80,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),e.rb(81,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Notifications"])),(l()(),e.rb(83,0,null,null,43,"ul",[["class","list-group list-group-flush"]],null,null,null,null,null)),(l()(),e.rb(84,0,null,null,16,"li",[["class","list-group-item d-flex"]],null,null,null,null,null)),(l()(),e.rb(85,0,null,null,9,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(86,0,null,null,8,"div",[["class","form-check"]],null,null,null,null,null)),(l()(),e.rb(87,0,null,null,5,"input",[["class","form-check-input"],["name","notifyEmail"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,88).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,88).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.notifyEmail=u)&&t),t},null,null)),e.qb(88,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(90,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(92,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(93,0,null,null,1,"label",[["class","form-check-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Notify by Email"])),(l()(),e.rb(95,0,null,null,5,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(96,0,null,null,4,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),e.rb(97,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),e.rb(98,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Email Address"])),(l()(),e.rb(100,0,null,null,0,"input",[["class","form-control"],["name","userEmail"],["type","text"]],[[8,"disabled",0],[8,"value",0]],null,null,null,null)),(l()(),e.rb(101,0,null,null,21,"li",[["class","list-group-item d-flex"]],null,null,null,null,null)),(l()(),e.rb(102,0,null,null,9,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(103,0,null,null,8,"div",[["class","form-check"]],null,null,null,null,null)),(l()(),e.rb(104,0,null,null,5,"input",[["class","form-check-input"],["name","notifyPhone"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"change"===n&&(t=!1!==e.Bb(l,105).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Bb(l,105).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(a.notifyPhone=u)&&t),t},null,null)),e.qb(105,16384,null,0,o.b,[e.E,e.k],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.b]),e.qb(107,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(109,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.rb(110,0,null,null,1,"label",[["class","form-check-label"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Notify by Phone"])),(l()(),e.rb(112,0,null,null,10,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),e.rb(113,0,null,null,9,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),e.rb(114,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),e.rb(115,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Phone Number"])),(l()(),e.rb(117,0,null,null,5,"input",[["class","form-control"],["name","phoneValue"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,a=l.component;return"input"===n&&(t=!1!==e.Bb(l,118)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,118).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,118)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,118)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(a.phoneValue=u)&&t),t},null,null)),e.qb(118,16384,null,0,o.d,[e.E,e.k,[2,o.a]],null,null),e.Gb(1024,null,o.n,function(l){return[l]},[o.d]),e.qb(120,671744,null,0,o.s,[[2,o.c],[8,null],[8,null],[6,o.n]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,o.o,null,[o.s]),e.qb(122,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),e.ib(16777216,null,null,1,null,kr)),e.qb(124,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,wr)),e.qb(126,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(127,0,null,null,3,"div",[["class","row mt-2"]],null,null,null,null,null)),(l()(),e.rb(128,0,null,null,2,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(129,0,null,null,1,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.placeHolds()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Place Hold(s)"])),(l()(),e.rb(131,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(132,0,null,null,1,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(133,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.rb(134,0,null,null,19,"div",[["class","row font-weight-bold pt-3 ml-1 mr-1"]],null,null,null,null,null)),(l()(),e.rb(135,0,null,null,18,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Placing "])),(l()(),e.ib(16777216,null,null,1,null,Br)),e.qb(138,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,xr)),e.qb(140,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,qr)),e.qb(142,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,_r)),e.qb(144,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Ir)),e.qb(146,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Mr)),e.qb(148,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Sr)),e.qb(150,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Pr)),e.qb(152,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.Jb(-1,null,[" hold on record(s)"])),(l()(),e.ib(0,[["anyValue",2]],null,0,null,Tr)),(l()(),e.rb(155,0,null,null,17,"div",[["class","hold-records-list common-form striped-even"]],null,null,null,null,null)),(l()(),e.rb(156,0,null,null,14,"div",[["class","row mt-2 ml-1 mr-1 font-weight-bold"]],null,null,null,null,null)),(l()(),e.rb(157,0,null,null,1,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Format"])),(l()(),e.rb(159,0,null,null,1,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Title"])),(l()(),e.rb(161,0,null,null,1,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Author"])),(l()(),e.rb(163,0,null,null,1,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Call Number"])),(l()(),e.rb(165,0,null,null,1,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Barcode"])),(l()(),e.rb(167,0,null,null,1,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Holds Status"])),(l()(),e.rb(169,0,null,null,1,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Override"])),(l()(),e.ib(16777216,null,null,1,null,$r)),e.qb(172,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var u=n.component;l(n,5,0,u.user),l(n,24,0,"holdFor","patron"),l(n,26,0,"holdFor",u.holdFor),l(n,36,0,"userBarcode","patron"!=u.holdFor,u.userBarcode),l(n,47,0,"holdFor","staff"),l(n,49,0,"holdFor",u.holdFor),l(n,62,0,u.pickupLib),l(n,69,0,"suspend",u.suspend),l(n,77,0,!u.suspend),l(n,90,0,"notifyEmail",!u.user||!u.user.email(),u.notifyEmail),l(n,107,0,"notifyPhone",u.notifyPhone),l(n,120,0,"phoneValue",!u.notifyPhone,u.phoneValue),l(n,124,0,u.smsEnabled),l(n,126,0,u.smsEnabled),l(n,138,0,"M"==u.holdType),l(n,140,0,"T"==u.holdType),l(n,142,0,"V"==u.holdType),l(n,144,0,"F"==u.holdType),l(n,146,0,"C"==u.holdType),l(n,148,0,"R"==u.holdType),l(n,150,0,"I"==u.holdType),l(n,152,0,"P"==u.holdType),l(n,172,0,u.holdContexts)},function(l,n){var u=n.component;l(n,7,0,!0),l(n,12,0,e.Bb(n,16).ngClassUntouched,e.Bb(n,16).ngClassTouched,e.Bb(n,16).ngClassPristine,e.Bb(n,16).ngClassDirty,e.Bb(n,16).ngClassValid,e.Bb(n,16).ngClassInvalid,e.Bb(n,16).ngClassPending),l(n,22,0,e.Bb(n,28).ngClassUntouched,e.Bb(n,28).ngClassTouched,e.Bb(n,28).ngClassPristine,e.Bb(n,28).ngClassDirty,e.Bb(n,28).ngClassValid,e.Bb(n,28).ngClassInvalid,e.Bb(n,28).ngClassPending),l(n,33,0,e.Bb(n,38).ngClassUntouched,e.Bb(n,38).ngClassTouched,e.Bb(n,38).ngClassPristine,e.Bb(n,38).ngClassDirty,e.Bb(n,38).ngClassValid,e.Bb(n,38).ngClassInvalid,e.Bb(n,38).ngClassPending),l(n,45,0,e.Bb(n,51).ngClassUntouched,e.Bb(n,51).ngClassTouched,e.Bb(n,51).ngClassPristine,e.Bb(n,51).ngClassDirty,e.Bb(n,51).ngClassValid,e.Bb(n,51).ngClassInvalid,e.Bb(n,51).ngClassPending),l(n,55,0,u.requestor.usrname()),l(n,66,0,e.Bb(n,71).ngClassUntouched,e.Bb(n,71).ngClassTouched,e.Bb(n,71).ngClassPristine,e.Bb(n,71).ngClassDirty,e.Bb(n,71).ngClassValid,e.Bb(n,71).ngClassInvalid,e.Bb(n,71).ngClassPending),l(n,87,0,e.Bb(n,92).ngClassUntouched,e.Bb(n,92).ngClassTouched,e.Bb(n,92).ngClassPristine,e.Bb(n,92).ngClassDirty,e.Bb(n,92).ngClassValid,e.Bb(n,92).ngClassInvalid,e.Bb(n,92).ngClassPending),l(n,100,0,!0,e.tb(1,"",u.user?u.user.email():"","")),l(n,104,0,e.Bb(n,109).ngClassUntouched,e.Bb(n,109).ngClassTouched,e.Bb(n,109).ngClassPristine,e.Bb(n,109).ngClassDirty,e.Bb(n,109).ngClassValid,e.Bb(n,109).ngClassInvalid,e.Bb(n,109).ngClassPending),l(n,117,0,e.Bb(n,122).ngClassUntouched,e.Bb(n,122).ngClassTouched,e.Bb(n,122).ngClassPristine,e.Bb(n,122).ngClassDirty,e.Bb(n,122).ngClassValid,e.Bb(n,122).ngClassInvalid,e.Bb(n,122).ngClassPending),l(n,129,0,!u.user||u.placeHoldsClicked)})}function zr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"ng-component",[],null,null,null,Vr,yr)),e.qb(1,114688,null,0,vr,[m.l,m.a,e.E,Z.a,Q.b,h.a,d.a,wn.a,$l.a,q.a,M,$e,g.a],null,null)],function(l,n){l(n,1,0)},null)}var Wr=e.nb("ng-component",vr,zr,{},{},[]),Qr=function(){function l(l,n,u,e){this.route=l,this.cat=n,this.catUrl=u,this.staffCat=e}return l.prototype.ngOnInit=function(){var l=this;this.searchContext=this.staffCat.searchContext,this.routeSub=this.route.queryParamMap.subscribe(function(n){return l.browseByUrl(n)})},l.prototype.ngOnDestroy=function(){this.routeSub.unsubscribe()},l.prototype.browseByUrl=function(l){var n=this;this.catUrl.applyUrlParams(this.searchContext,l);var u=this.searchContext.browseSearch;"keyword"===u.fieldClass&&(u.fieldClass="title"),u.isSearchable()&&(this.results=[],this.cat.browse(this.searchContext).subscribe(function(l){return n.addResult(l)}))},l.prototype.addResult=function(l){l.compiledHeadings=[];var n={};l.sees.forEach(function(u){u.control_set&&u.headings.forEach(function(u){var e=u[Object.keys(u)[0]][0],t=l.list_authorities.filter(function(l){return Number(l)===Number(e.target)})[0];e.target&&e.main_entry&&e.target_count&&!t&&!n[e.target]&&(n[e.target]=!0,l.compiledHeadings.push({heading:e.heading,target:e.target,target_count:e.target_count,type:e.type}))})}),this.results.push(l)},l.prototype.browseIsDone=function(){return this.searchContext.searchState===I.c.COMPLETE},l.prototype.browseIsActive=function(){return this.searchContext.searchState===I.c.SEARCHING},l.prototype.browseHasResults=function(){return this.browseIsDone()&&this.results.length>0},l.prototype.prevPage=function(){var l=this.results[0];l&&(this.searchContext.browseSearch.pivot=l.pivot_point,this.staffCat.browse())},l.prototype.nextPage=function(){var l=this.results[this.results.length-1];l&&(this.searchContext.browseSearch.pivot=l.pivot_point,this.staffCat.browse())},l.prototype.searchByBrowseEntry=function(l){this.searchContext.browseSearch.reset(),this.searchContext.termSearch.hasBrowseEntry=l.browse_entry+","+l.fields,this.staffCat.search()},l.prototype.newBrowseFromHeading=function(l){this.searchContext.browseSearch.value=l.heading,this.staffCat.browse()},l}(),Zr=e.pb({encapsulation:2,styles:[],data:{}});function Xr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,4,"div",[["class","col-lg-6 offset-lg-3 pt-3"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,3,"div",[["class","progress"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,2,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","100"],["class","progress-bar progress-bar-striped active w-100"],["role","progressbar"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Searching.."]))],null,null)}function Yr(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,4,"div",[["class","row pt-3"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,3,"div",[["class","col-lg-6 offset-lg-3"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,2,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["No Maching Items Were Found"]))],null,null)}function lo(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"a",[["href","javascript:void(0)"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.searchByBrowseEntry(l.parent.parent.context.$implicit)&&e),e},null,null)),(l()(),e.Jb(2,null,[" "," (",") "]))],null,function(l,n){l(n,2,0,n.parent.parent.context.$implicit.value,n.parent.parent.context.$implicit.sources)})}function no(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(2,null,["",""]))],null,function(l,n){l(n,2,0,n.parent.parent.context.$implicit.value)})}function uo(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(-1,null,[" See "]))],null,null)}function eo(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Broader term "]))],null,null)}function to(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Narrower term "]))],null,null)}function ao(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Related term "]))],null,null)}function ro(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,11,"div",[["class","col-lg-10 offset-lg-1"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,8,"span",[["class","font-italic"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,uo)),e.qb(4,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,eo)),e.qb(6,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,to)),e.qb(8,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,ao)),e.qb(10,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(11,0,null,null,1,"a",[["href","javascript:void(0)"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.newBrowseFromHeading(l.context.$implicit)&&e),e},null,null)),(l()(),e.Jb(12,null,[" "," (",") "]))],function(l,n){l(n,4,0,!n.context.$implicit.type||"variant"==n.context.$implicit.type),l(n,6,0,"broader"==n.context.$implicit.type),l(n,8,0,"narrower"==n.context.$implicit.type),l(n,10,0,"other"==n.context.$implicit.type)},function(l,n){l(n,12,0,n.context.$implicit.heading,n.context.$implicit.target_count)})}function oo(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,8,"div",[["class","col-lg-12 card tight-card mb-2 bg-light"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,7,"div",[["class","col-lg-8"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,lo)),e.qb(4,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,no)),e.qb(6,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,ro)),e.qb(8,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,4,0,n.parent.context.$implicit.sources>0),l(n,6,0,0==n.parent.context.$implicit.sources),l(n,8,0,n.parent.context.$implicit.compiledHeadings)},null)}function io(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,oo)),e.qb(2,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.context.$implicit.value)},null)}function co(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,14,"div",[["id","staff-catalog-browse-results-container"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,5,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,4,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.prevPage()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Back"])),(l()(),e.rb(5,0,null,null,1,"button",[["class","btn btn-primary ml-3"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.nextPage()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Next"])),(l()(),e.ib(16777216,null,null,1,null,io)),e.qb(8,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(9,0,null,null,5,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),e.rb(10,0,null,null,4,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(11,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.prevPage()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Back"])),(l()(),e.rb(13,0,null,null,1,"button",[["class","btn btn-primary ml-3"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.nextPage()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Next"]))],function(l,n){l(n,8,0,n.component.results)},null)}function so(l){return e.Lb(0,[(l()(),e.ib(16777216,null,null,1,null,Xr)),e.qb(1,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Yr)),e.qb(3,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,co)),e.qb(5,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,1,0,u.browseIsActive()),l(n,3,0,u.browseIsDone()&&!u.browseHasResults()),l(n,5,0,u.browseHasResults())},null)}var bo=function(){function l(l){this.staffCat=l}return l.prototype.ngOnInit=function(){this.staffCat.createContext(),this.searchForm.searchTab="browse"},l}(),po=e.pb({encapsulation:2,styles:[],data:{}});function ho(l){return e.Lb(0,[e.Hb(402653184,1,{searchForm:0}),(l()(),e.rb(1,0,null,null,1,"eg-catalog-search-form",[],null,null,null,Pl,tl)),e.qb(2,4308992,[[1,4],["searchForm",4]],0,el,[e.E,m.a,h.a,q.a,M],null,null),(l()(),e.rb(3,0,null,null,1,"eg-catalog-browse-results",[],null,null,null,so,Zr)),e.qb(4,245760,null,0,Qr,[m.a,q.a,_.a,M],null,null)],function(l,n){l(n,2,0),l(n,4,0)},null)}function go(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"ng-component",[],null,null,null,ho,po)),e.qb(1,114688,null,0,bo,[M],null,null)],function(l,n){l(n,1,0)},null)}var mo=e.nb("ng-component",bo,go,{},{},[]),fo=function(){function l(l,n,u,e,t,a){this.router=l,this.route=n,this.cat=u,this.bib=e,this.catUrl=t,this.staffCat=a}return l.prototype.ngOnInit=function(){var l=this;this.searchContext=this.staffCat.searchContext,this.routeSub=this.route.queryParamMap.subscribe(function(n){return l.browseByUrl(n)})},l.prototype.ngOnDestroy=function(){this.routeSub.unsubscribe()},l.prototype.browseByUrl=function(l){var n=this;this.catUrl.applyUrlParams(this.searchContext,l),this.searchContext.cnBrowseSearch.isSearchable()&&(this.results=[],this.cat.cnBrowse(this.searchContext).subscribe(function(l){return n.processResults(l)}))},l.prototype.processResults=function(l){var n=this;this.results=l;var u=this.searchContext.global?this.searchContext.org.root().ou_type().depth():this.searchContext.searchOrg.ou_type().depth(),e=this.results.map(function(l){return l.record().id()}),t=[];this.bib.getBibSummary(e.filter(function(l,n,u){return u.indexOf(l)===n}),this.searchContext.searchOrg.id(),u).subscribe(function(l){var u=n.results.filter(function(n){return Number(n.record().id())===l.id});t.push(l.record),u.forEach(function(n){return n._bibSummary=l})},function(l){},function(){n.bib.fleshBibUsers(t)})},l.prototype.browseIsDone=function(){return this.searchContext.searchState===I.c.COMPLETE},l.prototype.browseIsActive=function(){return this.searchContext.searchState===I.c.SEARCHING},l.prototype.browseHasResults=function(){return this.browseIsDone()&&this.results.length>0},l.prototype.prevPage=function(){this.searchContext.cnBrowseSearch.offset--,this.staffCat.cnBrowse()},l.prototype.nextPage=function(){this.searchContext.cnBrowseSearch.offset++,this.staffCat.cnBrowse()},l.prototype.navigateToRecord=function(l){var n=this.catUrl.toUrlParams(this.searchContext);this.router.navigate(["/staff/catalog/record/"+l.id],{queryParams:n})},l}(),vo=e.pb({encapsulation:2,styles:[],data:{}});function yo(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,4,"div",[["class","col-lg-6 offset-lg-3 pt-3"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,3,"div",[["class","progress"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,2,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","100"],["class","progress-bar progress-bar-striped active w-100"],["role","progressbar"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Searching.."]))],null,null)}function Co(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,4,"div",[["class","row pt-3"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,3,"div",[["class","col-lg-6 offset-lg-3"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,2,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["No Maching Items Were Found"]))],null,null)}function ko(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"eg-catalog-result-record",[],null,null,null,fn,zl)),e.qb(2,245760,null,0,Vl,[m.l,h.a,Q.b,$l.a,q.a,_.a,M,X.a],{index:[0,"index"],summary:[1,"summary"],callNumber:[2,"callNumber"]},null)],function(l,n){l(n,2,0,n.parent.context.index,n.parent.context.$implicit._bibSummary,n.parent.context.$implicit)},null)}function wo(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,ko)),e.qb(2,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.context.$implicit._bibSummary)},null)}function Bo(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,14,"div",[["id","staff-catalog-browse-results-container"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,5,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,4,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.prevPage()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Back"])),(l()(),e.rb(5,0,null,null,1,"button",[["class","btn btn-primary ml-3"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.nextPage()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Next"])),(l()(),e.ib(16777216,null,null,1,null,wo)),e.qb(8,278528,null,0,i.o,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(9,0,null,null,5,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),e.rb(10,0,null,null,4,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),e.rb(11,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.prevPage()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Back"])),(l()(),e.rb(13,0,null,null,1,"button",[["class","btn btn-primary ml-3"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.nextPage()&&e),e},null,null)),(l()(),e.Jb(-1,null,["Next"]))],function(l,n){l(n,8,0,n.component.results)},null)}function xo(l){return e.Lb(0,[(l()(),e.ib(16777216,null,null,1,null,yo)),e.qb(1,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Co)),e.qb(3,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,Bo)),e.qb(5,16384,null,0,i.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,1,0,u.browseIsActive()),l(n,3,0,u.browseIsDone()&&!u.browseHasResults()),l(n,5,0,u.browseHasResults())},null)}var qo=function(){function l(l){this.staffCat=l}return l.prototype.ngOnInit=function(){this.staffCat.createContext(),this.searchForm.searchTab="cnbrowse"},l}(),_o=e.pb({encapsulation:2,styles:[],data:{}});function Io(l){return e.Lb(0,[e.Hb(402653184,1,{searchForm:0}),(l()(),e.rb(1,0,null,null,1,"eg-catalog-search-form",[],null,null,null,Pl,tl)),e.qb(2,4308992,[[1,4],["searchForm",4]],0,el,[e.E,m.a,h.a,q.a,M],null,null),(l()(),e.rb(3,0,null,null,1,"eg-catalog-cn-browse-results",[],null,null,null,xo,vo)),e.qb(4,245760,null,0,fo,[m.l,m.a,q.a,$l.a,_.a,M],null,null)],function(l,n){l(n,2,0),l(n,4,0)},null)}function Mo(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"ng-component",[],null,null,null,Io,_o)),e.qb(1,114688,null,0,qo,[M],null,null)],function(l,n){l(n,1,0)},null)}var So=e.nb("ng-component",qo,Mo,{},{},[]),Po=u("EWr9"),To=function(){function l(l,n,u,e,t,a,r,o){this.router=l,this.store=n,this.org=u,this.net=e,this.auth=t,this.cat=a,this.staffCat=r,this.basket=o}return l.prototype.resolve=function(l,n){return console.debug("CatalogResolver:resolve()"),Promise.all([this.cat.fetchCcvms(),this.cat.fetchCmfs(),this.fetchSettings(),this.basket.getRecordIds()])},l.prototype.fetchSettings=function(){var l=this;return this.store.getItemBatch(["eg.search.search_lib","eg.search.pref_lib","cat.holdings_show_empty_org","cat.holdings_show_empty","cat.marcedit.stack_subfields","cat.marcedit.flateditor","cat.holdings_show_copies","cat.holdings_show_vols","opac.staff_saved_search.size"]).then(function(n){l.staffCat.defaultSearchOrg=l.org.get(n["eg.search.search_lib"]),l.staffCat.prefOrg=l.org.get(n["eg.search.pref_lib"])})},l}(),Do=u("pKmL"),Lo=u("9RLy"),Eo=u("VEwP"),Jo=u("r2N+"),Fo=u("ZqI7"),Ho=u("MZHd"),Ao=u("EBEo"),No=u("zF8d"),Oo=u("MhCk"),Ro=function(){return function(){}}(),Go=function(){return function(){}}(),Uo=function(){return function(){}}(),jo=function(){return function(){}}(),Ko=function(){return function(){}}();u.d(n,"CatalogModuleNgFactory",function(){return $o});var $o=e.ob(t,[],function(l){return e.yb([e.zb(512,e.j,e.cb,[[8,[a.a,r.a,r.b,r.p,r.q,r.m,r.n,r.o,Jl,Nn,mr,Wr,mo,So]],[3,e.j],e.y]),e.zb(4608,i.r,i.q,[e.v,[2,i.N]]),e.zb(4608,o.D,o.D,[]),e.zb(4608,o.g,o.g,[]),e.zb(4608,c.B,c.B,[e.j,e.r,c.yb,c.C]),e.zb(4608,i.f,i.f,[e.v]),e.zb(4608,i.d,i.d,[e.v]),e.zb(4608,k.a,k.a,[]),e.zb(4608,S.a,S.a,[p.a,Q.b]),e.zb(4608,Po.a,Po.a,[h.a]),e.zb(4608,$l.a,$l.a,[W.a,Q.b,h.a,Po.a,wn.a]),e.zb(4608,X.a,X.a,[Q.b,wn.a,p.a,S.a]),e.zb(4608,q.a,q.a,[W.a,Q.b,h.a,Po.a,wn.a,$l.a,X.a]),e.zb(4608,_.a,_.a,[h.a]),e.zb(4608,M,M,[m.l,m.a,h.a,q.a,_.a]),e.zb(4608,To,To,[m.l,B.a,h.a,Q.b,d.a,q.a,M,X.a]),e.zb(4608,ka,ka,[Q.b,d.a,Z.a,S.a]),e.zb(4608,$e,$e,[Z.a,Q.b,d.a,$l.a]),e.zb(1073742336,i.c,i.c,[]),e.zb(1073742336,o.A,o.A,[]),e.zb(1073742336,o.l,o.l,[]),e.zb(1073742336,o.v,o.v,[]),e.zb(1073742336,m.o,m.o,[[2,m.u],[2,m.l]]),e.zb(1073742336,c.c,c.c,[]),e.zb(1073742336,c.f,c.f,[]),e.zb(1073742336,c.g,c.g,[]),e.zb(1073742336,c.k,c.k,[]),e.zb(1073742336,c.l,c.l,[]),e.zb(1073742336,c.s,c.s,[]),e.zb(1073742336,c.x,c.x,[]),e.zb(1073742336,c.D,c.D,[]),e.zb(1073742336,c.H,c.H,[]),e.zb(1073742336,c.O,c.O,[]),e.zb(1073742336,c.R,c.R,[]),e.zb(1073742336,c.U,c.U,[]),e.zb(1073742336,c.ab,c.ab,[]),e.zb(1073742336,c.eb,c.eb,[]),e.zb(1073742336,c.hb,c.hb,[]),e.zb(1073742336,c.kb,c.kb,[]),e.zb(1073742336,c.E,c.E,[]),e.zb(1073742336,Do.a,Do.a,[]),e.zb(1073742336,Lo.a,Lo.a,[]),e.zb(1073742336,Eo.a,Eo.a,[]),e.zb(1073742336,Jo.a,Jo.a,[]),e.zb(1073742336,Fo.a,Fo.a,[]),e.zb(1073742336,Ho.a,Ho.a,[]),e.zb(1073742336,Ao.a,Ao.a,[]),e.zb(1073742336,No.a,No.a,[]),e.zb(1073742336,Oo.a,Oo.a,[]),e.zb(1073742336,Ro,Ro,[]),e.zb(1073742336,Go,Go,[]),e.zb(1073742336,Uo,Uo,[]),e.zb(1073742336,jo,jo,[]),e.zb(1073742336,Ko,Ko,[]),e.zb(1073742336,t,t,[]),e.zb(1024,m.j,function(){return[[{path:"",component:Tl,resolve:{catResolver:To},children:[{path:"search",component:Bn},{path:"record/:id",component:tr},{path:"hold/:type",component:vr},{path:"record/:id/:tab",component:tr}]},{path:"browse",component:bo,resolve:{catResolver:To}},{path:"cnbrowse",component:qo,resolve:{catResolver:To}}]]},[])])})},"Id+k":function(l,n,u){"use strict";u.d(n,"a",function(){return t}),u.d(n,"b",function(){return r});var e=u("CcnG"),t=(u("eXX1"),u("9Zsr"),e.pb({encapsulation:2,styles:[],data:{}}));function a(l){return e.Lb(0,[(l()(),e.ib(0,null,null,0))],null,null)}function r(l){return e.Lb(0,[(l()(),e.ib(0,null,null,0,null,a))],null,null)}},WZ78:function(l,n,u){"use strict";u.d(n,"a",function(){return i}),u.d(n,"b",function(){return g});var e=u("CcnG"),t=u("Ip0R"),a=u("StZw"),r=u("tNQm"),o=u("G8BM"),i=(u("ayJW"),u("ZYjt"),e.pb({encapsulation:2,styles:[],data:{}}));function c(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.Jb(2,null,[""," - "])),e.Db(0,t.B,[])],null,function(l,n){l(n,2,0,e.Kb(n,2,0,e.Bb(n,3).transform(n.parent.parent.context.pfx,0,12)))})}function s(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.parent.parent.context.pfx)})}function b(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,c)),e.qb(2,16384,null,0,t.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,s)),e.qb(4,16384,null,0,t.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(0,null,null,0))],function(l,n){l(n,2,0,n.parent.context.sfx),l(n,4,0,!n.parent.context.sfx)},null)}function d(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.parent.context.sfx)})}function p(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Jb(-1,null,["Evergreen"]))],null,null)}function h(l){return e.Lb(0,[(l()(),e.ib(16777216,null,null,1,null,b)),e.qb(1,16384,null,0,t.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,d)),e.qb(3,16384,null,0,t.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,p)),e.qb(5,16384,null,0,t.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(0,null,null,0))],function(l,n){l(n,1,0,n.context.pfx),l(n,3,0,n.context.sfx),l(n,5,0,!n.context.pfx&&!n.context.sfx)},null)}function g(l){return e.Lb(0,[e.Hb(402653184,1,{titleString:0}),(l()(),e.ib(0,[["titleStringTmpl",2]],null,0,null,h)),(l()(),e.rb(2,0,null,null,1,"eg-string",[],null,null,null,a.b,a.a)),e.qb(3,114688,[[1,4],["titleString",4]],0,r.a,[e.k,o.a],{template:[0,"template"]},null)],function(l,n){l(n,3,0,e.Bb(n,1))},null)}},ayJW:function(l,n,u){"use strict";u.d(n,"a",function(){return e}),u("tNQm");var e=function(){function l(l){this.title=l}return Object.defineProperty(l.prototype,"prefix",{set:function(l){this.pfx=l,this.setTitle()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"suffix",{set:function(l){this.sfx=l,this.setTitle()},enumerable:!0,configurable:!0}),l.prototype.ngAfterViewInit=function(){this.initDone=!0,this.setTitle()},l.prototype.setTitle=function(){var l=this;this.initDone&&setTimeout(function(){l.titleString.current({pfx:l.pfx,sfx:l.sfx}).then(function(n){return l.title.setTitle(n)})})},l}()},dix8:function(l,n,u){"use strict";u.d(n,"a",function(){return o}),u.d(n,"b",function(){return i});var e=u("CcnG"),t=u("WZ78"),a=u("ayJW"),r=u("ZYjt"),o=(u("ufrD"),e.pb({encapsulation:2,styles:[],data:{}}));function i(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,"div",[["class","lead alert alert-primary text-center pt-1 pb-1"],["role","alert"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"eg-title",[],null,null,null,t.b,t.a)),e.qb(2,4243456,null,0,a.a,[r.h],{prefix:[0,"prefix"]},null),(l()(),e.rb(3,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(4,null,["",""]))],function(l,n){l(n,2,0,n.component.bannerText)},function(l,n){l(n,4,0,n.component.bannerText)})}},eXX1:function(l,n,u){"use strict";u.d(n,"a",function(){return a});var e=u("CcnG"),t=u("MWGh"),a=(u("9Zsr"),function(){function l(l){this.grid=l,this.onClick=new e.m,this.button=new t.e,this.button.onClick=this.onClick}return Object.defineProperty(l.prototype,"disabled",{set:function(l){this.button&&(this.button.disabled=l)},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){this.grid?(this.button.label=this.label,this.button.action=this.action,this.grid.context.toolbarButtons.push(this.button)):console.warn("GridToolbarButtonComponent needs a [grid]")},l}())},ufrD:function(l,n,u){"use strict";u.d(n,"a",function(){return e});var e=function(){return function(){}}()}}]);